"use strict";var pd=Object.create;var br=Object.defineProperty;var md=Object.getOwnPropertyDescriptor;var hd=Object.getOwnPropertyNames;var yd=Object.getPrototypeOf,bd=Object.prototype.hasOwnProperty;var $e=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),xd=(e,n)=>{for(var i in n)br(e,i,{get:n[i],enumerable:!0})},cc=(e,n,i,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of hd(n))!bd.call(e,r)&&r!==i&&br(e,r,{get:()=>n[r],enumerable:!(t=md(n,r))||t.enumerable});return e};var se=(e,n,i)=>(i=e!=null?pd(yd(e)):{},cc(n||!e||!e.__esModule?br(i,"default",{value:e,enumerable:!0}):i,e)),gd=e=>cc(br({},"__esModule",{value:!0}),e);var fc=$e((hm,sc)=>{"use strict";sc.exports=Ed;function Ed(e,n){for(var i=new Array(arguments.length-1),t=0,r=2,o=!0;r<arguments.length;)i[t++]=arguments[r++];return new Promise(function(c,a){i[t]=function(d){if(o)if(o=!1,d)a(d);else{for(var R=new Array(arguments.length-1),x=0;x<R.length;)R[x++]=arguments[x];c.apply(null,R)}};try{e.apply(n||null,i)}catch(u){o&&(o=!1,a(u))}})}});var pc=$e(lc=>{"use strict";var xr=lc;xr.length=function(n){var i=n.length;if(!i)return 0;for(var t=0;--i%4>1&&n.charAt(i)==="=";)++t;return Math.ceil(n.length*3)/4-t};var Ln=new Array(64),dc=new Array(123);for(kt=0;kt<64;)dc[Ln[kt]=kt<26?kt+65:kt<52?kt+71:kt<62?kt-4:kt-59|43]=kt++;var kt;xr.encode=function(n,i,t){for(var r=null,o=[],s=0,c=0,a;i<t;){var u=n[i++];switch(c){case 0:o[s++]=Ln[u>>2],a=(u&3)<<4,c=1;break;case 1:o[s++]=Ln[a|u>>4],a=(u&15)<<2,c=2;break;case 2:o[s++]=Ln[a|u>>6],o[s++]=Ln[u&63],c=0;break}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=Ln[a],o[s++]=61,c===1&&(o[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var uc="invalid encoding";xr.decode=function(n,i,t){for(var r=t,o=0,s,c=0;c<n.length;){var a=n.charCodeAt(c++);if(a===61&&o>1)break;if((a=dc[a])===void 0)throw Error(uc);switch(o){case 0:s=a,o=1;break;case 1:i[t++]=s<<2|(a&48)>>4,s=a,o=2;break;case 2:i[t++]=(s&15)<<4|(a&60)>>2,s=a,o=3;break;case 3:i[t++]=(s&3)<<6|a,o=0;break}}if(o===1)throw Error(uc);return t-r};xr.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}});var hc=$e((bm,mc)=>{"use strict";mc.exports=gr;function gr(){this._listeners={}}gr.prototype.on=function(n,i,t){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:i,ctx:t||this}),this};gr.prototype.off=function(n,i){if(n===void 0)this._listeners={};else if(i===void 0)this._listeners[n]=[];else for(var t=this._listeners[n],r=0;r<t.length;)t[r].fn===i?t.splice(r,1):++r;return this};gr.prototype.emit=function(n){var i=this._listeners[n];if(i){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);for(r=0;r<i.length;)i[r].fn.apply(i[r++].ctx,t)}return this}});var Sc=$e((xm,Tc)=>{"use strict";Tc.exports=yc(yc);function yc(e){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),i=new Uint8Array(n.buffer),t=i[3]===128;function r(a,u,d){n[0]=a,u[d]=i[0],u[d+1]=i[1],u[d+2]=i[2],u[d+3]=i[3]}function o(a,u,d){n[0]=a,u[d]=i[3],u[d+1]=i[2],u[d+2]=i[1],u[d+3]=i[0]}e.writeFloatLE=t?r:o,e.writeFloatBE=t?o:r;function s(a,u){return i[0]=a[u],i[1]=a[u+1],i[2]=a[u+2],i[3]=a[u+3],n[0]}function c(a,u){return i[3]=a[u],i[2]=a[u+1],i[1]=a[u+2],i[0]=a[u+3],n[0]}e.readFloatLE=t?s:c,e.readFloatBE=t?c:s}():function(){function n(t,r,o,s){var c=r<0?1:0;if(c&&(r=-r),r===0)t(1/r>0?0:2147483648,o,s);else if(isNaN(r))t(2143289344,o,s);else if(r>34028234663852886e22)t((c<<31|2139095040)>>>0,o,s);else if(r<11754943508222875e-54)t((c<<31|Math.round(r/1401298464324817e-60))>>>0,o,s);else{var a=Math.floor(Math.log(r)/Math.LN2),u=Math.round(r*Math.pow(2,-a)*8388608)&8388607;t((c<<31|a+127<<23|u)>>>0,o,s)}}e.writeFloatLE=n.bind(null,bc),e.writeFloatBE=n.bind(null,xc);function i(t,r,o){var s=t(r,o),c=(s>>31)*2+1,a=s>>>23&255,u=s&8388607;return a===255?u?NaN:c*(1/0):a===0?c*1401298464324817e-60*u:c*Math.pow(2,a-150)*(u+8388608)}e.readFloatLE=i.bind(null,gc),e.readFloatBE=i.bind(null,Ec)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),i=new Uint8Array(n.buffer),t=i[7]===128;function r(a,u,d){n[0]=a,u[d]=i[0],u[d+1]=i[1],u[d+2]=i[2],u[d+3]=i[3],u[d+4]=i[4],u[d+5]=i[5],u[d+6]=i[6],u[d+7]=i[7]}function o(a,u,d){n[0]=a,u[d]=i[7],u[d+1]=i[6],u[d+2]=i[5],u[d+3]=i[4],u[d+4]=i[3],u[d+5]=i[2],u[d+6]=i[1],u[d+7]=i[0]}e.writeDoubleLE=t?r:o,e.writeDoubleBE=t?o:r;function s(a,u){return i[0]=a[u],i[1]=a[u+1],i[2]=a[u+2],i[3]=a[u+3],i[4]=a[u+4],i[5]=a[u+5],i[6]=a[u+6],i[7]=a[u+7],n[0]}function c(a,u){return i[7]=a[u],i[6]=a[u+1],i[5]=a[u+2],i[4]=a[u+3],i[3]=a[u+4],i[2]=a[u+5],i[1]=a[u+6],i[0]=a[u+7],n[0]}e.readDoubleLE=t?s:c,e.readDoubleBE=t?c:s}():function(){function n(t,r,o,s,c,a){var u=s<0?1:0;if(u&&(s=-s),s===0)t(0,c,a+r),t(1/s>0?0:2147483648,c,a+o);else if(isNaN(s))t(0,c,a+r),t(2146959360,c,a+o);else if(s>17976931348623157e292)t(0,c,a+r),t((u<<31|2146435072)>>>0,c,a+o);else{var d;if(s<22250738585072014e-324)d=s/5e-324,t(d>>>0,c,a+r),t((u<<31|d/4294967296)>>>0,c,a+o);else{var R=Math.floor(Math.log(s)/Math.LN2);R===1024&&(R=1023),d=s*Math.pow(2,-R),t(d*4503599627370496>>>0,c,a+r),t((u<<31|R+1023<<20|d*1048576&1048575)>>>0,c,a+o)}}}e.writeDoubleLE=n.bind(null,bc,0,4),e.writeDoubleBE=n.bind(null,xc,4,0);function i(t,r,o,s,c){var a=t(s,c+r),u=t(s,c+o),d=(u>>31)*2+1,R=u>>>20&2047,x=4294967296*(u&1048575)+a;return R===2047?x?NaN:d*(1/0):R===0?d*5e-324*x:d*Math.pow(2,R-1075)*(x+4503599627370496)}e.readDoubleLE=i.bind(null,gc,0,4),e.readDoubleBE=i.bind(null,Ec,4,0)}(),e}function bc(e,n,i){n[i]=e&255,n[i+1]=e>>>8&255,n[i+2]=e>>>16&255,n[i+3]=e>>>24}function xc(e,n,i){n[i]=e>>>24,n[i+1]=e>>>16&255,n[i+2]=e>>>8&255,n[i+3]=e&255}function gc(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0}function Ec(e,n){return(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0}});var _c=$e((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Er=$e(Rc=>{"use strict";var ta=Rc;ta.length=function(n){for(var i=0,t=0,r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?i+=1:t<2048?i+=2:(t&64512)===55296&&(n.charCodeAt(r+1)&64512)===56320?(++r,i+=4):i+=3;return i};ta.read=function(n,i,t){var r=t-i;if(r<1)return"";for(var o=null,s=[],c=0,a;i<t;)a=n[i++],a<128?s[c++]=a:a>191&&a<224?s[c++]=(a&31)<<6|n[i++]&63:a>239&&a<365?(a=((a&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63)-65536,s[c++]=55296+(a>>10),s[c++]=56320+(a&1023)):s[c++]=(a&15)<<12|(n[i++]&63)<<6|n[i++]&63,c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),c=0);return o?(c&&o.push(String.fromCharCode.apply(String,s.slice(0,c))),o.join("")):String.fromCharCode.apply(String,s.slice(0,c))};ta.write=function(n,i,t){for(var r=t,o,s,c=0;c<n.length;++c)o=n.charCodeAt(c),o<128?i[t++]=o:o<2048?(i[t++]=o>>6|192,i[t++]=o&63|128):(o&64512)===55296&&((s=n.charCodeAt(c+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++c,i[t++]=o>>18|240,i[t++]=o>>12&63|128,i[t++]=o>>6&63|128,i[t++]=o&63|128):(i[t++]=o>>12|224,i[t++]=o>>6&63|128,i[t++]=o&63|128);return t-r}});var wc=$e((Em,kc)=>{"use strict";kc.exports=Td;function Td(e,n,i){var t=i||8192,r=t>>>1,o=null,s=t;return function(a){if(a<1||a>r)return e(a);s+a>t&&(o=e(t),s=0);var u=n.call(o,s,s+=a);return s&7&&(s=(s|7)+1),u}}});var Ic=$e((Tm,Ac)=>{"use strict";Ac.exports=Ye;var Wo=Xt();function Ye(e,n){this.lo=e>>>0,this.hi=n>>>0}var _n=Ye.zero=new Ye(0,0);_n.toNumber=function(){return 0};_n.zzEncode=_n.zzDecode=function(){return this};_n.length=function(){return 1};var Sd=Ye.zeroHash="\0\0\0\0\0\0\0\0";Ye.fromNumber=function(n){if(n===0)return _n;var i=n<0;i&&(n=-n);var t=n>>>0,r=(n-t)/4294967296>>>0;return i&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new Ye(t,r)};Ye.from=function(n){if(typeof n=="number")return Ye.fromNumber(n);if(Wo.isString(n))if(Wo.Long)n=Wo.Long.fromString(n);else return Ye.fromNumber(parseInt(n,10));return n.low||n.high?new Ye(n.low>>>0,n.high>>>0):_n};Ye.prototype.toNumber=function(n){if(!n&&this.hi>>>31){var i=~this.lo+1>>>0,t=~this.hi>>>0;return i||(t=t+1>>>0),-(i+t*4294967296)}return this.lo+this.hi*4294967296};Ye.prototype.toLong=function(n){return Wo.Long?new Wo.Long(this.lo|0,this.hi|0,!!n):{low:this.lo|0,high:this.hi|0,unsigned:!!n}};var Zt=String.prototype.charCodeAt;Ye.fromHash=function(n){return n===Sd?_n:new Ye((Zt.call(n,0)|Zt.call(n,1)<<8|Zt.call(n,2)<<16|Zt.call(n,3)<<24)>>>0,(Zt.call(n,4)|Zt.call(n,5)<<8|Zt.call(n,6)<<16|Zt.call(n,7)<<24)>>>0)};Ye.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ye.prototype.zzEncode=function(){var n=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^n)>>>0,this.lo=(this.lo<<1^n)>>>0,this};Ye.prototype.zzDecode=function(){var n=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^n)>>>0,this.hi=(this.hi>>>1^n)>>>0,this};Ye.prototype.length=function(){var n=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?i===0?n<16384?n<128?1:2:n<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:t<128?9:10}});var Xt=$e(na=>{"use strict";var Q=na;Q.asPromise=fc();Q.base64=pc();Q.EventEmitter=hc();Q.float=Sc();Q.inquire=_c();Q.utf8=Er();Q.pool=wc();Q.LongBits=Ic();Q.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Q.global=Q.isNode&&global||!1||typeof self<"u"&&self||na;Q.emptyArray=Object.freeze?Object.freeze([]):[];Q.emptyObject=Object.freeze?Object.freeze({}):{};Q.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};Q.isString=function(n){return typeof n=="string"||n instanceof String};Q.isObject=function(n){return n&&typeof n=="object"};Q.isset=Q.isSet=function(n,i){var t=n[i];return t!=null&&n.hasOwnProperty(i)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};Q.Buffer=function(){try{var e=Q.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();Q._Buffer_from=null;Q._Buffer_allocUnsafe=null;Q.newBuffer=function(n){return typeof n=="number"?Q.Buffer?Q._Buffer_allocUnsafe(n):new Q.Array(n):Q.Buffer?Q._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)};Q.Array=typeof Uint8Array<"u"?Uint8Array:Array;Q.Long=Q.global.dcodeIO&&Q.global.dcodeIO.Long||Q.global.Long||Q.inquire("long");Q.key2Re=/^true|false|0|1$/;Q.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Q.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Q.longToHash=function(n){return n?Q.LongBits.from(n).toHash():Q.LongBits.zeroHash};Q.longFromHash=function(n,i){var t=Q.LongBits.fromHash(n);return Q.Long?Q.Long.fromBits(t.lo,t.hi,i):t.toNumber(!!i)};function Nc(e,n,i){for(var t=Object.keys(n),r=0;r<t.length;++r)(e[t[r]]===void 0||!i)&&(e[t[r]]=n[t[r]]);return e}Q.merge=Nc;Q.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function Oc(e){function n(i,t){if(!(this instanceof n))return new n(i,t);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&Nc(this,t)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}Q.newError=Oc;Q.ProtocolError=Oc("ProtocolError");Q.oneOfGetter=function(n){for(var i={},t=0;t<n.length;++t)i[n[t]]=1;return function(){for(var r=Object.keys(this),o=r.length-1;o>-1;--o)if(i[r[o]]===1&&this[r[o]]!==void 0&&this[r[o]]!==null)return r[o]}};Q.oneOfSetter=function(n){return function(i){for(var t=0;t<n.length;++t)n[t]!==i&&delete this[n[t]]}};Q.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Q._configure=function(){var e=Q.Buffer;if(!e){Q._Buffer_from=Q._Buffer_allocUnsafe=null;return}Q._Buffer_from=e.from!==Uint8Array.from&&e.from||function(i,t){return new e(i,t)},Q._Buffer_allocUnsafe=e.allocUnsafe||function(i){return new e(i)}}});var fa=$e((_m,Mc)=>{"use strict";Mc.exports=xe;var Et=Xt(),oa,Tr=Et.LongBits,Cc=Et.base64,Bc=Et.utf8;function Vo(e,n,i){this.fn=e,this.len=n,this.next=void 0,this.val=i}function ia(){}function _d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function xe(){this.len=0,this.head=new Vo(ia,0,0),this.tail=this.head,this.states=null}var zc=function(){return Et.Buffer?function(){return(xe.create=function(){return new oa})()}:function(){return new xe}};xe.create=zc();xe.alloc=function(n){return new Et.Array(n)};Et.Array!==Array&&(xe.alloc=Et.pool(xe.alloc,Et.Array.prototype.subarray));xe.prototype._push=function(n,i,t){return this.tail=this.tail.next=new Vo(n,i,t),this.len+=i,this};function aa(e,n,i){n[i]=e&255}function Rd(e,n,i){for(;e>127;)n[i++]=e&127|128,e>>>=7;n[i]=e}function ca(e,n){this.len=e,this.next=void 0,this.val=n}ca.prototype=Object.create(Vo.prototype);ca.prototype.fn=Rd;xe.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new ca((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};xe.prototype.int32=function(n){return n<0?this._push(sa,10,Tr.fromNumber(n)):this.uint32(n)};xe.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)};function sa(e,n,i){for(;e.hi;)n[i++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)n[i++]=e.lo&127|128,e.lo=e.lo>>>7;n[i++]=e.lo}xe.prototype.uint64=function(n){var i=Tr.from(n);return this._push(sa,i.length(),i)};xe.prototype.int64=xe.prototype.uint64;xe.prototype.sint64=function(n){var i=Tr.from(n).zzEncode();return this._push(sa,i.length(),i)};xe.prototype.bool=function(n){return this._push(aa,1,n?1:0)};function ra(e,n,i){n[i]=e&255,n[i+1]=e>>>8&255,n[i+2]=e>>>16&255,n[i+3]=e>>>24}xe.prototype.fixed32=function(n){return this._push(ra,4,n>>>0)};xe.prototype.sfixed32=xe.prototype.fixed32;xe.prototype.fixed64=function(n){var i=Tr.from(n);return this._push(ra,4,i.lo)._push(ra,4,i.hi)};xe.prototype.sfixed64=xe.prototype.fixed64;xe.prototype.float=function(n){return this._push(Et.float.writeFloatLE,4,n)};xe.prototype.double=function(n){return this._push(Et.float.writeDoubleLE,8,n)};var kd=Et.Array.prototype.set?function(n,i,t){i.set(n,t)}:function(n,i,t){for(var r=0;r<n.length;++r)i[t+r]=n[r]};xe.prototype.bytes=function(n){var i=n.length>>>0;if(!i)return this._push(aa,1,0);if(Et.isString(n)){var t=xe.alloc(i=Cc.length(n));Cc.decode(n,t,0),n=t}return this.uint32(i)._push(kd,i,n)};xe.prototype.string=function(n){var i=Bc.length(n);return i?this.uint32(i)._push(Bc.write,i,n):this._push(aa,1,0)};xe.prototype.fork=function(){return this.states=new _d(this),this.head=this.tail=new Vo(ia,0,0),this.len=0,this};xe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Vo(ia,0,0),this.len=0),this};xe.prototype.ldelim=function(){var n=this.head,i=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=n.next,this.tail=i,this.len+=t),this};xe.prototype.finish=function(){for(var n=this.head.next,i=this.constructor.alloc(this.len),t=0;n;)n.fn(n.val,i,t),t+=n.len,n=n.next;return i};xe._configure=function(e){oa=e,xe.create=zc(),oa._configure()}});var Uc=$e((Rm,Pc)=>{"use strict";Pc.exports=zt;var vc=fa();(zt.prototype=Object.create(vc.prototype)).constructor=zt;var Kt=Xt();function zt(){vc.call(this)}zt._configure=function(){zt.alloc=Kt._Buffer_allocUnsafe,zt.writeBytesBuffer=Kt.Buffer&&Kt.Buffer.prototype instanceof Uint8Array&&Kt.Buffer.prototype.set.name==="set"?function(n,i,t){i.set(n,t)}:function(n,i,t){if(n.copy)n.copy(i,t,0,n.length);else for(var r=0;r<n.length;)i[t++]=n[r++]}};zt.prototype.bytes=function(n){Kt.isString(n)&&(n=Kt._Buffer_from(n,"base64"));var i=n.length>>>0;return this.uint32(i),i&&this._push(zt.writeBytesBuffer,i,n),this};function wd(e,n,i){e.length<40?Kt.utf8.write(e,n,i):n.utf8Write?n.utf8Write(e,i):n.write(e,i)}zt.prototype.string=function(n){var i=Kt.Buffer.byteLength(n);return this.uint32(i),i&&this._push(wd,i,n),this};zt._configure()});var la=$e((km,Vc)=>{"use strict";Vc.exports=Ve;var wt=Xt(),da,Dc=wt.LongBits,Ad=wt.utf8;function At(e,n){return RangeError("index out of range: "+e.pos+" + "+(n||1)+" > "+e.len)}function Ve(e){this.buf=e,this.pos=0,this.len=e.length}var Fc=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new Ve(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new Ve(n);throw Error("illegal buffer")},Wc=function(){return wt.Buffer?function(i){return(Ve.create=function(r){return wt.Buffer.isBuffer(r)?new da(r):Fc(r)})(i)}:Fc};Ve.create=Wc();Ve.prototype._slice=wt.Array.prototype.subarray||wt.Array.prototype.slice;Ve.prototype.uint32=function(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,At(this,10);return n}}();Ve.prototype.int32=function(){return this.uint32()|0};Ve.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(n&1)|0};function ua(){var e=new Dc(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw At(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,e}if(this.len-this.pos>4){for(;n<5;++n)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;n<5;++n){if(this.pos>=this.len)throw At(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Ve.prototype.bool=function(){return this.uint32()!==0};function Sr(e,n){return(e[n-4]|e[n-3]<<8|e[n-2]<<16|e[n-1]<<24)>>>0}Ve.prototype.fixed32=function(){if(this.pos+4>this.len)throw At(this,4);return Sr(this.buf,this.pos+=4)};Ve.prototype.sfixed32=function(){if(this.pos+4>this.len)throw At(this,4);return Sr(this.buf,this.pos+=4)|0};function Lc(){if(this.pos+8>this.len)throw At(this,8);return new Dc(Sr(this.buf,this.pos+=4),Sr(this.buf,this.pos+=4))}Ve.prototype.float=function(){if(this.pos+4>this.len)throw At(this,4);var n=wt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};Ve.prototype.double=function(){if(this.pos+8>this.len)throw At(this,4);var n=wt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};Ve.prototype.bytes=function(){var n=this.uint32(),i=this.pos,t=this.pos+n;if(t>this.len)throw At(this,n);if(this.pos+=n,Array.isArray(this.buf))return this.buf.slice(i,t);if(i===t){var r=wt.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,i,t)};Ve.prototype.string=function(){var n=this.bytes();return Ad.read(n,0,n.length)};Ve.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw At(this,n);this.pos+=n}else do if(this.pos>=this.len)throw At(this);while(this.buf[this.pos++]&128);return this};Ve.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Ve._configure=function(e){da=e,Ve.create=Wc(),da._configure();var n=wt.Long?"toLong":"toNumber";wt.merge(Ve.prototype,{int64:function(){return ua.call(this)[n](!1)},uint64:function(){return ua.call(this)[n](!0)},sint64:function(){return ua.call(this).zzDecode()[n](!1)},fixed64:function(){return Lc.call(this)[n](!0)},sfixed64:function(){return Lc.call(this)[n](!1)}})}});var jc=$e((wm,qc)=>{"use strict";qc.exports=Rn;var Gc=la();(Rn.prototype=Object.create(Gc.prototype)).constructor=Rn;var Hc=Xt();function Rn(e){Gc.call(this,e)}Rn._configure=function(){Hc.Buffer&&(Rn.prototype._slice=Hc.Buffer.prototype.slice)};Rn.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};Rn._configure()});var Yc=$e((Am,$c)=>{"use strict";$c.exports=Ho;var pa=Xt();(Ho.prototype=Object.create(pa.EventEmitter.prototype)).constructor=Ho;function Ho(e,n,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");pa.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!i}Ho.prototype.rpcCall=function e(n,i,t,r,o){if(!r)throw TypeError("request must be specified");var s=this;if(!o)return pa.asPromise(e,s,n,i,t,r);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(n,i[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(a,u){if(a)return s.emit("error",a,n),o(a);if(u===null){s.end(!0);return}if(!(u instanceof t))try{u=t[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(d){return s.emit("error",d,n),o(d)}return s.emit("data",u,n),o(null,u)})}catch(c){s.emit("error",c,n),setTimeout(function(){o(c)},0);return}};Ho.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Zc=$e(Jc=>{"use strict";var Id=Jc;Id.Service=Yc()});var Kc=$e((Nm,Xc)=>{"use strict";Xc.exports={}});var ts=$e(es=>{"use strict";var rt=es;rt.build="minimal";rt.Writer=fa();rt.BufferWriter=Uc();rt.Reader=la();rt.BufferReader=jc();rt.util=Xt();rt.rpc=Zc();rt.roots=Kc();rt.configure=Qc;function Qc(){rt.util._configure(),rt.Writer._configure(rt.BufferWriter),rt.Reader._configure(rt.BufferReader)}Qc()});var ue=$e((Cm,ns)=>{"use strict";ns.exports=ts()});var pm={};xd(pm,{addCommsTransport:()=>um,main:()=>Li,onStart:()=>lm,onUpdate:()=>dm,rendererTransport:()=>Wi});module.exports=gd(pm);var kn=se(ue());function Nd(){return{states:[]}}var Dn;(function(e){function n(t,r=kn.default.Writer.create()){for(let o of t.states)_r.encode(o,r.uint32(10).fork()).ldelim();return r}e.encode=n;function i(t,r){let o=t instanceof kn.default.Reader?t:kn.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Nd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.states.push(_r.decode(o,o.uint32()));continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Dn||(Dn={}));function Od(){return{name:"",clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var _r;(function(e){function n(t,r=kn.default.Writer.create()){return t.name!==""&&r.uint32(10).string(t.name),t.clip!==""&&r.uint32(18).string(t.clip),t.playing!==void 0&&r.uint32(24).bool(t.playing),t.weight!==void 0&&r.uint32(37).float(t.weight),t.speed!==void 0&&r.uint32(45).float(t.speed),t.loop!==void 0&&r.uint32(48).bool(t.loop),t.shouldReset!==void 0&&r.uint32(56).bool(t.shouldReset),r}e.encode=n;function i(t,r){let o=t instanceof kn.default.Reader?t:kn.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Od();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.name=o.string();continue;case 2:if(a!==18)break;c.clip=o.string();continue;case 3:if(a!==24)break;c.playing=o.bool();continue;case 4:if(a!==37)break;c.weight=o.float();continue;case 5:if(a!==45)break;c.speed=o.float();continue;case 6:if(a!==48)break;c.loop=o.bool();continue;case 7:if(a!==56)break;c.shouldReset=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(_r||(_r={}));var os={COMPONENT_ID:1042,serialize(e,n){let i=Dn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Dn.decode(e.buffer(),e.remainingBytes())},create(){return Dn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var Rr=se(ue());function Cd(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:""}}var Wn;(function(e){function n(t,r=Rr.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.loop!==void 0&&r.uint32(24).bool(t.loop),t.pitch!==void 0&&r.uint32(37).float(t.pitch),t.audioClipUrl!==""&&r.uint32(42).string(t.audioClipUrl),r}e.encode=n;function i(t,r){let o=t instanceof Rr.default.Reader?t:Rr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Cd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.playing=o.bool();continue;case 2:if(a!==21)break;c.volume=o.float();continue;case 3:if(a!==24)break;c.loop=o.bool();continue;case 4:if(a!==37)break;c.pitch=o.float();continue;case 5:if(a!==42)break;c.audioClipUrl=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Wn||(Wn={}));var rs={COMPONENT_ID:1020,serialize(e,n){let i=Wn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Wn.decode(e.buffer(),e.remainingBytes())},create(){return Wn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var kr=se(ue());function Bd(){return{playing:void 0,volume:void 0,url:""}}var Vn;(function(e){function n(t,r=kr.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.url!==""&&r.uint32(26).string(t.url),r}e.encode=n;function i(t,r){let o=t instanceof kr.default.Reader?t:kr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Bd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.playing=o.bool();continue;case 2:if(a!==21)break;c.volume=o.float();continue;case 3:if(a!==26)break;c.url=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Vn||(Vn={}));var is={COMPONENT_ID:1021,serialize(e,n){let i=Vn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Vn.decode(e.buffer(),e.remainingBytes())},create(){return Vn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var wr=se(ue());var as;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND"})(as||(as={}));function zd(){return{avatarId:void 0,anchorPointId:0}}var Hn;(function(e){function n(t,r=wr.default.Writer.create()){return t.avatarId!==void 0&&r.uint32(10).string(t.avatarId),t.anchorPointId!==0&&r.uint32(16).int32(t.anchorPointId),r}e.encode=n;function i(t,r){let o=t instanceof wr.default.Reader?t:wr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=zd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.avatarId=o.string();continue;case 2:if(a!==16)break;c.anchorPointId=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Hn||(Hn={}));var cs={COMPONENT_ID:1073,serialize(e,n){let i=Hn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Hn.decode(e.buffer(),e.remainingBytes())},create(){return Hn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var Ar=se(ue());var wn=se(ue());function Md(){return{r:0,g:0,b:0}}var Ie;(function(e){function n(t,r=wn.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),r}e.encode=n;function i(t,r){let o=t instanceof wn.default.Reader?t:wn.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Md();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.r=o.float();continue;case 2:if(a!==21)break;c.g=o.float();continue;case 3:if(a!==29)break;c.b=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Ie||(Ie={}));function vd(){return{r:0,g:0,b:0,a:0}}var Me;(function(e){function n(t,r=wn.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),t.a!==0&&r.uint32(37).float(t.a),r}e.encode=n;function i(t,r){let o=t instanceof wn.default.Reader?t:wn.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=vd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.r=o.float();continue;case 2:if(a!==21)break;c.g=o.float();continue;case 3:if(a!==29)break;c.b=o.float();continue;case 4:if(a!==37)break;c.a=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Me||(Me={}));function Pd(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}var Gn;(function(e){function n(t,r=Ar.default.Writer.create()){return t.skinColor!==void 0&&Ie.encode(t.skinColor,r.uint32(10).fork()).ldelim(),t.eyesColor!==void 0&&Ie.encode(t.eyesColor,r.uint32(18).fork()).ldelim(),t.hairColor!==void 0&&Ie.encode(t.hairColor,r.uint32(26).fork()).ldelim(),t.bodyShapeUrn!==""&&r.uint32(34).string(t.bodyShapeUrn),t.name!==""&&r.uint32(42).string(t.name),r}e.encode=n;function i(t,r){let o=t instanceof Ar.default.Reader?t:Ar.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Pd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.skinColor=Ie.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.eyesColor=Ie.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.hairColor=Ie.decode(o,o.uint32());continue;case 4:if(a!==34)break;c.bodyShapeUrn=o.string();continue;case 5:if(a!==42)break;c.name=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Gn||(Gn={}));var ss={COMPONENT_ID:1087,serialize(e,n){let i=Gn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Gn.decode(e.buffer(),e.remainingBytes())},create(){return Gn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};var An=se(ue());function Ud(){return{emoteCommand:void 0}}var qn;(function(e){function n(t,r=An.default.Writer.create()){return t.emoteCommand!==void 0&&Ir.encode(t.emoteCommand,r.uint32(10).fork()).ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof An.default.Reader?t:An.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Ud();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.emoteCommand=Ir.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(qn||(qn={}));function Fd(){return{emoteUrn:"",loop:!1}}var Ir;(function(e){function n(t,r=An.default.Writer.create()){return t.emoteUrn!==""&&r.uint32(10).string(t.emoteUrn),t.loop===!0&&r.uint32(16).bool(t.loop),r}e.encode=n;function i(t,r){let o=t instanceof An.default.Reader?t:An.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Fd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.emoteUrn=o.string();continue;case 2:if(a!==16)break;c.loop=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Ir||(Ir={}));var fs={COMPONENT_ID:1088,serialize(e,n){let i=qn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return qn.decode(e.buffer(),e.remainingBytes())},create(){return qn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};var Nr=se(ue());function Ld(){return{wearableUrns:[],emotesUrns:[]}}var jn;(function(e){function n(t,r=Nr.default.Writer.create()){for(let o of t.wearableUrns)r.uint32(10).string(o);for(let o of t.emotesUrns)r.uint32(18).string(o);return r}e.encode=n;function i(t,r){let o=t instanceof Nr.default.Reader?t:Nr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Ld();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.wearableUrns.push(o.string());continue;case 2:if(a!==18)break;c.emotesUrns.push(o.string());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(jn||(jn={}));var us={COMPONENT_ID:1091,serialize(e,n){let i=jn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return jn.decode(e.buffer(),e.remainingBytes())},create(){return jn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};var Or=se(ue());var ut=se(ue());function Dd(){return{x:0,y:0,z:0}}var ds;(function(e){function n(t,r=ut.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=n;function i(t,r){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Dd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.z=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ds||(ds={}));function Wd(){return{x:0,y:0,z:0}}var Se;(function(e){function n(t,r=ut.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=n;function i(t,r){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Wd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.z=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Se||(Se={}));function Vd(){return{x:0,y:0}}var ls;(function(e){function n(t,r=ut.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),r}e.encode=n;function i(t,r){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Vd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ls||(ls={}));function Hd(){return{x:0,y:0,z:0,w:0}}var ps;(function(e){function n(t,r=ut.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),t.w!==0&&r.uint32(37).float(t.w),r}e.encode=n;function i(t,r){let o=t instanceof ut.default.Reader?t:ut.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Hd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.z=o.float();continue;case 4:if(a!==37)break;c.w=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ps||(ps={}));var ms;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(ms||(ms={}));function Gd(){return{area:void 0,excludeIds:[],modifiers:[]}}var $n;(function(e){function n(t,r=Or.default.Writer.create()){t.area!==void 0&&Se.encode(t.area,r.uint32(10).fork()).ldelim();for(let o of t.excludeIds)r.uint32(18).string(o);r.uint32(26).fork();for(let o of t.modifiers)r.int32(o);return r.ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof Or.default.Reader?t:Or.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Gd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.area=Se.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.excludeIds.push(o.string());continue;case 3:if(a===24){c.modifiers.push(o.int32());continue}if(a===26){let u=o.uint32()+o.pos;for(;o.pos<u;)c.modifiers.push(o.int32());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})($n||($n={}));var hs={COMPONENT_ID:1070,serialize(e,n){let i=$n.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return $n.decode(e.buffer(),e.remainingBytes())},create(){return $n.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Tt=null;try{Tt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Oe(e,n,i){this.low=e|0,this.high=n|0,this.unsigned=!!i}Oe.prototype.__isLong__;Object.defineProperty(Oe.prototype,"__isLong__",{value:!0});function Qe(e){return(e&&e.__isLong__)===!0}function ys(e){var n=Math.clz32(e&-e);return e?31-n:n}Oe.isLong=Qe;var bs={},xs={};function In(e,n){var i,t,r;return n?(e>>>=0,(r=0<=e&&e<256)&&(t=xs[e],t)?t:(i=ge(e,0,!0),r&&(xs[e]=i),i)):(e|=0,(r=-128<=e&&e<128)&&(t=bs[e],t)?t:(i=ge(e,e<0?-1:0,!1),r&&(bs[e]=i),i))}Oe.fromInt=In;function St(e,n){if(isNaN(e))return n?Gt:It;if(n){if(e<0)return Gt;if(e>=Ss)return ks}else{if(e<=-Es)return it;if(e+1>=Es)return Rs}return e<0?St(-e,n).neg():ge(e%Jn|0,e/Jn|0,n)}Oe.fromNumber=St;function ge(e,n,i){return new Oe(e,n,i)}Oe.fromBits=ge;var Cr=Math.pow;function ha(e,n,i){if(e.length===0)throw Error("empty string");if(typeof n=="number"?(i=n,n=!1):n=!!n,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return n?Gt:It;if(i=i||10,i<2||36<i)throw RangeError("radix");var t;if((t=e.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return ha(e.substring(1),n,i).neg();for(var r=St(Cr(i,8)),o=It,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+c),i);if(c<8){var u=St(Cr(i,c));o=o.mul(u).add(St(a))}else o=o.mul(r),o=o.add(St(a))}return o.unsigned=n,o}Oe.fromString=ha;function Nt(e,n){return typeof e=="number"?St(e,n):typeof e=="string"?ha(e,n):ge(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}Oe.fromValue=Nt;var gs=65536,qd=1<<24,Jn=gs*gs,Ss=Jn*Jn,Es=Ss/2,Ts=In(qd),It=In(0);Oe.ZERO=It;var Gt=In(0,!0);Oe.UZERO=Gt;var Yn=In(1);Oe.ONE=Yn;var _s=In(1,!0);Oe.UONE=_s;var ma=In(-1);Oe.NEG_ONE=ma;var Rs=ge(-1,2147483647,!1);Oe.MAX_VALUE=Rs;var ks=ge(-1,-1,!0);Oe.MAX_UNSIGNED_VALUE=ks;var it=ge(0,-2147483648,!1);Oe.MIN_VALUE=it;var D=Oe.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*Jn+(this.low>>>0):this.high*Jn+(this.low>>>0)};D.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(it)){var i=St(n),t=this.div(i),r=t.mul(i).sub(this);return t.toString(n)+r.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var o=St(Cr(n,6),this.unsigned),s=this,c="";;){var a=s.div(o),u=s.sub(a.mul(o)).toInt()>>>0,d=u.toString(n);if(s=a,s.isZero())return d+c;for(;d.length<6;)d="0"+d;c=""+d+c}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(it)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,i=31;i>0&&!(n&1<<i);i--);return this.high!=0?i+33:i+1};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(n){return Qe(n)||(n=Nt(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};D.eq=D.equals;D.notEquals=function(n){return!this.eq(n)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(n){return this.comp(n)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(n){return this.comp(n)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(n){return this.comp(n)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(n){return this.comp(n)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(n){if(Qe(n)||(n=Nt(n)),this.eq(n))return 0;var i=this.isNegative(),t=n.isNegative();return i&&!t?-1:!i&&t?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(it)?it:this.not().add(Yn)};D.neg=D.negate;D.add=function(n){Qe(n)||(n=Nt(n));var i=this.high>>>16,t=this.high&65535,r=this.low>>>16,o=this.low&65535,s=n.high>>>16,c=n.high&65535,a=n.low>>>16,u=n.low&65535,d=0,R=0,x=0,F=0;return F+=o+u,x+=F>>>16,F&=65535,x+=r+a,R+=x>>>16,x&=65535,R+=t+c,d+=R>>>16,R&=65535,d+=i+s,d&=65535,ge(x<<16|F,d<<16|R,this.unsigned)};D.subtract=function(n){return Qe(n)||(n=Nt(n)),this.add(n.neg())};D.sub=D.subtract;D.multiply=function(n){if(this.isZero())return this;if(Qe(n)||(n=Nt(n)),Tt){var i=Tt.mul(this.low,this.high,n.low,n.high);return ge(i,Tt.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Gt:It;if(this.eq(it))return n.isOdd()?it:It;if(n.eq(it))return this.isOdd()?it:It;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Ts)&&n.lt(Ts))return St(this.toNumber()*n.toNumber(),this.unsigned);var t=this.high>>>16,r=this.high&65535,o=this.low>>>16,s=this.low&65535,c=n.high>>>16,a=n.high&65535,u=n.low>>>16,d=n.low&65535,R=0,x=0,F=0,b=0;return b+=s*d,F+=b>>>16,b&=65535,F+=o*d,x+=F>>>16,F&=65535,F+=s*u,x+=F>>>16,F&=65535,x+=r*d,R+=x>>>16,x&=65535,x+=o*u,R+=x>>>16,x&=65535,x+=s*a,R+=x>>>16,x&=65535,R+=t*d+r*u+o*a+s*c,R&=65535,ge(F<<16|b,R<<16|x,this.unsigned)};D.mul=D.multiply;D.divide=function(n){if(Qe(n)||(n=Nt(n)),n.isZero())throw Error("division by zero");if(Tt){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var i=(this.unsigned?Tt.div_u:Tt.div_s)(this.low,this.high,n.low,n.high);return ge(i,Tt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Gt:It;var t,r,o;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Gt;if(n.gt(this.shru(1)))return _s;o=Gt}else{if(this.eq(it)){if(n.eq(Yn)||n.eq(ma))return it;if(n.eq(it))return Yn;var s=this.shr(1);return t=s.div(n).shl(1),t.eq(It)?n.isNegative()?Yn:ma:(r=this.sub(n.mul(t)),o=t.add(r.div(n)),o)}else if(n.eq(it))return this.unsigned?Gt:It;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();o=It}for(r=this;r.gte(n);){t=Math.max(1,Math.floor(r.toNumber()/n.toNumber()));for(var c=Math.ceil(Math.log(t)/Math.LN2),a=c<=48?1:Cr(2,c-48),u=St(t),d=u.mul(n);d.isNegative()||d.gt(r);)t-=a,u=St(t,this.unsigned),d=u.mul(n);u.isZero()&&(u=Yn),o=o.add(u),r=r.sub(d)}return o};D.div=D.divide;D.modulo=function(n){if(Qe(n)||(n=Nt(n)),Tt){var i=(this.unsigned?Tt.rem_u:Tt.rem_s)(this.low,this.high,n.low,n.high);return ge(i,Tt.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return ge(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?ys(this.low):ys(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(n){return Qe(n)||(n=Nt(n)),ge(this.low&n.low,this.high&n.high,this.unsigned)};D.or=function(n){return Qe(n)||(n=Nt(n)),ge(this.low|n.low,this.high|n.high,this.unsigned)};D.xor=function(n){return Qe(n)||(n=Nt(n)),ge(this.low^n.low,this.high^n.high,this.unsigned)};D.shiftLeft=function(n){return Qe(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?ge(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):ge(0,this.low<<n-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(n){return Qe(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?ge(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):ge(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(n){return Qe(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?ge(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?ge(this.high,0,this.unsigned):ge(this.high>>>n-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(n){var i;return Qe(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?ge(this.high,this.low,this.unsigned):n<32?(i=32-n,ge(this.low<<n|this.high>>>i,this.high<<n|this.low>>>i,this.unsigned)):(n-=32,i=32-n,ge(this.high<<n|this.low>>>i,this.low<<n|this.high>>>i,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(n){var i;return Qe(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?ge(this.high,this.low,this.unsigned):n<32?(i=32-n,ge(this.high<<i|this.low>>>n,this.low<<i|this.high>>>n,this.unsigned)):(n-=32,i=32-n,ge(this.low<<i|this.high>>>n,this.high<<i|this.low>>>n,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?ge(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:ge(this.low,this.high,!0)};D.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var n=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};D.toBytesBE=function(){var n=this.high,i=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,i>>>24,i>>>16&255,i>>>8&255,i&255]};Oe.fromBytes=function(n,i,t){return t?Oe.fromBytesLE(n,i):Oe.fromBytesBE(n,i)};Oe.fromBytesLE=function(n,i){return new Oe(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,i)};Oe.fromBytesBE=function(n,i){return new Oe(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],i)};var ya=Oe;var Nn=se(ue());function jd(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var Zn;(function(e){function n(t,r=Nn.default.Writer.create()){t.id!==""&&r.uint32(10).string(t.id),t.name!==void 0&&r.uint32(18).string(t.name),t.bodyShape!==void 0&&r.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&Ie.encode(t.skinColor,r.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&Ie.encode(t.hairColor,r.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&Ie.encode(t.eyeColor,r.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&r.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&r.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&r.uint32(72).bool(t.talking);for(let o of t.wearables)r.uint32(82).string(o);for(let o of t.emotes)r.uint32(90).string(o);return r}e.encode=n;function i(t,r){let o=t instanceof Nn.default.Reader?t:Nn.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=jd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.id=o.string();continue;case 2:if(a!==18)break;c.name=o.string();continue;case 3:if(a!==26)break;c.bodyShape=o.string();continue;case 4:if(a!==34)break;c.skinColor=Ie.decode(o,o.uint32());continue;case 5:if(a!==42)break;c.hairColor=Ie.decode(o,o.uint32());continue;case 6:if(a!==50)break;c.eyeColor=Ie.decode(o,o.uint32());continue;case 7:if(a!==58)break;c.expressionTriggerId=o.string();continue;case 8:if(a!==64)break;c.expressionTriggerTimestamp=Yd(o.int64());continue;case 9:if(a!==72)break;c.talking=o.bool();continue;case 10:if(a!==82)break;c.wearables.push(o.string());continue;case 11:if(a!==90)break;c.emotes.push(o.string());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Zn||(Zn={}));var $d=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Yd(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new $d.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}Nn.default.util.Long!==ya&&(Nn.default.util.Long=ya,Nn.default.configure());var ws={COMPONENT_ID:1080,serialize(e,n){let i=Zn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Zn.decode(e.buffer(),e.remainingBytes())},create(){return Zn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var Br=se(ue());var As;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(As||(As={}));function Jd(){return{billboardMode:void 0}}var Xn;(function(e){function n(t,r=Br.default.Writer.create()){return t.billboardMode!==void 0&&r.uint32(8).int32(t.billboardMode),r}e.encode=n;function i(t,r){let o=t instanceof Br.default.Reader?t:Br.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Jd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.billboardMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Xn||(Xn={}));var Is={COMPONENT_ID:1090,serialize(e,n){let i=Xn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Xn.decode(e.buffer(),e.remainingBytes())},create(){return Xn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var zr=se(ue());function Zd(){return{mode:0}}var Kn;(function(e){function n(t,r=zr.default.Writer.create()){return t.mode!==0&&r.uint32(8).int32(t.mode),r}e.encode=n;function i(t,r){let o=t instanceof zr.default.Reader?t:zr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Zd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.mode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Kn||(Kn={}));var Ns={COMPONENT_ID:1072,serialize(e,n){let i=Kn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Kn.decode(e.buffer(),e.remainingBytes())},create(){return Kn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var Mr=se(ue());function Xd(){return{area:void 0,mode:0}}var Qn;(function(e){function n(t,r=Mr.default.Writer.create()){return t.area!==void 0&&Se.encode(t.area,r.uint32(10).fork()).ldelim(),t.mode!==0&&r.uint32(16).int32(t.mode),r}e.encode=n;function i(t,r){let o=t instanceof Mr.default.Reader?t:Mr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Xd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.area=Se.decode(o,o.uint32());continue;case 2:if(a!==16)break;c.mode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Qn||(Qn={}));var Os={COMPONENT_ID:1071,serialize(e,n){let i=Qn.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Qn.decode(e.buffer(),e.remainingBytes())},create(){return Qn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var vr=se(ue());function Kd(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var eo;(function(e){function n(t,r=vr.default.Writer.create()){return t.frameNumber!==0&&r.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&r.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&r.uint32(24).uint32(t.tickNumber),r}e.encode=n;function i(t,r){let o=t instanceof vr.default.Reader?t:vr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Kd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.frameNumber=o.uint32();continue;case 2:if(a!==21)break;c.totalRuntime=o.float();continue;case 3:if(a!==24)break;c.tickNumber=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(eo||(eo={}));var Cs={COMPONENT_ID:1048,serialize(e,n){let i=eo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return eo.decode(e.buffer(),e.remainingBytes())},create(){return eo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var Pr=se(ue());function Qd(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var to;(function(e){function n(t,r=Pr.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&r.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&r.uint32(40).uint32(t.invisibleMeshesCollisionMask),r}e.encode=n;function i(t,r){let o=t instanceof Pr.default.Reader?t:Pr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Qd();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.src=o.string();continue;case 4:if(a!==32)break;c.visibleMeshesCollisionMask=o.uint32();continue;case 5:if(a!==40)break;c.invisibleMeshesCollisionMask=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(to||(to={}));var Bs={COMPONENT_ID:1041,serialize(e,n){let i=to.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return to.decode(e.buffer(),e.remainingBytes())},create(){return to.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Ur=se(ue());function el(){return{currentState:0}}var no;(function(e){function n(t,r=Ur.default.Writer.create()){return t.currentState!==0&&r.uint32(8).int32(t.currentState),r}e.encode=n;function i(t,r){let o=t instanceof Ur.default.Reader?t:Ur.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=el();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.currentState=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(no||(no={}));var zs={COMPONENT_ID:1049,serialize(e,n){let i=no.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return no.decode(e.buffer(),e.remainingBytes())},create(){return no.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var Mt=se(ue());var dt=se(ue());var Ms;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(Ms||(Ms={}));var vs;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(vs||(vs={}));function tl(){return{src:"",wrapMode:void 0,filterMode:void 0}}var Fr;(function(e){function n(t,r=dt.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=n;function i(t,r){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=tl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.src=o.string();continue;case 2:if(a!==16)break;c.wrapMode=o.int32();continue;case 3:if(a!==24)break;c.filterMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Fr||(Fr={}));function nl(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var Lr;(function(e){function n(t,r=dt.default.Writer.create()){return t.userId!==""&&r.uint32(10).string(t.userId),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=n;function i(t,r){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=nl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.userId=o.string();continue;case 2:if(a!==16)break;c.wrapMode=o.int32();continue;case 3:if(a!==24)break;c.filterMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Lr||(Lr={}));function ol(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var Dr;(function(e){function n(t,r=dt.default.Writer.create()){return t.videoPlayerEntity!==0&&r.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=n;function i(t,r){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=ol();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.videoPlayerEntity=o.uint32();continue;case 2:if(a!==16)break;c.wrapMode=o.int32();continue;case 3:if(a!==24)break;c.filterMode=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Dr||(Dr={}));function rl(){return{tex:void 0}}var et;(function(e){function n(t,r=dt.default.Writer.create()){switch(t.tex?.$case){case"texture":Fr.encode(t.tex.texture,r.uint32(10).fork()).ldelim();break;case"avatarTexture":Lr.encode(t.tex.avatarTexture,r.uint32(18).fork()).ldelim();break;case"videoTexture":Dr.encode(t.tex.videoTexture,r.uint32(26).fork()).ldelim();break}return r}e.encode=n;function i(t,r){let o=t instanceof dt.default.Reader?t:dt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=rl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.tex={$case:"texture",texture:Fr.decode(o,o.uint32())};continue;case 2:if(a!==18)break;c.tex={$case:"avatarTexture",avatarTexture:Lr.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.tex={$case:"videoTexture",videoTexture:Dr.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(et||(et={}));var Ps;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(Ps||(Ps={}));function il(){return{material:void 0}}var oo;(function(e){function n(t,r=Mt.default.Writer.create()){switch(t.material?.$case){case"unlit":Wr.encode(t.material.unlit,r.uint32(10).fork()).ldelim();break;case"pbr":Vr.encode(t.material.pbr,r.uint32(18).fork()).ldelim();break}return r}e.encode=n;function i(t,r){let o=t instanceof Mt.default.Reader?t:Mt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=il();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.material={$case:"unlit",unlit:Wr.decode(o,o.uint32())};continue;case 2:if(a!==18)break;c.material={$case:"pbr",pbr:Vr.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(oo||(oo={}));function al(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0}}var Wr;(function(e){function n(t,r=Mt.default.Writer.create()){return t.texture!==void 0&&et.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&Me.encode(t.diffuseColor,r.uint32(34).fork()).ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof Mt.default.Reader?t:Mt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=al();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.texture=et.decode(o,o.uint32());continue;case 2:if(a!==21)break;c.alphaTest=o.float();continue;case 3:if(a!==24)break;c.castShadows=o.bool();continue;case 4:if(a!==34)break;c.diffuseColor=Me.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Wr||(Wr={}));function cl(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var Vr;(function(e){function n(t,r=Mt.default.Writer.create()){return t.texture!==void 0&&et.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&et.encode(t.alphaTexture,r.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&et.encode(t.emissiveTexture,r.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&et.encode(t.bumpTexture,r.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&Me.encode(t.albedoColor,r.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&Ie.encode(t.emissiveColor,r.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&Ie.encode(t.reflectivityColor,r.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&r.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&r.uint32(93).float(t.metallic),t.roughness!==void 0&&r.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&r.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&r.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&r.uint32(133).float(t.directIntensity),r}e.encode=n;function i(t,r){let o=t instanceof Mt.default.Reader?t:Mt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=cl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.texture=et.decode(o,o.uint32());continue;case 2:if(a!==21)break;c.alphaTest=o.float();continue;case 3:if(a!==24)break;c.castShadows=o.bool();continue;case 4:if(a!==34)break;c.alphaTexture=et.decode(o,o.uint32());continue;case 5:if(a!==42)break;c.emissiveTexture=et.decode(o,o.uint32());continue;case 6:if(a!==50)break;c.bumpTexture=et.decode(o,o.uint32());continue;case 7:if(a!==58)break;c.albedoColor=Me.decode(o,o.uint32());continue;case 8:if(a!==66)break;c.emissiveColor=Ie.decode(o,o.uint32());continue;case 9:if(a!==74)break;c.reflectivityColor=Ie.decode(o,o.uint32());continue;case 10:if(a!==80)break;c.transparencyMode=o.int32();continue;case 11:if(a!==93)break;c.metallic=o.float();continue;case 12:if(a!==101)break;c.roughness=o.float();continue;case 14:if(a!==117)break;c.specularIntensity=o.float();continue;case 15:if(a!==125)break;c.emissiveIntensity=o.float();continue;case 16:if(a!==133)break;c.directIntensity=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Vr||(Vr={}));var Us={COMPONENT_ID:1017,serialize(e,n){let i=oo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return oo.decode(e.buffer(),e.remainingBytes())},create(){return oo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var tt=se(ue());var Fs;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(Fs||(Fs={}));function sl(){return{collisionMask:void 0,mesh:void 0}}var ro;(function(e){function n(t,r=tt.default.Writer.create()){switch(t.collisionMask!==void 0&&r.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":Hr.encode(t.mesh.box,r.uint32(18).fork()).ldelim();break;case"sphere":jr.encode(t.mesh.sphere,r.uint32(26).fork()).ldelim();break;case"cylinder":Gr.encode(t.mesh.cylinder,r.uint32(34).fork()).ldelim();break;case"plane":qr.encode(t.mesh.plane,r.uint32(42).fork()).ldelim();break}return r}e.encode=n;function i(t,r){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=sl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.collisionMask=o.uint32();continue;case 2:if(a!==18)break;c.mesh={$case:"box",box:Hr.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.mesh={$case:"sphere",sphere:jr.decode(o,o.uint32())};continue;case 4:if(a!==34)break;c.mesh={$case:"cylinder",cylinder:Gr.decode(o,o.uint32())};continue;case 5:if(a!==42)break;c.mesh={$case:"plane",plane:qr.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ro||(ro={}));function fl(){return{}}var Hr;(function(e){function n(t,r=tt.default.Writer.create()){return r}e.encode=n;function i(t,r){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=fl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Hr||(Hr={}));function ul(){return{radiusTop:void 0,radiusBottom:void 0}}var Gr;(function(e){function n(t,r=tt.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=n;function i(t,r){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=ul();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.radiusTop=o.float();continue;case 2:if(a!==21)break;c.radiusBottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Gr||(Gr={}));function dl(){return{}}var qr;(function(e){function n(t,r=tt.default.Writer.create()){return r}e.encode=n;function i(t,r){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=dl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(qr||(qr={}));function ll(){return{}}var jr;(function(e){function n(t,r=tt.default.Writer.create()){return r}e.encode=n;function i(t,r){let o=t instanceof tt.default.Reader?t:tt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=ll();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(jr||(jr={}));var Ls={COMPONENT_ID:1019,serialize(e,n){let i=ro.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return ro.decode(e.buffer(),e.remainingBytes())},create(){return ro.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var nt=se(ue());function pl(){return{mesh:void 0}}var io;(function(e){function n(t,r=nt.default.Writer.create()){switch(t.mesh?.$case){case"box":$r.encode(t.mesh.box,r.uint32(10).fork()).ldelim();break;case"sphere":Zr.encode(t.mesh.sphere,r.uint32(18).fork()).ldelim();break;case"cylinder":Yr.encode(t.mesh.cylinder,r.uint32(26).fork()).ldelim();break;case"plane":Jr.encode(t.mesh.plane,r.uint32(34).fork()).ldelim();break}return r}e.encode=n;function i(t,r){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=pl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.mesh={$case:"box",box:$r.decode(o,o.uint32())};continue;case 2:if(a!==18)break;c.mesh={$case:"sphere",sphere:Zr.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.mesh={$case:"cylinder",cylinder:Yr.decode(o,o.uint32())};continue;case 4:if(a!==34)break;c.mesh={$case:"plane",plane:Jr.decode(o,o.uint32())};continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(io||(io={}));function ml(){return{uvs:[]}}var $r;(function(e){function n(t,r=nt.default.Writer.create()){r.uint32(10).fork();for(let o of t.uvs)r.float(o);return r.ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=ml();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a===13){c.uvs.push(o.float());continue}if(a===10){let u=o.uint32()+o.pos;for(;o.pos<u;)c.uvs.push(o.float());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})($r||($r={}));function hl(){return{radiusTop:void 0,radiusBottom:void 0}}var Yr;(function(e){function n(t,r=nt.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=n;function i(t,r){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=hl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.radiusTop=o.float();continue;case 2:if(a!==21)break;c.radiusBottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Yr||(Yr={}));function yl(){return{uvs:[]}}var Jr;(function(e){function n(t,r=nt.default.Writer.create()){r.uint32(10).fork();for(let o of t.uvs)r.float(o);return r.ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=yl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a===13){c.uvs.push(o.float());continue}if(a===10){let u=o.uint32()+o.pos;for(;o.pos<u;)c.uvs.push(o.float());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Jr||(Jr={}));function bl(){return{}}var Zr;(function(e){function n(t,r=nt.default.Writer.create()){return r}e.encode=n;function i(t,r){let o=t instanceof nt.default.Reader?t:nt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=bl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Zr||(Zr={}));var Ds={COMPONENT_ID:1018,serialize(e,n){let i=io.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return io.decode(e.buffer(),e.remainingBytes())},create(){return io.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var Xr=se(ue());var Ws;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(Ws||(Ws={}));function xl(){return{urn:"",style:void 0,color:void 0}}var ao;(function(e){function n(t,r=Xr.default.Writer.create()){return t.urn!==""&&r.uint32(10).string(t.urn),t.style!==void 0&&r.uint32(16).int32(t.style),t.color!==void 0&&Ie.encode(t.color,r.uint32(26).fork()).ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof Xr.default.Reader?t:Xr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=xl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.urn=o.string();continue;case 2:if(a!==16)break;c.style=o.int32();continue;case 3:if(a!==26)break;c.color=Ie.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ao||(ao={}));var Vs={COMPONENT_ID:1040,serialize(e,n){let i=ao.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return ao.decode(e.buffer(),e.remainingBytes())},create(){return ao.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var Kr=se(ue());function gl(){return{address:"",isGuest:!1}}var co;(function(e){function n(t,r=Kr.default.Writer.create()){return t.address!==""&&r.uint32(10).string(t.address),t.isGuest===!0&&r.uint32(24).bool(t.isGuest),r}e.encode=n;function i(t,r){let o=t instanceof Kr.default.Reader?t:Kr.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=gl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.address=o.string();continue;case 3:if(a!==24)break;c.isGuest=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(co||(co={}));var Hs={COMPONENT_ID:1089,serialize(e,n){let i=co.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return co.decode(e.buffer(),e.remainingBytes())},create(){return co.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};var vt=se(ue());function El(){return{pointerEvents:[]}}var so;(function(e){function n(t,r=vt.default.Writer.create()){for(let o of t.pointerEvents)ei.encode(o,r.uint32(10).fork()).ldelim();return r}e.encode=n;function i(t,r){let o=t instanceof vt.default.Reader?t:vt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=El();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.pointerEvents.push(ei.decode(o,o.uint32()));continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(so||(so={}));function Tl(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0}}var Qr;(function(e){function n(t,r=vt.default.Writer.create()){return t.button!==void 0&&r.uint32(8).int32(t.button),t.hoverText!==void 0&&r.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&r.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&r.uint32(32).bool(t.showFeedback),r}e.encode=n;function i(t,r){let o=t instanceof vt.default.Reader?t:vt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Tl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.button=o.int32();continue;case 2:if(a!==18)break;c.hoverText=o.string();continue;case 3:if(a!==29)break;c.maxDistance=o.float();continue;case 4:if(a!==32)break;c.showFeedback=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Qr||(Qr={}));function Sl(){return{eventType:0,eventInfo:void 0}}var ei;(function(e){function n(t,r=vt.default.Writer.create()){return t.eventType!==0&&r.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&Qr.encode(t.eventInfo,r.uint32(18).fork()).ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof vt.default.Reader?t:vt.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Sl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.eventType=o.int32();continue;case 2:if(a!==18)break;c.eventInfo=Qr.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ei||(ei={}));var Gs={COMPONENT_ID:1062,serialize(e,n){let i=so.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return so.decode(e.buffer(),e.remainingBytes())},create(){return so.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var ni=se(ue());var ti=se(ue());function _l(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var Qt;(function(e){function n(t,r=ti.default.Writer.create()){return t.position!==void 0&&Se.encode(t.position,r.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&Se.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&Se.encode(t.direction,r.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&Se.encode(t.normalHit,r.uint32(34).fork()).ldelim(),t.length!==0&&r.uint32(45).float(t.length),t.meshName!==void 0&&r.uint32(50).string(t.meshName),t.entityId!==void 0&&r.uint32(56).uint32(t.entityId),r}e.encode=n;function i(t,r){let o=t instanceof ti.default.Reader?t:ti.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=_l();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.position=Se.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.globalOrigin=Se.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.direction=Se.decode(o,o.uint32());continue;case 4:if(a!==34)break;c.normalHit=Se.decode(o,o.uint32());continue;case 5:if(a!==45)break;c.length=o.float();continue;case 6:if(a!==50)break;c.meshName=o.string();continue;case 7:if(a!==56)break;c.entityId=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Qt||(Qt={}));function Rl(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var fo;(function(e){function n(t,r=ni.default.Writer.create()){return t.button!==0&&r.uint32(8).int32(t.button),t.hit!==void 0&&Qt.encode(t.hit,r.uint32(18).fork()).ldelim(),t.state!==0&&r.uint32(32).int32(t.state),t.timestamp!==0&&r.uint32(40).uint32(t.timestamp),t.analog!==void 0&&r.uint32(53).float(t.analog),t.tickNumber!==0&&r.uint32(56).uint32(t.tickNumber),r}e.encode=n;function i(t,r){let o=t instanceof ni.default.Reader?t:ni.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Rl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.button=o.int32();continue;case 2:if(a!==18)break;c.hit=Qt.decode(o,o.uint32());continue;case 4:if(a!==32)break;c.state=o.int32();continue;case 5:if(a!==40)break;c.timestamp=o.uint32();continue;case 6:if(a!==53)break;c.analog=o.float();continue;case 7:if(a!==56)break;c.tickNumber=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(fo||(fo={}));var qs={COMPONENT_ID:1063,serialize(e,n){let i=fo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return fo.decode(e.buffer(),e.remainingBytes())},create(){return fo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var oi=se(ue());function kl(){return{isPointerLocked:!1}}var uo;(function(e){function n(t,r=oi.default.Writer.create()){return t.isPointerLocked===!0&&r.uint32(8).bool(t.isPointerLocked),r}e.encode=n;function i(t,r){let o=t instanceof oi.default.Reader?t:oi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=kl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.isPointerLocked=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(uo||(uo={}));var js={COMPONENT_ID:1074,serialize(e,n){let i=uo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return uo.decode(e.buffer(),e.remainingBytes())},create(){return uo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var ri=se(ue());var $s;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})($s||($s={}));function wl(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var lo;(function(e){function n(t,r=ri.default.Writer.create()){switch(t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&Se.encode(t.originOffset,r.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":Se.encode(t.direction.localDirection,r.uint32(50).fork()).ldelim();break;case"globalDirection":Se.encode(t.direction.globalDirection,r.uint32(26).fork()).ldelim();break;case"globalTarget":Se.encode(t.direction.globalTarget,r.uint32(58).fork()).ldelim();break;case"targetEntity":r.uint32(80).uint32(t.direction.targetEntity);break}return t.maxDistance!==0&&r.uint32(37).float(t.maxDistance),t.queryType!==0&&r.uint32(40).int32(t.queryType),t.continuous!==void 0&&r.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&r.uint32(72).uint32(t.collisionMask),r}e.encode=n;function i(t,r){let o=t instanceof ri.default.Reader?t:ri.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=wl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.timestamp=o.uint32();continue;case 2:if(a!==18)break;c.originOffset=Se.decode(o,o.uint32());continue;case 6:if(a!==50)break;c.direction={$case:"localDirection",localDirection:Se.decode(o,o.uint32())};continue;case 3:if(a!==26)break;c.direction={$case:"globalDirection",globalDirection:Se.decode(o,o.uint32())};continue;case 7:if(a!==58)break;c.direction={$case:"globalTarget",globalTarget:Se.decode(o,o.uint32())};continue;case 10:if(a!==80)break;c.direction={$case:"targetEntity",targetEntity:o.uint32()};continue;case 4:if(a!==37)break;c.maxDistance=o.float();continue;case 5:if(a!==40)break;c.queryType=o.int32();continue;case 8:if(a!==64)break;c.continuous=o.bool();continue;case 9:if(a!==72)break;c.collisionMask=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(lo||(lo={}));var Ys={COMPONENT_ID:1067,serialize(e,n){let i=lo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return lo.decode(e.buffer(),e.remainingBytes())},create(){return lo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var ii=se(ue());function Al(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var po;(function(e){function n(t,r=ii.default.Writer.create()){t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&Se.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&Se.encode(t.direction,r.uint32(26).fork()).ldelim();for(let o of t.hits)Qt.encode(o,r.uint32(34).fork()).ldelim();return t.tickNumber!==0&&r.uint32(40).uint32(t.tickNumber),r}e.encode=n;function i(t,r){let o=t instanceof ii.default.Reader?t:ii.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Al();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.timestamp=o.uint32();continue;case 2:if(a!==18)break;c.globalOrigin=Se.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.direction=Se.decode(o,o.uint32());continue;case 4:if(a!==34)break;c.hits.push(Qt.decode(o,o.uint32()));continue;case 5:if(a!==40)break;c.tickNumber=o.uint32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(po||(po={}));var Js={COMPONENT_ID:1068,serialize(e,n){let i=po.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return po.decode(e.buffer(),e.remainingBytes())},create(){return po.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var ai=se(ue());function Il(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var mo;(function(e){function n(t,r=ai.default.Writer.create()){return t.text!==""&&r.uint32(10).string(t.text),t.font!==void 0&&r.uint32(16).int32(t.font),t.fontSize!==void 0&&r.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&r.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&r.uint32(40).int32(t.textAlign),t.width!==void 0&&r.uint32(53).float(t.width),t.height!==void 0&&r.uint32(61).float(t.height),t.paddingTop!==void 0&&r.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&r.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&r.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&r.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&r.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&r.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&r.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&r.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&r.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&r.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&r.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&Ie.encode(t.shadowColor,r.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&Ie.encode(t.outlineColor,r.uint32(162).fork()).ldelim(),t.textColor!==void 0&&Me.encode(t.textColor,r.uint32(170).fork()).ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof ai.default.Reader?t:ai.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Il();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.text=o.string();continue;case 2:if(a!==16)break;c.font=o.int32();continue;case 3:if(a!==29)break;c.fontSize=o.float();continue;case 4:if(a!==32)break;c.fontAutoSize=o.bool();continue;case 5:if(a!==40)break;c.textAlign=o.int32();continue;case 6:if(a!==53)break;c.width=o.float();continue;case 7:if(a!==61)break;c.height=o.float();continue;case 8:if(a!==69)break;c.paddingTop=o.float();continue;case 9:if(a!==77)break;c.paddingRight=o.float();continue;case 10:if(a!==85)break;c.paddingBottom=o.float();continue;case 11:if(a!==93)break;c.paddingLeft=o.float();continue;case 12:if(a!==101)break;c.lineSpacing=o.float();continue;case 13:if(a!==104)break;c.lineCount=o.int32();continue;case 14:if(a!==112)break;c.textWrapping=o.bool();continue;case 15:if(a!==125)break;c.shadowBlur=o.float();continue;case 16:if(a!==133)break;c.shadowOffsetX=o.float();continue;case 17:if(a!==141)break;c.shadowOffsetY=o.float();continue;case 18:if(a!==149)break;c.outlineWidth=o.float();continue;case 19:if(a!==154)break;c.shadowColor=Ie.decode(o,o.uint32());continue;case 20:if(a!==162)break;c.outlineColor=Ie.decode(o,o.uint32());continue;case 21:if(a!==170)break;c.textColor=Me.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(mo||(mo={}));var Zs={COMPONENT_ID:1030,serialize(e,n){let i=mo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return mo.decode(e.buffer(),e.remainingBytes())},create(){return mo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var ci=se(ue());var On=se(ue());function Nl(){return{top:0,left:0,right:0,bottom:0}}var en;(function(e){function n(t,r=On.default.Writer.create()){return t.top!==0&&r.uint32(13).float(t.top),t.left!==0&&r.uint32(21).float(t.left),t.right!==0&&r.uint32(29).float(t.right),t.bottom!==0&&r.uint32(37).float(t.bottom),r}e.encode=n;function i(t,r){let o=t instanceof On.default.Reader?t:On.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Nl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.top=o.float();continue;case 2:if(a!==21)break;c.left=o.float();continue;case 3:if(a!==29)break;c.right=o.float();continue;case 4:if(a!==37)break;c.bottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(en||(en={}));function Ol(){return{x:0,y:0,width:0,height:0}}var Xs;(function(e){function n(t,r=On.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.width!==0&&r.uint32(29).float(t.width),t.height!==0&&r.uint32(37).float(t.height),r}e.encode=n;function i(t,r){let o=t instanceof On.default.Reader?t:On.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Ol();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.x=o.float();continue;case 2:if(a!==21)break;c.y=o.float();continue;case 3:if(a!==29)break;c.width=o.float();continue;case 4:if(a!==37)break;c.height=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Xs||(Xs={}));var Ks;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(Ks||(Ks={}));function Cl(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var ho;(function(e){function n(t,r=ci.default.Writer.create()){t.color!==void 0&&Me.encode(t.color,r.uint32(10).fork()).ldelim(),t.texture!==void 0&&et.encode(t.texture,r.uint32(18).fork()).ldelim(),t.textureMode!==0&&r.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&en.encode(t.textureSlices,r.uint32(34).fork()).ldelim(),r.uint32(42).fork();for(let o of t.uvs)r.float(o);return r.ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof ci.default.Reader?t:ci.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Cl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.color=Me.decode(o,o.uint32());continue;case 2:if(a!==18)break;c.texture=et.decode(o,o.uint32());continue;case 3:if(a!==24)break;c.textureMode=o.int32();continue;case 4:if(a!==34)break;c.textureSlices=en.decode(o,o.uint32());continue;case 5:if(a===45){c.uvs.push(o.float());continue}if(a===42){let u=o.uint32()+o.pos;for(;o.pos<u;)c.uvs.push(o.float());continue}break}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ho||(ho={}));var Qs={COMPONENT_ID:1053,serialize(e,n){let i=ho.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return ho.decode(e.buffer(),e.remainingBytes())},create(){return ho.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var si=se(ue());function Bl(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var yo;(function(e){function n(t,r=si.default.Writer.create()){return t.devicePixelRatio!==0&&r.uint32(13).float(t.devicePixelRatio),t.width!==0&&r.uint32(16).int32(t.width),t.height!==0&&r.uint32(24).int32(t.height),t.interactableArea!==void 0&&en.encode(t.interactableArea,r.uint32(34).fork()).ldelim(),r}e.encode=n;function i(t,r){let o=t instanceof si.default.Reader?t:si.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Bl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==13)break;c.devicePixelRatio=o.float();continue;case 2:if(a!==16)break;c.width=o.int32();continue;case 3:if(a!==24)break;c.height=o.int32();continue;case 4:if(a!==34)break;c.interactableArea=en.decode(o,o.uint32());continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(yo||(yo={}));var ef={COMPONENT_ID:1054,serialize(e,n){let i=yo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return yo.decode(e.buffer(),e.remainingBytes())},create(){return yo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var fi=se(ue());function zl(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var bo;(function(e){function n(t,r=fi.default.Writer.create()){t.acceptEmpty===!0&&r.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&r.uint32(18).string(t.emptyLabel);for(let o of t.options)r.uint32(26).string(o);return t.selectedIndex!==void 0&&r.uint32(32).int32(t.selectedIndex),t.disabled===!0&&r.uint32(40).bool(t.disabled),t.color!==void 0&&Me.encode(t.color,r.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),r}e.encode=n;function i(t,r){let o=t instanceof fi.default.Reader?t:fi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=zl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.acceptEmpty=o.bool();continue;case 2:if(a!==18)break;c.emptyLabel=o.string();continue;case 3:if(a!==26)break;c.options.push(o.string());continue;case 4:if(a!==32)break;c.selectedIndex=o.int32();continue;case 5:if(a!==40)break;c.disabled=o.bool();continue;case 6:if(a!==50)break;c.color=Me.decode(o,o.uint32());continue;case 10:if(a!==80)break;c.textAlign=o.int32();continue;case 11:if(a!==88)break;c.font=o.int32();continue;case 12:if(a!==96)break;c.fontSize=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(bo||(bo={}));var tf={COMPONENT_ID:1094,serialize(e,n){let i=bo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return bo.decode(e.buffer(),e.remainingBytes())},create(){return bo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var ui=se(ue());function Ml(){return{value:0}}var xo;(function(e){function n(t,r=ui.default.Writer.create()){return t.value!==0&&r.uint32(8).int32(t.value),r}e.encode=n;function i(t,r){let o=t instanceof ui.default.Reader?t:ui.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Ml();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.value=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(xo||(xo={}));var nf={COMPONENT_ID:1096,serialize(e,n){let i=xo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return xo.decode(e.buffer(),e.remainingBytes())},create(){return xo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var di=se(ue());function vl(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var go;(function(e){function n(t,r=di.default.Writer.create()){return t.placeholder!==""&&r.uint32(10).string(t.placeholder),t.color!==void 0&&Me.encode(t.color,r.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&Me.encode(t.placeholderColor,r.uint32(26).fork()).ldelim(),t.disabled===!0&&r.uint32(32).bool(t.disabled),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),t.value!==void 0&&r.uint32(106).string(t.value),r}e.encode=n;function i(t,r){let o=t instanceof di.default.Reader?t:di.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=vl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.placeholder=o.string();continue;case 2:if(a!==18)break;c.color=Me.decode(o,o.uint32());continue;case 3:if(a!==26)break;c.placeholderColor=Me.decode(o,o.uint32());continue;case 4:if(a!==32)break;c.disabled=o.bool();continue;case 10:if(a!==80)break;c.textAlign=o.int32();continue;case 11:if(a!==88)break;c.font=o.int32();continue;case 12:if(a!==96)break;c.fontSize=o.int32();continue;case 13:if(a!==106)break;c.value=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(go||(go={}));var of={COMPONENT_ID:1093,serialize(e,n){let i=go.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return go.decode(e.buffer(),e.remainingBytes())},create(){return go.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var li=se(ue());function Pl(){return{value:""}}var Eo;(function(e){function n(t,r=li.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),r}e.encode=n;function i(t,r){let o=t instanceof li.default.Reader?t:li.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Pl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.value=o.string();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Eo||(Eo={}));var rf={COMPONENT_ID:1095,serialize(e,n){let i=Eo.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Eo.decode(e.buffer(),e.remainingBytes())},create(){return Eo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var pi=se(ue());function Ul(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var To;(function(e){function n(t,r=pi.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),t.color!==void 0&&Me.encode(t.color,r.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(24).int32(t.textAlign),t.font!==void 0&&r.uint32(32).int32(t.font),t.fontSize!==void 0&&r.uint32(40).int32(t.fontSize),r}e.encode=n;function i(t,r){let o=t instanceof pi.default.Reader?t:pi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Ul();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.value=o.string();continue;case 2:if(a!==18)break;c.color=Me.decode(o,o.uint32());continue;case 3:if(a!==24)break;c.textAlign=o.int32();continue;case 4:if(a!==32)break;c.font=o.int32();continue;case 5:if(a!==40)break;c.fontSize=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(To||(To={}));var af={COMPONENT_ID:1052,serialize(e,n){let i=To.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return To.decode(e.buffer(),e.remainingBytes())},create(){return To.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var mi=se(ue());var cf;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(cf||(cf={}));var sf;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(sf||(sf={}));var ff;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(ff||(ff={}));var uf;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(uf||(uf={}));var df;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(df||(df={}));var lf;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(lf||(lf={}));var pf;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(pf||(pf={}));var mf;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(mf||(mf={}));var hf;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(hf||(hf={}));function Fl(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0}}var So;(function(e){function n(t,r=mi.default.Writer.create()){return t.parent!==0&&r.uint32(8).int32(t.parent),t.rightOf!==0&&r.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&r.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&r.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&r.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&r.uint32(53).float(t.flexShrink),t.positionType!==0&&r.uint32(56).int32(t.positionType),t.alignSelf!==0&&r.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&r.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&r.uint32(80).int32(t.justifyContent),t.overflow!==0&&r.uint32(88).int32(t.overflow),t.display!==0&&r.uint32(96).int32(t.display),t.flexBasisUnit!==0&&r.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&r.uint32(117).float(t.flexBasis),t.flexGrow!==0&&r.uint32(125).float(t.flexGrow),t.widthUnit!==0&&r.uint32(128).int32(t.widthUnit),t.width!==0&&r.uint32(141).float(t.width),t.heightUnit!==0&&r.uint32(144).int32(t.heightUnit),t.height!==0&&r.uint32(157).float(t.height),t.minWidthUnit!==0&&r.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&r.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&r.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&r.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&r.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&r.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&r.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&r.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&r.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&r.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&r.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&r.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&r.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&r.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&r.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&r.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&r.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&r.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&r.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&r.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&r.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&r.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&r.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&r.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&r.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&r.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&r.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&r.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&r.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&r.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&r.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&r.uint32(413).float(t.paddingBottom),r}e.encode=n;function i(t,r){let o=t instanceof mi.default.Reader?t:mi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Fl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.parent=o.int32();continue;case 2:if(a!==16)break;c.rightOf=o.int32();continue;case 3:if(a!==24)break;c.alignContent=o.int32();continue;case 4:if(a!==32)break;c.alignItems=o.int32();continue;case 5:if(a!==40)break;c.flexWrap=o.int32();continue;case 6:if(a!==53)break;c.flexShrink=o.float();continue;case 7:if(a!==56)break;c.positionType=o.int32();continue;case 8:if(a!==64)break;c.alignSelf=o.int32();continue;case 9:if(a!==72)break;c.flexDirection=o.int32();continue;case 10:if(a!==80)break;c.justifyContent=o.int32();continue;case 11:if(a!==88)break;c.overflow=o.int32();continue;case 12:if(a!==96)break;c.display=o.int32();continue;case 13:if(a!==104)break;c.flexBasisUnit=o.int32();continue;case 14:if(a!==117)break;c.flexBasis=o.float();continue;case 15:if(a!==125)break;c.flexGrow=o.float();continue;case 16:if(a!==128)break;c.widthUnit=o.int32();continue;case 17:if(a!==141)break;c.width=o.float();continue;case 18:if(a!==144)break;c.heightUnit=o.int32();continue;case 19:if(a!==157)break;c.height=o.float();continue;case 20:if(a!==160)break;c.minWidthUnit=o.int32();continue;case 21:if(a!==173)break;c.minWidth=o.float();continue;case 22:if(a!==176)break;c.minHeightUnit=o.int32();continue;case 23:if(a!==189)break;c.minHeight=o.float();continue;case 24:if(a!==192)break;c.maxWidthUnit=o.int32();continue;case 25:if(a!==205)break;c.maxWidth=o.float();continue;case 26:if(a!==208)break;c.maxHeightUnit=o.int32();continue;case 27:if(a!==221)break;c.maxHeight=o.float();continue;case 28:if(a!==224)break;c.positionLeftUnit=o.int32();continue;case 29:if(a!==237)break;c.positionLeft=o.float();continue;case 30:if(a!==240)break;c.positionTopUnit=o.int32();continue;case 31:if(a!==253)break;c.positionTop=o.float();continue;case 32:if(a!==256)break;c.positionRightUnit=o.int32();continue;case 33:if(a!==269)break;c.positionRight=o.float();continue;case 34:if(a!==272)break;c.positionBottomUnit=o.int32();continue;case 35:if(a!==285)break;c.positionBottom=o.float();continue;case 36:if(a!==288)break;c.marginLeftUnit=o.int32();continue;case 37:if(a!==301)break;c.marginLeft=o.float();continue;case 38:if(a!==304)break;c.marginTopUnit=o.int32();continue;case 39:if(a!==317)break;c.marginTop=o.float();continue;case 40:if(a!==320)break;c.marginRightUnit=o.int32();continue;case 41:if(a!==333)break;c.marginRight=o.float();continue;case 42:if(a!==336)break;c.marginBottomUnit=o.int32();continue;case 43:if(a!==349)break;c.marginBottom=o.float();continue;case 44:if(a!==352)break;c.paddingLeftUnit=o.int32();continue;case 45:if(a!==365)break;c.paddingLeft=o.float();continue;case 46:if(a!==368)break;c.paddingTopUnit=o.int32();continue;case 47:if(a!==381)break;c.paddingTop=o.float();continue;case 48:if(a!==384)break;c.paddingRightUnit=o.int32();continue;case 49:if(a!==397)break;c.paddingRight=o.float();continue;case 50:if(a!==400)break;c.paddingBottomUnit=o.int32();continue;case 51:if(a!==413)break;c.paddingBottom=o.float();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(So||(So={}));var yf={COMPONENT_ID:1050,serialize(e,n){let i=So.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return So.decode(e.buffer(),e.remainingBytes())},create(){return So.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var hi=se(ue());var bf;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(bf||(bf={}));function Ll(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var _o;(function(e){function n(t,r=hi.default.Writer.create()){return t.timestamp!==0&&r.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&r.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&r.uint32(29).float(t.currentOffset),t.videoLength!==0&&r.uint32(37).float(t.videoLength),t.state!==0&&r.uint32(40).int32(t.state),r}e.encode=n;function i(t,r){let o=t instanceof hi.default.Reader?t:hi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Ll();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.timestamp=o.uint32();continue;case 2:if(a!==16)break;c.tickNumber=o.uint32();continue;case 3:if(a!==29)break;c.currentOffset=o.float();continue;case 4:if(a!==37)break;c.videoLength=o.float();continue;case 5:if(a!==40)break;c.state=o.int32();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(_o||(_o={}));var xf={COMPONENT_ID:1044,serialize(e,n){let i=_o.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return _o.decode(e.buffer(),e.remainingBytes())},create(){return _o.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var yi=se(ue());function Dl(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Ro;(function(e){function n(t,r=yi.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.playing!==void 0&&r.uint32(16).bool(t.playing),t.position!==void 0&&r.uint32(29).float(t.position),t.volume!==void 0&&r.uint32(37).float(t.volume),t.playbackRate!==void 0&&r.uint32(45).float(t.playbackRate),t.loop!==void 0&&r.uint32(48).bool(t.loop),r}e.encode=n;function i(t,r){let o=t instanceof yi.default.Reader?t:yi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Dl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==10)break;c.src=o.string();continue;case 2:if(a!==16)break;c.playing=o.bool();continue;case 3:if(a!==29)break;c.position=o.float();continue;case 4:if(a!==37)break;c.volume=o.float();continue;case 5:if(a!==45)break;c.playbackRate=o.float();continue;case 6:if(a!==48)break;c.loop=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(Ro||(Ro={}));var gf={COMPONENT_ID:1043,serialize(e,n){let i=Ro.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return Ro.decode(e.buffer(),e.remainingBytes())},create(){return Ro.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var bi=se(ue());function Wl(){return{visible:void 0}}var ko;(function(e){function n(t,r=bi.default.Writer.create()){return t.visible!==void 0&&r.uint32(8).bool(t.visible),r}e.encode=n;function i(t,r){let o=t instanceof bi.default.Reader?t:bi.default.Reader.create(t),s=r===void 0?o.len:o.pos+r,c=Wl();for(;o.pos<s;){let a=o.uint32();switch(a>>>3){case 1:if(a!==8)break;c.visible=o.bool();continue}if((a&7)===4||a===0)break;o.skipType(a&7)}return c}e.decode=i})(ko||(ko={}));var Ef={COMPONENT_ID:1081,serialize(e,n){let i=ko.encode(e),t=new Uint8Array(i.finish(),0,i.len);n.writeBuffer(t,!1)},deserialize(e){return ko.decode(e.buffer(),e.remainingBytes())},create(){return ko.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Tf=e=>e.defineComponentFromSchema("core::Animator",os),ba=e=>e.defineComponentFromSchema("core::AudioSource",rs),Sf=e=>e.defineComponentFromSchema("core::AudioStream",is),_f=e=>e.defineComponentFromSchema("core::AvatarAttach",cs),Rf=e=>e.defineComponentFromSchema("core::AvatarBase",ss),kf=e=>e.defineComponentFromSchema("core::AvatarEmoteCommand",fs),wf=e=>e.defineComponentFromSchema("core::AvatarEquippedData",us),Af=e=>e.defineComponentFromSchema("core::AvatarModifierArea",hs),If=e=>e.defineComponentFromSchema("core::AvatarShape",ws),Nf=e=>e.defineComponentFromSchema("core::Billboard",Is),Of=e=>e.defineComponentFromSchema("core::CameraMode",Ns),Cf=e=>e.defineComponentFromSchema("core::CameraModeArea",Os),Bf=e=>e.defineComponentFromSchema("core::EngineInfo",Cs),xa=e=>e.defineComponentFromSchema("core::GltfContainer",Bs),zf=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",zs),ga=e=>e.defineComponentFromSchema("core::Material",Us),Mf=e=>e.defineComponentFromSchema("core::MeshCollider",Ls),Ea=e=>e.defineComponentFromSchema("core::MeshRenderer",Ds),vf=e=>e.defineComponentFromSchema("core::NftShape",Vs),Pf=e=>e.defineComponentFromSchema("core::PlayerIdentityData",Hs),Ta=e=>e.defineComponentFromSchema("core::PointerEvents",Gs),xi=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",qs,{timestampFunction:n=>n.timestamp,maxElements:100}),Uf=e=>e.defineComponentFromSchema("core::PointerLock",js),Sa=e=>e.defineComponentFromSchema("core::Raycast",Ys),_a=e=>e.defineComponentFromSchema("core::RaycastResult",Js),Ff=e=>e.defineComponentFromSchema("core::TextShape",Zs),Lf=e=>e.defineComponentFromSchema("core::UiBackground",Qs),Df=e=>e.defineComponentFromSchema("core::UiCanvasInformation",ef),Wf=e=>e.defineComponentFromSchema("core::UiDropdown",tf),Vf=e=>e.defineComponentFromSchema("core::UiDropdownResult",nf),Hf=e=>e.defineComponentFromSchema("core::UiInput",of),Gf=e=>e.defineComponentFromSchema("core::UiInputResult",rf),qf=e=>e.defineComponentFromSchema("core::UiText",af),jf=e=>e.defineComponentFromSchema("core::UiTransform",yf),Ra=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",xf,{timestampFunction:n=>n.timestamp,maxElements:100}),ka=e=>e.defineComponentFromSchema("core::VideoPlayer",gf),$f=e=>e.defineComponentFromSchema("core::VisibilityComponent",Ef),wa={"core::Animator":Tf,"core::AudioSource":ba,"core::AudioStream":Sf,"core::AvatarAttach":_f,"core::AvatarBase":Rf,"core::AvatarEmoteCommand":kf,"core::AvatarEquippedData":wf,"core::AvatarModifierArea":Af,"core::AvatarShape":If,"core::Billboard":Nf,"core::CameraMode":Of,"core::CameraModeArea":Cf,"core::EngineInfo":Bf,"core::GltfContainer":xa,"core::GltfContainerLoadingState":zf,"core::Material":ga,"core::MeshCollider":Mf,"core::MeshRenderer":Ea,"core::NftShape":vf,"core::PlayerIdentityData":Pf,"core::PointerEvents":Ta,"core::PointerEventsResult":xi,"core::PointerLock":Uf,"core::Raycast":Sa,"core::RaycastResult":_a,"core::TextShape":Ff,"core::UiBackground":Lf,"core::UiCanvasInformation":Df,"core::UiDropdown":Wf,"core::UiDropdownResult":Vf,"core::UiInput":Hf,"core::UiInputResult":Gf,"core::UiText":qf,"core::UiTransform":jf,"core::VideoEvent":Ra,"core::VideoPlayer":ka,"core::VisibilityComponent":$f};var Hl={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function Yf(e){let n=ga(e);return{...n,Texture:Hl,setBasicMaterial(i,t){n.createOrReplace(i,{material:{$case:"unlit",unlit:t}})},setPbrMaterial(i,t){n.createOrReplace(i,{material:{$case:"pbr",pbr:t}})}}}function Jf(e){let n=Ea(e);return{...n,setBox(i,t){n.createOrReplace(i,{mesh:{$case:"box",box:{uvs:t||[]}}})},setPlane(i,t){n.createOrReplace(i,{mesh:{$case:"plane",plane:{uvs:t||[]}}})},setCylinder(i,t,r){n.createOrReplace(i,{mesh:{$case:"cylinder",cylinder:{radiusBottom:t,radiusTop:r}}})},setSphere(i){n.createOrReplace(i,{mesh:{$case:"sphere",sphere:{}}})}}}var gi=e=>({serialize(n,i){i.writeUint32(n.length);for(let t of n)e.serialize(t,i)},deserialize(n){let i=[],t=n.readUint32();for(let r=0;r<t;r++)i.push(e.deserialize(n));return i},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var Go={serialize(e,n){n.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var qo={serialize(e,n){n.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},tn={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},jo={serialize(e,n){n.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},$o={serialize(e,n){n.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var Ei={serialize(e,n){n.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},Yo=Ei;function Gl(e){let t=0,r=0;for(let o in e){if(typeof e[o]=="number"){if(e[o]>2147483647||e[o]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");t++}r++}if(r!==t*2)throw new Error("All enum member values must be of numeric type.")}function ql(e){for(let n in e)if(typeof e[n]!="string")throw new Error("All enum member values must be of string type.")}var jl="enum-int",Ti=(e,n)=>(Gl(e),{serialize(i,t){tn.serialize(i,t)},deserialize(i){return tn.deserialize(i)},create(){return n},jsonSchema:{type:"integer",enum:Object.values(e).filter(i=>Number.isInteger(i)),default:n,serializationType:jl,enumObject:e}}),$l="enum-string",Si=(e,n)=>(ql(e),{serialize(i,t){Ei.serialize(i,t)},deserialize(i){return Ei.deserialize(i)},create(){return n},jsonSchema:{type:"string",enum:Object.values(e),default:n,serializationType:$l,enumObject:e}});var wo={serialize(e,n){n.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},Jo={serialize(e,n){n.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var Zo={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var Xo={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b),n.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var Ko={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var Qo={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z),n.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var er={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var _i=(e,n)=>{let i=Object.keys(e).reduce((t,r)=>(t[r]=e[r].jsonSchema,t),{});return{serialize(t,r){for(let o in e)e[o].serialize(t[o],r)},deserialize(t){let r={};for(let o in e)r[o]=e[o].deserialize(t);return r},create(){let t={};for(let r in e)t[r]=e[r].create();return{...t,...n}},extend:t=>{let r={};for(let o in e)r[o]=e[o].create();return{...r,...n,...t}},jsonSchema:{type:"object",properties:i,serializationType:"map"}}};var Ri=e=>({serialize(n,i){n?(i.writeInt8(1),e.serialize(n,i)):i.writeInt8(0)},deserialize(n){if(n.readInt8())return e.deserialize(n)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var ki=e=>{let n=Object.keys(e),i=n.reduce((r,o,s)=>(r[o]=s,r),{}),t=n.reduce((r,o)=>(r[o]=e[o].jsonSchema,r),{});return{serialize({$case:r,value:o},s){let c=i[r.toString()]+1;s.writeUint8(c),e[r].serialize(o,s)},deserialize(r){let o=n[r.readInt8()-1],s=e[o].deserialize(r);return{$case:o,value:s}},create(){return{}},jsonSchema:{type:"object",properties:t,serializationType:"one-of"}}};var Zf=(e,n)=>n.includes(e.serializationType),Yl=e=>Zf(e,["one-of"]),Jl=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),wi=e=>Zf(e,["array","map"]),Aa=(e,n,i)=>{let t=e[i],r=n[i];if(Yl(t)){let o=r;if(!o.$case)return Jl();let s=t.properties[o.$case];return wi(s)&&(n[i]={[o.$case]:o.value}),{type:s,value:o.value}}return{type:t,value:r}};var Xf={[Go.jsonSchema.serializationType]:Go,[Yo.jsonSchema.serializationType]:Yo,[wo.jsonSchema.serializationType]:wo,[Jo.jsonSchema.serializationType]:Jo,[$o.jsonSchema.serializationType]:$o,[jo.jsonSchema.serializationType]:jo,[tn.jsonSchema.serializationType]:tn,[qo.jsonSchema.serializationType]:qo,[er.jsonSchema.serializationType]:er,[Qo.jsonSchema.serializationType]:Qo,[Zo.jsonSchema.serializationType]:Zo,[Xo.jsonSchema.serializationType]:Xo,[Ko.jsonSchema.serializationType]:Ko};function Ao(e){if(Xf[e.serializationType])return Xf[e.serializationType];if(e.serializationType==="map"){let n=e,i={};for(let t in n.properties)i[t]=Ao(n.properties[t]);return _i(i)}if(e.serializationType==="optional")return Ri(Ao(e.optionalJsonSchema));if(e.serializationType==="array")return gi(Ao(e.items));if(e.serializationType==="enum-int"){let n=e;return Ti(n.enumObject,n.default)}if(e.serializationType==="enum-string"){let n=e;return Si(n.enumObject,n.default)}if(e.serializationType==="one-of"){let n=e,i={};for(let t in n.properties)i[t]=Ao(n.properties[t]);return ki(i)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function Ai(e,n,i){if(e.serializationType==="map"){let{properties:t}=e,r=n;for(let o in t){let{type:s,value:c}=Aa(t,r,o);if(s.serializationType!=="unknown")if(wi(s))Ai(s,c,i);else{let a=i(c,s);a.changed&&(r[o]=a.value)}}}else if(e.serializationType==="array"){let{items:t}=e,r=n;for(let o=0,s=r.length;o<s;o++){let{type:c,value:a}=Aa({items:t},{items:r[o]},"items");if(wi(c))Ai(c,a,i);else{let u=i(a,c);u.changed&&(r[o]=u.value)}}}}var ee;(function(e){e.Boolean=Go,e.String=Yo,e.Float=wo,e.Double=Jo,e.Byte=$o,e.Short=jo,e.Int=tn,e.Int64=qo,e.Number=wo,e.Vector3=er,e.Quaternion=Qo,e.Color3=Zo,e.Color4=Xo,e.Entity=Ko,e.EnumNumber=Ti,e.EnumString=Si,e.Array=gi,e.Map=_i,e.Optional=Ri,e.OneOf=ki,e.fromJson=Ao,e.mutateNestedValues=Ai})(ee||(ee={}));function Zl(e){return e.defineComponent("core-schema::Name",{value:ee.String})}var Kf=Zl;function Xl(e){return e.defineComponent("core-schema::Sync",{componentIds:ee.Array(ee.Number)})}var Qf=Xl;var Ia={serialize(e,n){let i=n.incrementWriteOffset(44);n.setFloat32(i,e.position.x),n.setFloat32(i+4,e.position.y),n.setFloat32(i+8,e.position.z),n.setFloat32(i+12,e.rotation.x),n.setFloat32(i+16,e.rotation.y),n.setFloat32(i+20,e.rotation.z),n.setFloat32(i+24,e.rotation.w),n.setFloat32(i+28,e.scale.x),n.setFloat32(i+32,e.scale.y),n.setFloat32(i+36,e.scale.z),n.setUint32(i+40,e.parent||0)},deserialize(e){let n=e.incrementReadOffset(44);return{position:{x:e.getFloat32(n),y:e.getFloat32(n+4),z:e.getFloat32(n+8)},rotation:{x:e.getFloat32(n+12),y:e.getFloat32(n+16),z:e.getFloat32(n+20),w:e.getFloat32(n+24)},scale:{x:e.getFloat32(n+28),y:e.getFloat32(n+32),z:e.getFloat32(n+36)},parent:e.getUint32(n+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function eu(e){let n=e.defineComponentFromSchema("core::Transform",Ia);return{...n,create(i,t){return n.create(i,Ia.extend(t))},createOrReplace(i,t){return n.createOrReplace(i,Ia.extend(t))}}}var Cn=e=>eu(e),tu=e=>Yf(e);var nu=e=>Jf(e);var Ii=e=>Kf(e),ou=e=>Qf(e);var Na={"core::Transform":1,"core::Animator":1042,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::TextShape":1030,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VisibilityComponent":1081};var iu=se(Er());var Kl=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Ql(e,n){let i=~~n^-1;for(let t=0;t<e.length;t++)i=Kl[(i^e[t])&255]^i>>>8;return i^-1}function ru(e,n=0){return Ql(e,n)>>>0}var Oa=2048;function Pt(e){if(Na[e])return Na[e];let n=new Uint8Array(128);return iu.write(e,n,0),(ru(n)+Oa&4294967295)>>>0}var Ca=typeof process=="object"&&!1||!1;function Ba(e,n){if(Ca&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(n);return e}function au(){let e=new Map;return{addTo(n,i){if(i<0)return!1;let t=e.get(n);return t!==void 0&&t>=i||e.set(n,i),!0},has(n,i){let t=e.get(n);return t!==void 0&&t>=i},getMap(){return e}}}var zn=65535,ep=4294901760,e3=zn+1,za=zn,qt=512,Bn=za,Ut;(function(e){function n(t){return[(t&zn)>>>0,((t&ep)>>16&zn)>>>0]}e.fromEntityId=n;function i(t,r){return(t&zn|(r&zn)<<16)>>>0}e.toEntityId=i})(Ut||(Ut={}));var Ge;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(Ge||(Ge={}));function cu(){let e=qt,n,i,t=new Set,r=[],o=au();function s(b,y){Bn=b,i=y,n=y[0]}function c(b){if(e>za-1)throw new Error(`It fails trying to generate an entity out of range ${za}.`);if(b&&n>=i[1])throw new Error("Max amount of network entities reached");if(!b&&i&&e>=Bn)throw new Error(`Max amount of local entities reached ${Bn} - ${e}`);let y=b?n++:e++,I=o.getMap().has(y)?o.getMap().get(y)+1:0,E=Ut.toEntityId(y,I);return t.has(E)?c():(t.add(E),E)}function a(b){if(b&&!i)throw new Error("Network entities ranged not initialized. Connect to a CRDT Server");if(t.size+qt>=e)return c(b);for(let[y,I]of o.getMap())if(I<zn){if(b&&(y<=i[0]||y>=i[1])||!b&&y>=Bn)continue;let E=Ut.toEntityId(y,I+1);if(!t.has(E)&&!r.includes(E))return t.add(E),E}return c()}function u(b){return b<qt?!1:(t.has(b)?(t.delete(b),r.push(b)):R(b),!0)}function d(){let b=r;if(b.length){r=[];for(let y of b){let[I,E]=Ut.fromEntityId(y);o.addTo(I,E)}}return b}function R(b){let[y,I]=Ut.fromEntityId(b);o.addTo(y,I);for(let E=0;E<=I;E++)t.delete(Ut.toEntityId(y,E));return!0}function x(b){let[y,I]=Ut.fromEntityId(b);if(o.has(y,I))return!1;if(I>0){for(let E=0;E<=I-1;E++)t.delete(Ut.toEntityId(y,E));o.addTo(y,I-1)}return t.add(b),!0}function F(b){let[y,I]=Ut.fromEntityId(b);if(y<qt)return Ge.Reserved;if(t.has(b))return Ge.UsedEntity;let E=o.getMap().get(y);return E!==void 0&&E>=I?Ge.Removed:Ge.Unknown}return{setNetworkEntitiesRange:s,generateEntity:a,removeEntity:u,getExistingEntities(){return new Set(t)},getEntityState:F,releaseRemovedEntities:d,updateRemovedEntity:R,updateUsedEntity:x,getConfig:()=>({reservedLocalEntities:Bn,reservedStaticEntities:qt})}}var Io=se(Er()),Re=function(e,n,i,t){if(i==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!t:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?t:i==="a"?t.call(e):t?t.value:n.get(e)},Ee,at,Je;function tp(e,n){let i=Math.max(e,n)+1024;return Math.ceil(i/1024)*1024}var np=10240,Ce=class{constructor(n,i,t){Ee.add(this),this._buffer=n||new Uint8Array(np),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=t??(n?this._buffer.length:null)??0,this.roffset=i??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(n){return Re(this,Ee,"m",Je).call(this,n)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(Re(this,Ee,"m",Je).call(this,4),!0)}readFloat64(){return this.view.getFloat64(Re(this,Ee,"m",Je).call(this,8),!0)}readInt8(){return this.view.getInt8(Re(this,Ee,"m",Je).call(this,1))}readInt16(){return this.view.getInt16(Re(this,Ee,"m",Je).call(this,2),!0)}readInt32(){return this.view.getInt32(Re(this,Ee,"m",Je).call(this,4),!0)}readInt64(){return this.view.getBigInt64(Re(this,Ee,"m",Je).call(this,8),!0)}readUint8(){return this.view.getUint8(Re(this,Ee,"m",Je).call(this,1))}readUint16(){return this.view.getUint16(Re(this,Ee,"m",Je).call(this,2),!0)}readUint32(){return this.view.getUint32(Re(this,Ee,"m",Je).call(this,4),!0)}readUint64(){return this.view.getBigUint64(Re(this,Ee,"m",Je).call(this,8),!0)}readBuffer(){let n=this.view.getUint32(Re(this,Ee,"m",Je).call(this,4),!0);return this._buffer.subarray(Re(this,Ee,"m",Je).call(this,n),Re(this,Ee,"m",Je).call(this,0))}readUtf8String(){let n=this.view.getUint32(Re(this,Ee,"m",Je).call(this,4),!0);return Io.read(this._buffer,Re(this,Ee,"m",Je).call(this,n),Re(this,Ee,"m",Je).call(this,0))}incrementWriteOffset(n){return Re(this,Ee,"m",at).call(this,n)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(n,i=!0){i&&this.writeUint32(n.byteLength);let t=Re(this,Ee,"m",at).call(this,n.byteLength);this._buffer.set(n,t)}writeUtf8String(n,i=!0){let t=Io.length(n);i&&this.writeUint32(t);let r=Re(this,Ee,"m",at).call(this,t);Io.write(n,this._buffer,r)}writeFloat32(n){let i=Re(this,Ee,"m",at).call(this,4);this.view.setFloat32(i,n,!0)}writeFloat64(n){let i=Re(this,Ee,"m",at).call(this,8);this.view.setFloat64(i,n,!0)}writeInt8(n){let i=Re(this,Ee,"m",at).call(this,1);this.view.setInt8(i,n)}writeInt16(n){let i=Re(this,Ee,"m",at).call(this,2);this.view.setInt16(i,n,!0)}writeInt32(n){let i=Re(this,Ee,"m",at).call(this,4);this.view.setInt32(i,n,!0)}writeInt64(n){let i=Re(this,Ee,"m",at).call(this,8);this.view.setBigInt64(i,n,!0)}writeUint8(n){let i=Re(this,Ee,"m",at).call(this,1);this.view.setUint8(i,n)}writeUint16(n){let i=Re(this,Ee,"m",at).call(this,2);this.view.setUint16(i,n,!0)}writeUint32(n){let i=Re(this,Ee,"m",at).call(this,4);this.view.setUint32(i,n,!0)}writeUint64(n){let i=Re(this,Ee,"m",at).call(this,8);this.view.setBigUint64(i,n,!0)}getFloat32(n){return this.view.getFloat32(n,!0)}getFloat64(n){return this.view.getFloat64(n,!0)}getInt8(n){return this.view.getInt8(n)}getInt16(n){return this.view.getInt16(n,!0)}getInt32(n){return this.view.getInt32(n,!0)}getInt64(n){return this.view.getBigInt64(n,!0)}getUint8(n){return this.view.getUint8(n)}getUint16(n){return this.view.getUint16(n,!0)}getUint32(n){return this.view.getUint32(n,!0)}getUint64(n){return this.view.getBigUint64(n,!0)}setFloat32(n,i){this.view.setFloat32(n,i,!0)}setFloat64(n,i){this.view.setFloat64(n,i,!0)}setInt8(n,i){this.view.setInt8(n,i)}setInt16(n,i){this.view.setInt16(n,i,!0)}setInt32(n,i){this.view.setInt32(n,i,!0)}setInt64(n,i){this.view.setBigInt64(n,i,!0)}setUint8(n,i){this.view.setUint8(n,i)}setUint16(n,i){this.view.setUint16(n,i,!0)}setUint32(n,i){this.view.setUint32(n,i,!0)}setUint64(n,i){this.view.setBigUint64(n,i,!0)}};Ee=new WeakSet,at=function(n){if(this.woffset+n>this._buffer.byteLength){let i=tp(this._buffer.byteLength,this.woffset+n),t=new Uint8Array(i);t.set(this._buffer);let r=this._buffer.byteOffset;this._buffer=t,this.view=new DataView(this._buffer.buffer,r)}return this.woffset+=n,this.woffset-n},Je=function(n){if(this.roffset+n>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=n,this.roffset-n};var ne;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.MAX_MESSAGE_TYPE=5]="MAX_MESSAGE_TYPE"})(ne||(ne={}));var _t=8,lt;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(lt||(lt={}));var ct;(function(e){function n(o){let s=o.remainingBytes();if(s<_t)return!1;let c=o.getUint32(o.currentReadOffset());return!(s<c)}e.validate=n;function i(o){return n(o)?{length:o.readUint32(),type:o.readUint32()}:null}e.readHeader=i;function t(o){if(!n(o))return null;let s=o.currentReadOffset();return{length:o.getUint32(s),type:o.getUint32(s+4)}}e.getHeader=t;function r(o){let s=t(o);return s?(o.incrementReadOffset(s.length),!0):!1}e.consumeMessage=r})(ct||(ct={}));var Ft;(function(e){e.MESSAGE_HEADER_LENGTH=12;function n(t,r,o,s){let c=_t+e.MESSAGE_HEADER_LENGTH,a=s.incrementWriteOffset(c);s.setUint32(a,c),s.setUint32(a+4,ne.DELETE_COMPONENT),s.setUint32(a+8,t),s.setUint32(a+12,r),s.setUint32(a+16,o)}e.write=n;function i(t){let r=ct.readHeader(t);if(!r)return null;if(r.type!==ne.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}e.read=i})(Ft||(Ft={}));var jt;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,r,o,s,c){let a=c.incrementWriteOffset(_t+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(s,!1);let u=c.currentWriteOffset()-a;c.setUint32(a,u),c.setUint32(a+4,ne.APPEND_VALUE),c.setUint32(a+8,t),c.setUint32(a+12,o),c.setUint32(a+16,r);let d=u-e.MESSAGE_HEADER_LENGTH-_t;c.setUint32(a+20,d)}e.write=n;function i(t){let r=ct.readHeader(t);if(!r)return null;if(r.type!==ne.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=i})(jt||(jt={}));var Mn;(function(e){e.MESSAGE_HEADER_LENGTH=4;function n(t,r){r.writeUint32(_t+4),r.writeUint32(ne.DELETE_ENTITY),r.writeUint32(t)}e.write=n;function i(t){let r=ct.readHeader(t);if(!r)return null;if(r.type!==ne.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...r,entityId:t.readUint32()}}e.read=i})(Mn||(Mn={}));var Lt;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,r,o,s,c){let a=c.incrementWriteOffset(_t+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(s,!1);let u=c.currentWriteOffset()-a;c.setUint32(a,u),c.setUint32(a+4,ne.PUT_COMPONENT),c.setUint32(a+8,t),c.setUint32(a+12,o),c.setUint32(a+16,r);let d=u-e.MESSAGE_HEADER_LENGTH-_t;c.setUint32(a+20,d)}e.write=n;function i(t){let r=ct.readHeader(t);if(!r)return null;if(r.type!==ne.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=i})(Lt||(Lt={}));function su(e,n){let i=[],t=[],r=[],o=[];function s(R){return function(F){let b=new Ce(F),y;for(;y=ct.getHeader(b);){let I=b.currentReadOffset();if(y.type===ne.DELETE_COMPONENT){let E=Ft.read(b);t.push({...E,transportId:R,messageBuffer:b.buffer().subarray(I,b.currentReadOffset())})}else if(y.type===ne.PUT_COMPONENT){let E=Lt.read(b);t.push({...E,transportId:R,messageBuffer:b.buffer().subarray(I,b.currentReadOffset())})}else if(y.type===ne.DELETE_ENTITY){let E=Mn.read(b);t.push({...E,transportId:R,messageBuffer:b.buffer().subarray(I,b.currentReadOffset())})}else if(y.type===ne.APPEND_VALUE){let E=jt.read(b);t.push({...E,transportId:R,messageBuffer:b.buffer().subarray(I,b.currentReadOffset())})}else b.incrementReadOffset(y.length)}}}function c(R){return R.splice(0,R.length)}async function a(){let R=c(t),x=new Ce,F=[];for(let b of R)if(b.type===ne.DELETE_ENTITY)F.push(b.entityId);else{let y=e.entityContainer.getEntityState(b.entityId);if(y===Ge.Removed)continue;y===Ge.Unknown&&e.entityContainer.updateUsedEntity(b.entityId);let I=e.getComponentOrNull(b.componentId);if(I){let[E,M]=I.updateFromCrdt(b);if(E){let V=x.currentWriteOffset();E.type===ne.PUT_COMPONENT?Lt.write(b.entityId,E.timestamp,E.componentId,E.data,x):E.type===ne.DELETE_COMPONENT&&Ft.write(b.entityId,I.componentId,E.timestamp,x),o.push({...b,messageBuffer:x.buffer().subarray(V,x.currentWriteOffset())})}else r.push(b),n&&n(b.entityId,b.type,I,M)}else r.push(b)}for(let b of F){for(let y=o.length-1;y>=0;y--)o[y].entityId===b&&o[y].type!==ne.DELETE_ENTITY&&o.splice(y,1);for(let y of e.componentsIter())y.entityDeleted(b,!1);e.entityContainer.updateRemovedEntity(b),n&&n(b,ne.DELETE_ENTITY)}}async function u(R){let x=c(r),F=c(o),b=new Ce;for(let I of e.componentsIter())for(let E of I.getCrdtUpdates()){let M=b.currentWriteOffset();if(i.some(V=>V.filter(E))&&(E.type===ne.PUT_COMPONENT?Lt.write(E.entityId,E.timestamp,E.componentId,E.data,b):E.type===ne.DELETE_COMPONENT?Ft.write(E.entityId,I.componentId,E.timestamp,b):E.type===ne.APPEND_VALUE&&jt.write(E.entityId,E.timestamp,E.componentId,E.data,b),x.push({...E,messageBuffer:b.buffer().subarray(M,b.currentWriteOffset())}),n)){let V=E.type===ne.PUT_COMPONENT||E.type===ne.APPEND_VALUE?I.get(E.entityId):void 0;n(E.entityId,E.type,I,V)}}for(let I of R){let E=b.currentWriteOffset();Mn.write(I,b),x.push({type:ne.DELETE_ENTITY,entityId:I,messageBuffer:b.buffer().subarray(E,b.currentWriteOffset())}),n&&n(I,ne.DELETE_ENTITY)}let y=new Ce;for(let I in i){let E=Number(I),M=i[E];y.resetBuffer();for(let J of F)J.transportId===E&&!x.find(de=>de.entityId===J.entityId&&de.componentId&&de.componentId===J.componentId)&&y.writeBuffer(J.messageBuffer,!1);for(let J of x)J.transportId!==E&&M.filter(J)&&y.writeBuffer(J.messageBuffer,!1);let V=y.currentWriteOffset()?y.toBinary():new Uint8Array([]);await M.send(V)}}function d(R){let x=i.push(R)-1;R.onmessage=s(x)}return{sendMessages:u,receiveMessages:a,addTransport:d}}var fu;(function(e){let n;(function(i){i[i.NETWORKED=0]="NETWORKED",i[i.RENDERER=1]="RENDERER"})(n=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(fu||(fu={}));function Ma(e,n){if(e===n)return 0;if(e===null&&n!==null)return-1;if(e!==null&&n===null)return 1;if(e instanceof Uint8Array&&n instanceof Uint8Array){let i=e.byteLength-n.byteLength;if(i!==0)return i>0?1:-1;let t;for(let r=0,o=e.byteLength;r<o;r++)if(t=e[r]-n[r],t!==0)return t>0?1:-1;return 0}if(typeof e=="string"){let i=e.length-n.length;return i!==0?i>0?1:-1:e.localeCompare(n)}return e>n?1:-1}function va(e){return Object.freeze({...e})}function op(e,n){let i=(n.get(e)||0)+1;return n.set(e,i),i}function rp(e,n,i,t){return function(o,s){for(let[c,a]of n)if(!(s&&!s(c)))if(t.has(c)){let u=t.get(c),d=new Ce;i.serialize(u,d),Lt.write(c,a,e,d.toBinary(),o)}else Ft.write(c,e,a,o)}}function ip(e,n,i,t){function r(o){let{entityId:s,timestamp:c}=o,a=n.get(s);if(a===void 0||a<c)return lt.StateUpdatedTimestamp;if(a>c)return lt.StateOutdatedTimestamp;if(o.type===ne.DELETE_COMPONENT&&!t.has(s))return lt.NoChanges;let u=0;if(t.has(s)){let d=new Ce;i.serialize(t.get(s),d),u=Ma(d.toBinary(),o.data||null)}else u=Ma(null,o.data);return u===0?lt.NoChanges:u>0?lt.StateOutdatedData:lt.StateUpdatedData}return o=>{if(o.type!==ne.PUT_COMPONENT&&o.type!==ne.DELETE_COMPONENT)return[null,t.get(o.entityId)];let s=r(o),c=o.entityId;switch(s){case lt.StateUpdatedData:case lt.StateUpdatedTimestamp:{if(n.set(c,o.timestamp),o.type===ne.PUT_COMPONENT){let a=new Ce(o.data);t.set(c,i.deserialize(a))}else t.delete(c);return[null,t.get(c)]}case lt.StateOutdatedTimestamp:case lt.StateOutdatedData:if(t.has(c)){let a=new Ce;return i.serialize(t.get(c),a),[{type:ne.PUT_COMPONENT,componentId:e,data:a.toBinary(),entityId:c,timestamp:n.get(c)},t.get(c)]}else return[{type:ne.DELETE_COMPONENT,componentId:e,entityId:c,timestamp:n.get(c)},void 0]}return[null,t.get(c)]}}function ap(e,n,i,t,r){return function*(){for(let o of i){let s=op(o,n);if(r.has(o)){let c=new Ce;t.serialize(r.get(o),c),yield{type:ne.PUT_COMPONENT,componentId:e,entityId:o,data:c.toBinary(),timestamp:s}}else yield{type:ne.DELETE_COMPONENT,componentId:e,entityId:o,timestamp:s}}i.clear()}}function Pa(e,n,i){let t=new Map,r=new Set,o=new Map;return{get componentId(){return n},get componentName(){return e},get componentType(){return 0},schema:i,has(s){return t.has(s)},deleteFrom(s,c=!0){let a=t.get(s);return t.delete(s)&&c&&r.add(s),a||null},entityDeleted(s,c){t.delete(s)&&c&&r.add(s)},getOrNull(s){let c=t.get(s);return c?va(c):null},get(s){let c=t.get(s);if(!c)throw new Error(`[getFrom] Component ${e} for entity #${s} not found`);return va(c)},create(s,c){if(t.get(s))throw new Error(`[create] Component ${e} for ${s} already exists`);let u=c===void 0?i.create():i.extend?i.extend(c):c;return t.set(s,u),r.add(s),u},createOrReplace(s,c){let a=c===void 0?i.create():i.extend?i.extend(c):c;return t.set(s,a),r.add(s),a},getMutableOrNull(s){let c=t.get(s);return c?(r.add(s),c):null},getOrCreateMutable(s,c){let a=t.get(s);return a?(r.add(s),a):this.create(s,c)},getMutable(s){let c=this.getMutableOrNull(s);if(c===null)throw new Error(`[mutable] Component ${e} for ${s} not found`);return c},*iterator(){for(let[s,c]of t)yield[s,c]},*dirtyIterator(){for(let s of r)yield s},getCrdtUpdates:ap(n,o,r,i,t),updateFromCrdt:ip(n,o,i,t),dumpCrdtStateToBuffer:rp(n,o,i,t)}}function uu(){let e=[];function n(){e.sort((r,o)=>o.priority-r.priority)}function i(r,o,s){let c=s??r.name;if(e.find(a=>a.fn===r))throw new Error(`System ${JSON.stringify(c)} already added to the engine`);e.push({fn:r,priority:o,name:c}),n()}function t(r){let o=-1;return typeof r=="string"?o=e.findIndex(s=>s.name===r):o=e.findIndex(s=>s.fn===r),o===-1?!1:(e.splice(o,1),n(),!0)}return{add:i,remove:t,getSystems(){return e}}}var Ua=lu(new Set);function du(){throw new Error("The set is frozen")}function lu(e){return e.add=du,e.clear=du,e}function cp(e,n){return e.timestamp>n.timestamp?1:-1}function pu(e,n,i,t){let r=new Map,o=new Set,s=[];function c(R){let x=R.raw.length;return x>1&&R.raw[x-1].timestamp<=R.raw[x-2].timestamp}function a(R){let x=r.get(R);if(x){for(c(x)&&x.raw.sort(cp);x.raw.length>t.maxElements;)x.raw.shift();let F=lu(new Set(x?.raw.map(b=>b.value)));return x.frozenSet=F,F}else return Ua}function u(R,x){let F=r.get(R);F||(F={raw:[],frozenSet:Ua},r.set(R,F));let b=i.extend?i.extend(x):x,y=t.timestampFunction(b);return Ca&&Object.freeze(b),F.raw.push({value:b,timestamp:y}),{set:a(R),value:b}}return{get componentId(){return n},get componentName(){return e},get componentType(){return 1},schema:i,has(R){return r.has(R)},entityDeleted(R){r.delete(R)},get(R){let x=r.get(R);return x?x.frozenSet:Ua},addValue(R,x){let{set:F,value:b}=u(R,x);o.add(R);let y=new Ce;return i.serialize(b,y),s.push({componentId:n,data:y.toBinary(),entityId:R,timestamp:0,type:ne.APPEND_VALUE}),F},*iterator(){for(let[R,x]of r)yield[R,x.frozenSet]},*dirtyIterator(){for(let R of o)yield R},getCrdtUpdates(){return o.clear(),s.splice(0,s.length)},updateFromCrdt(R){if(R.type===ne.APPEND_VALUE){let x=new Ce(R.data);u(R.entityId,i.deserialize(x))}return[null,void 0]},dumpCrdtStateToBuffer:function(R,x){for(let[F,{raw:b}]of r)if(!(x&&!x(F)))for(let y of b){let I=new Ce;i.serialize(y.value,I),jt.write(F,0,n,I.toBinary(),R)}}}}function*mu(e,n){if(n.has(e)){n.delete(e);for(let[i,t]of n)t.parent===e&&(yield*mu(i,n));yield e}}function sp(e,n,i){let t=new Map(e.getEntitiesWith(i));return mu(n,t)}function hu(e,n){let i=Cn(e);for(let t of sp(e,n,i))e.removeEntity(t)}var j3=1<<20;var yu;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(yu||(yu={}));function up(){let e=cu(),n=new Map,i=uu(),t,r=!1;function o(P,q=1e5,S){i.add(P,q,S)}function s(P){return i.remove(P)}function c(){if(!t)throw new Error("Network manager not initialized. Start CRDT Server");return t}function a(P,q){return e.setNetworkEntitiesRange(P,q),t={addEntity:()=>e.generateEntity(!0),getConfig:()=>e.getConfig()},t}function u(){return e.generateEntity()}function d(P){for(let[,q]of n)q.entityDeleted(P,!0);return e.removeEntity(P)}function R(P){return hu({removeEntity:d,defineComponentFromSchema:F,getEntitiesWith:M},P)}function x(P,q){if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let S=Pt(P);if(n.get(S))throw new Error(`Component number ${S} was already registered.`);if(q.componentName!==P)throw new Error(`Component name doesn't match componentDefinition.componentName ${P} != ${q.componentName}`);if(q.componentId!==S)throw new Error(`Component number doesn't match componentDefinition.componentId ${S} != ${q.componentId}`);return n.set(S,q),q}function F(P,q){let S=Pt(P),A=n.get(S);if(A)return A;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let U=Pa(P,S,q);return n.set(S,U),U}function b(P,q,S){let A=Pt(P),U=n.get(A);if(U)return U;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let Y=pu(P,A,q,S);return n.set(A,Y),Y}function y(P,q,S){let A=Pt(P),U=n.get(A);if(U)return U;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let Y=ee.Map(q,S),K=Pa(P,A,Y),le={...K,create(pe,me){return K.create(pe,me)},createOrReplace(pe,me){return K.createOrReplace(pe,me)}};return n.set(A,le),le}function I(P){let q=typeof P=="number"?P:Pt(P),S=n.get(q);if(!S)throw new Error(`Component ${q} not found. You need to declare the components at the beginnig of the engine declaration`);return S}function E(P){let q=typeof P=="number"?P:Pt(P);return n.get(q)??null}function*M(...P){for(let[q,...S]of J(...P))yield[q,...S.map(A=>A.get(q))]}function V(P){let q=Ii({defineComponent:y});for(let[S,A]of M(q))if(A.value===P)return S;return null}function*J(...P){let[q,...S]=P;for(let[A]of q.iterator()){let U=!0;for(let Y of S)if(!Y.has(A)){U=!1;break}U&&(yield[A,...P])}}function de(){return i.getSystems()}function v(){return n.values()}function L(P){if(r)throw new Error("Engine is already sealed. No components can be removed at this stage");let q=typeof P=="number"?P:Pt(P);n.delete(q)}Cn({defineComponentFromSchema:F});function $(){r||(r=!0)}return{addEntity:u,removeEntity:d,removeEntityWithChildren:R,addSystem:o,getSystems:de,removeSystem:s,defineComponent:y,defineComponentFromSchema:F,defineValueSetComponentFromSchema:b,getEntitiesWith:M,getComponent:I,getComponentOrNull:E,getEntityOrNullByName:V,removeComponentDefinition:L,registerComponentDefinition:x,entityContainer:e,componentsIter:v,seal:$,addNetworkManager:a,getNetworkManager:c}}function bu(e){let n=up(),i=su(n,e?.onChangeFunction||null);async function t(r){await i.receiveMessages();for(let s of n.getSystems()){let c=s.fn(r);Ba(c,`A system (${s.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let o=n.entityContainer.releaseRemovedEntities();await i.sendMessages(o)}return{addEntity:n.addEntity,removeEntity:n.removeEntity,removeEntityWithChildren:n.removeEntityWithChildren,addSystem:n.addSystem,removeSystem:n.removeSystem,defineComponent:n.defineComponent,defineComponentFromSchema:n.defineComponentFromSchema,defineValueSetComponentFromSchema:n.defineValueSetComponentFromSchema,registerComponentDefinition:n.registerComponentDefinition,getEntitiesWith:n.getEntitiesWith,getComponent:n.getComponent,getComponentOrNull:n.getComponentOrNull,removeComponentDefinition:n.removeComponentDefinition,componentsIter:n.componentsIter,seal:n.seal,getEntityOrNullByName:n.getEntityOrNullByName,update:t,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:n.entityContainer.getEntityState,addTransport:i.addTransport,entityContainer:n.entityContainer,addNetworkManager:n.addNetworkManager,getNetworkManager:n.getNetworkManager}}var te=bu();var Fa=ba(te);var $t=xa(te);var xu=xi(te);var gu;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(gu||(gu={}));var Eu;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(Eu||(Eu={}));var Tu;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(Tu||(Tu={}));var Su;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(Su||(Su={}));var _u;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(_u||(_u={}));var Ru;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(Ru||(Ru={}));function La(e){let n=e.getComponentOrNull("composite::root");return n||e.defineComponent("composite::root",{src:ee.String,entities:ee.Array(ee.Map({src:ee.Entity,dest:ee.Entity}))})}var dp="/";function lp(e,n=!1){let i="",t=0,r=-1,o=0,s;for(let c=0;c<=e.length;++c){if(c<e.length)s=e.charCodeAt(c);else{if(s===47)break;s=47}if(s===47){if(!(r===c-1||o===1))if(r!==c-1&&o===2){if(i.length<2||t!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){let a=i.lastIndexOf("/");if(a!==i.length-1){a===-1?(i="",t=0):(i=i.slice(0,a),t=i.length-1-i.lastIndexOf("/")),r=c,o=0;continue}}else if(i.length===2||i.length===1){i="",t=0,r=c,o=0;continue}}n&&(i.length>0?i+="/..":i="..",t=2)}else i.length>0?i+="/"+e.slice(r+1,c):i=e.slice(r+1,c),t=c-r-1;r=c,o=0}else s===46&&o!==-1?++o:o=-1}return i}function Ni(...e){let n="",i=!1,t;for(let r=e.length-1;r>=-1&&!i;r--){let o;r>=0?o=e[r]:(t===void 0&&(t=dp),o=t),o.length!==0&&(n=o+"/"+n,i=o.charCodeAt(0)===47)}return n=lp(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."}function ku(e){if(e.length===0)return".";let n=e.charCodeAt(0),i=n===47,t=-1,r=!0;for(let o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),n===47){if(!r){t=o;break}}else r=!1;return t===-1?i?"/":".":i&&t===1?"//":e.slice(0,t)}function Oi(e,n){return(e.startsWith(".")?Ni(n,e):Ni(e)).substring(1)}var No;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(No||(No={}));function wu(e,n){return n.data?.$case==="json"?n.data.json:e.schema.deserialize(new Ce(n.data?.binary))}function mp(e,n){let i=e.getComponentOrNull(n.name);if(i)return i;if(n.name.startsWith("core::")){if(n.name in wa)return wa[n.name](e);throw new Error(`The core component ${n.name} was not found.`)}else{if(n.jsonSchema)return e.defineComponentFromSchema(n.name,ee.fromJson(n.jsonSchema));throw new Error(`${n.name} is not defined and there is no schema to define it.`)}}function hp(e,n,i,{entityMapping:t}){let r=i.get(n);if(r)return r;if(t?.type===No.EMM_DIRECT_MAPPING){let s=t.getCompositeEntity(n);return i.set(n,s),s}let o=t?.type===No.EMM_NEXT_AVAILABLE?t.getNextAvailableEntity():e.addEntity();if(o===null)throw new Error("There is no more entities to allocate");return i.set(n,o),o}function Da(e,n,i,t){let{rootEntity:r,alreadyRequestedSrc:o,entityMapping:s}=t,c=o||new Set,a=ku(Ni(n.src)),u=Pt("core::Transform"),d=La(e),R=new Map,x=I=>hp(e,I,R,t),F=r??x(0);r&&R.set(0,r);let b=n.composite.components.find(I=>I.name===d.componentName);if(b)for(let[I,E]of b.data){let M=wu(d,E),V=Oi(M.src,a),J=i.getCompositeOrNull(V),de=x(I);if(J){if(c.has(J.src)||J.src===n.src)throw new Error(`Composite ${n.src} has a recursive instanciation while try to instance ${J.src}. Previous instances: ${c.toString()}`);Da(e,J,i,{rootEntity:de,alreadyRequestedSrc:new Set(c).add(J.src),entityMapping:s?.type===No.EMM_NEXT_AVAILABLE?s:void 0})}}for(let I of n.composite.components){if(I.name===d.componentName)continue;let E=mp(e,I);for(let[M,V]of I.data){let J=wu(E,V),de=x(M),v=E.create(de,J);if(E.componentId===u){let L=v;L.parent?L.parent=x(L.parent):L.parent=x(0)}else ee.mutateNestedValues(E.schema.jsonSchema,v,(L,$)=>$.serializationType==="entity"?{changed:!0,value:x(L)}:{changed:!1})}}let y=d.getMutableOrNull(F)||d.create(F);for(let[I,E]of R)y.entities.push({src:I,dest:E});return y.src=n.src,F}var mt=se(ue());var pt=se(ue());var Au;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(Au||(Au={}));function yp(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new Cu.Error("Unrecognized enum value "+e+" for enum NullValue")}}function bp(e){switch(e){case 0:return"NULL_VALUE";default:throw new Cu.Error("Unrecognized enum value "+e+" for enum NullValue")}}function Iu(){return{fields:new Map}}var Oo;(function(e){function n(c,a=pt.default.Writer.create()){return c.fields.forEach((u,d)=>{u!==void 0&&Ci.encode({key:d,value:u},a.uint32(10).fork()).ldelim()}),a}e.encode=n;function i(c,a){let u=c instanceof pt.default.Reader?c:pt.default.Reader.create(c),d=a===void 0?u.len:u.pos+a,R=Iu();for(;u.pos<d;){let x=u.uint32();switch(x>>>3){case 1:if(x!==10)break;let F=Ci.decode(u,u.uint32());F.value!==void 0&&R.fields.set(F.key,F.value);continue}if((x&7)===4||x===0)break;u.skipType(x&7)}return R}e.decode=i;function t(c){return{fields:gp(c.fields)?Object.entries(c.fields).reduce((a,[u,d])=>(a.set(u,d),a),new Map):new Map}}e.fromJSON=t;function r(c){let a={};return a.fields={},c.fields&&c.fields.forEach((u,d)=>{a.fields[d]=u}),a}e.toJSON=r;function o(c){let a=Iu();return c!==void 0&&Object.keys(c).forEach(u=>{a.fields.set(u,c[u])}),a}e.wrap=o;function s(c){let a={};return[...c.fields.keys()].forEach(u=>{a[u]=c.fields.get(u)}),a}e.unwrap=s})(Oo||(Oo={}));function xp(){return{key:"",value:void 0}}var Ci;(function(e){function n(o,s=pt.default.Writer.create()){return o.key!==""&&s.uint32(10).string(o.key),o.value!==void 0&&je.encode(je.wrap(o.value),s.uint32(18).fork()).ldelim(),s}e.encode=n;function i(o,s){let c=o instanceof pt.default.Reader?o:pt.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,u=xp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==10)break;u.key=c.string();continue;case 2:if(d!==18)break;u.value=je.unwrap(je.decode(c,c.uint32()));continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return u}e.decode=i;function t(o){return{key:on(o.key)?String(o.key):"",value:on(o?.value)?o.value:void 0}}e.fromJSON=t;function r(o){let s={};return o.key!==void 0&&(s.key=o.key),o.value!==void 0&&(s.value=o.value),s}e.toJSON=r})(Ci||(Ci={}));function Nu(){return{kind:void 0}}var je;(function(e){function n(c,a=pt.default.Writer.create()){switch(c.kind?.$case){case"nullValue":a.uint32(8).int32(c.kind.nullValue);break;case"numberValue":a.uint32(17).double(c.kind.numberValue);break;case"stringValue":a.uint32(26).string(c.kind.stringValue);break;case"boolValue":a.uint32(32).bool(c.kind.boolValue);break;case"structValue":Oo.encode(Oo.wrap(c.kind.structValue),a.uint32(42).fork()).ldelim();break;case"listValue":Co.encode(Co.wrap(c.kind.listValue),a.uint32(50).fork()).ldelim();break}return a}e.encode=n;function i(c,a){let u=c instanceof pt.default.Reader?c:pt.default.Reader.create(c),d=a===void 0?u.len:u.pos+a,R=Nu();for(;u.pos<d;){let x=u.uint32();switch(x>>>3){case 1:if(x!==8)break;R.kind={$case:"nullValue",nullValue:u.int32()};continue;case 2:if(x!==17)break;R.kind={$case:"numberValue",numberValue:u.double()};continue;case 3:if(x!==26)break;R.kind={$case:"stringValue",stringValue:u.string()};continue;case 4:if(x!==32)break;R.kind={$case:"boolValue",boolValue:u.bool()};continue;case 5:if(x!==42)break;R.kind={$case:"structValue",structValue:Oo.unwrap(Oo.decode(u,u.uint32()))};continue;case 6:if(x!==50)break;R.kind={$case:"listValue",listValue:Co.unwrap(Co.decode(u,u.uint32()))};continue}if((x&7)===4||x===0)break;u.skipType(x&7)}return R}e.decode=i;function t(c){return{kind:on(c.nullValue)?{$case:"nullValue",nullValue:yp(c.nullValue)}:on(c.numberValue)?{$case:"numberValue",numberValue:Number(c.numberValue)}:on(c.stringValue)?{$case:"stringValue",stringValue:String(c.stringValue)}:on(c.boolValue)?{$case:"boolValue",boolValue:!!c.boolValue}:on(c.structValue)?{$case:"structValue",structValue:c.structValue}:on(c.listValue)?{$case:"listValue",listValue:[...c.listValue]}:void 0}}e.fromJSON=t;function r(c){let a={};return c.kind?.$case==="nullValue"&&(a.nullValue=c.kind?.nullValue!==void 0?bp(c.kind?.nullValue):void 0),c.kind?.$case==="numberValue"&&(a.numberValue=c.kind?.numberValue),c.kind?.$case==="stringValue"&&(a.stringValue=c.kind?.stringValue),c.kind?.$case==="boolValue"&&(a.boolValue=c.kind?.boolValue),c.kind?.$case==="structValue"&&(a.structValue=c.kind?.structValue),c.kind?.$case==="listValue"&&(a.listValue=c.kind?.listValue),a}e.toJSON=r;function o(c){let a=Nu();if(c===null)a.kind={$case:"nullValue",nullValue:0};else if(typeof c=="boolean")a.kind={$case:"boolValue",boolValue:c};else if(typeof c=="number")a.kind={$case:"numberValue",numberValue:c};else if(typeof c=="string")a.kind={$case:"stringValue",stringValue:c};else if(Array.isArray(c))a.kind={$case:"listValue",listValue:c};else if(typeof c=="object")a.kind={$case:"structValue",structValue:c};else if(typeof c<"u")throw new Error("Unsupported any value type: "+typeof c);return a}e.wrap=o;function s(c){return c.kind?.$case==="nullValue"?null:c.kind?.$case==="numberValue"?c.kind?.numberValue:c.kind?.$case==="stringValue"?c.kind?.stringValue:c.kind?.$case==="boolValue"?c.kind?.boolValue:c.kind?.$case==="structValue"?c.kind?.structValue:c.kind?.$case==="listValue"?c.kind?.listValue:void 0}e.unwrap=s})(je||(je={}));function Ou(){return{values:[]}}var Co;(function(e){function n(c,a=pt.default.Writer.create()){for(let u of c.values)je.encode(je.wrap(u),a.uint32(10).fork()).ldelim();return a}e.encode=n;function i(c,a){let u=c instanceof pt.default.Reader?c:pt.default.Reader.create(c),d=a===void 0?u.len:u.pos+a,R=Ou();for(;u.pos<d;){let x=u.uint32();switch(x>>>3){case 1:if(x!==10)break;R.values.push(je.unwrap(je.decode(u,u.uint32())));continue}if((x&7)===4||x===0)break;u.skipType(x&7)}return R}e.decode=i;function t(c){return{values:Array.isArray(c?.values)?[...c.values]:[]}}e.fromJSON=t;function r(c){let a={};return c.values?a.values=c.values.map(u=>u):a.values=[],a}e.toJSON=r;function o(c){let a=Ou();return a.values=c??[],a}e.wrap=o;function s(c){return c?.hasOwnProperty("values")&&Array.isArray(c.values)?c.values:c}e.unwrap=s})(Co||(Co={}));var Cu=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function gp(e){return typeof e=="object"&&e!==null}function on(e){return e!=null}function Ep(){return{data:void 0}}var rn;(function(e){function n(o,s=mt.default.Writer.create()){switch(o.data?.$case){case"json":je.encode(je.wrap(o.data.json),s.uint32(10).fork()).ldelim();break;case"binary":s.uint32(18).bytes(o.data.binary);break}return s}e.encode=n;function i(o,s){let c=o instanceof mt.default.Reader?o:mt.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,u=Ep();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==10)break;u.data={$case:"json",json:je.unwrap(je.decode(c,c.uint32()))};continue;case 2:if(d!==18)break;u.data={$case:"binary",binary:c.bytes()};continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return u}e.decode=i;function t(o){return{data:Pn(o.json)?{$case:"json",json:o.json}:Pn(o.binary)?{$case:"binary",binary:Rp(o.binary)}:void 0}}e.fromJSON=t;function r(o){let s={};return o.data?.$case==="json"&&(s.json=o.data?.json),o.data?.$case==="binary"&&(s.binary=o.data?.binary!==void 0?kp(o.data?.binary):void 0),s}e.toJSON=r})(rn||(rn={}));function Tp(){return{name:"",jsonSchema:void 0,data:new Map}}var Bo;(function(e){function n(o,s=mt.default.Writer.create()){return o.name!==""&&s.uint32(10).string(o.name),o.jsonSchema!==void 0&&je.encode(je.wrap(o.jsonSchema),s.uint32(18).fork()).ldelim(),o.data.forEach((c,a)=>{Bi.encode({key:a,value:c},s.uint32(26).fork()).ldelim()}),s}e.encode=n;function i(o,s){let c=o instanceof mt.default.Reader?o:mt.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,u=Tp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==10)break;u.name=c.string();continue;case 2:if(d!==18)break;u.jsonSchema=je.unwrap(je.decode(c,c.uint32()));continue;case 3:if(d!==26)break;let R=Bi.decode(c,c.uint32());R.value!==void 0&&u.data.set(R.key,R.value);continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return u}e.decode=i;function t(o){return{name:Pn(o.name)?String(o.name):"",jsonSchema:Pn(o?.jsonSchema)?o.jsonSchema:void 0,data:wp(o.data)?Object.entries(o.data).reduce((s,[c,a])=>(s.set(Number(c),rn.fromJSON(a)),s),new Map):new Map}}e.fromJSON=t;function r(o){let s={};return o.name!==void 0&&(s.name=o.name),o.jsonSchema!==void 0&&(s.jsonSchema=o.jsonSchema),s.data={},o.data&&o.data.forEach((c,a)=>{s.data[a]=rn.toJSON(c)}),s}e.toJSON=r})(Bo||(Bo={}));function Sp(){return{key:0,value:void 0}}var Bi;(function(e){function n(o,s=mt.default.Writer.create()){return o.key!==0&&s.uint32(8).int32(o.key),o.value!==void 0&&rn.encode(o.value,s.uint32(18).fork()).ldelim(),s}e.encode=n;function i(o,s){let c=o instanceof mt.default.Reader?o:mt.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,u=Sp();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==8)break;u.key=c.int32();continue;case 2:if(d!==18)break;u.value=rn.decode(c,c.uint32());continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return u}e.decode=i;function t(o){return{key:Pn(o.key)?Number(o.key):0,value:Pn(o.value)?rn.fromJSON(o.value):void 0}}e.fromJSON=t;function r(o){let s={};return o.key!==void 0&&(s.key=Math.round(o.key)),o.value!==void 0&&(s.value=o.value?rn.toJSON(o.value):void 0),s}e.toJSON=r})(Bi||(Bi={}));function _p(){return{version:0,components:[]}}var vn;(function(e){function n(o,s=mt.default.Writer.create()){o.version!==0&&s.uint32(8).int32(o.version);for(let c of o.components)Bo.encode(c,s.uint32(18).fork()).ldelim();return s}e.encode=n;function i(o,s){let c=o instanceof mt.default.Reader?o:mt.default.Reader.create(o),a=s===void 0?c.len:c.pos+s,u=_p();for(;c.pos<a;){let d=c.uint32();switch(d>>>3){case 1:if(d!==8)break;u.version=c.int32();continue;case 2:if(d!==18)break;u.components.push(Bo.decode(c,c.uint32()));continue}if((d&7)===4||d===0)break;c.skipType(d&7)}return u}e.decode=i;function t(o){return{version:Pn(o.version)?Number(o.version):0,components:Array.isArray(o?.components)?o.components.map(s=>Bo.fromJSON(s)):[]}}e.fromJSON=t;function r(o){let s={};return o.version!==void 0&&(s.version=Math.round(o.version)),o.components?s.components=o.components.map(c=>c?Bo.toJSON(c):void 0):s.components=[],s}e.toJSON=r})(vn||(vn={}));var zo=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Rp(e){if(zo.Buffer)return Uint8Array.from(zo.Buffer.from(e,"base64"));{let n=zo.atob(e),i=new Uint8Array(n.length);for(let t=0;t<n.length;++t)i[t]=n.charCodeAt(t);return i}}function kp(e){if(zo.Buffer)return zo.Buffer.from(e).toString("base64");{let n=[];return e.forEach(i=>{n.push(String.fromCharCode(i))}),zo.btoa(n.join(""))}}function wp(e){return typeof e=="object"&&e!==null}function Pn(e){return e!=null}var an;(function(e){function n(c){return vn.fromJSON(c)}e.fromJson=n;function i(c){return vn.decode(c)}e.fromBinary=i;function t(c){return vn.toJSON(c)}e.toJson=t;function r(c){return vn.encode(c).finish()}e.toBinary=r;function o(c,a,u,d={}){Da(c,a,u,d)}e.instance=o;function s(c,a="/"){return Oi(c,a)}e.resolveAndNormalizePath=s})(an||(an={}));var _e=Cn(te);var Wa=tu(te),zi=nu(te);var gx=Ii(te),Ot=ou(te);var cn=.45454545454545453,sn=2.2,Bu=1e-6,tr=Math.PI/180,nr=360/(Math.PI*2);var ke;(function(e){e.TwoPi=Math.PI*2;function n(v,L,$=1401298e-51){let P=v-L;return-$<=P&&P<=$}e.withinEpsilon=n;function i(v){let L=v.toString(16);return v<=15?("0"+L).toUpperCase():L.toUpperCase()}e.toHex=i;function t(v){let L=+v;return L===0||isNaN(L)?L:L>0?1:-1}e.sign=t;function r(v,L=0,$=1){return Math.min($,Math.max(L,v))}e.clamp=r;function o(v){return Math.log(v)*Math.LOG2E}e.log2=o;function s(v,L){return v-Math.floor(v/L)*L}e.repeat=s;function c(v,L,$){return(v-L)/($-L)}e.normalize=c;function a(v,L,$){return v*($-L)+L}e.denormalize=a;function u(v,L){let $=s(L-v,360);return $>180&&($-=360),$}e.deltaAngle=u;function d(v,L){let $=s(v,L*2);return L-Math.abs($-L)}e.pingPong=d;function R(v,L,$){let P=r($);return P=-2*P*P*P+3*P*P,L*P+v*(1-P)}e.smoothStep=R;function x(v,L,$){let P=0;return Math.abs(L-v)<=$?P=L:P=v+t(L-v)*$,P}e.moveTowards=x;function F(v,L,$){let P=u(v,L),q=0;return-$<P&&P<$?q=L:q=x(v,v+P,$),q}e.moveTowardsAngle=F;function b(v,L,$){return v+(L-v)*$}e.lerp=b;function y(v,L,$){let P=s(L-v,360);return P>180&&(P-=360),v+P*r($)}e.lerpAngle=y;function I(v,L,$){let P=0;return v!==L?P=r(($-v)/(L-v)):P=0,P}e.inverseLerp=I;function E(v,L,$,P,q){let S=q*q,A=q*S,U=2*A-3*S+1,Y=-2*A+3*S,K=A-2*S+q,le=A-S;return v*U+$*Y+L*K+P*le}e.hermite=E;function M(v,L){return v===L?v:Math.random()*(L-v)+v}e.randomRange=M;function V(v,L,$){return(v-L)/($-L)}e.rangeToPercent=V;function J(v,L,$){return($-L)*v+L}e.percentToRange=J;function de(v){return v-e.TwoPi*Math.floor((v+Math.PI)/e.TwoPi)}e.normalizeRadians=de})(ke||(ke={}));var O;(function(e){function n(p){let g=Math.abs(p.x),w=Math.abs(p.y);if(g!==w)return!0;let j=Math.abs(p.z);return g!==j}e.isNonUniform=n;function i(p=0,g=0,w=0){return{x:p,y:g,z:w}}e.create=i;function t(p,g){return{x:p.x+g.x,y:p.y+g.y,z:p.z+g.z}}e.add=t;function r(p,g,w){w.x=p.x+g.x,w.y=p.y+g.y,w.z=p.z+g.z}e.addToRef=r;function o(p,g){return{x:p.x-g.x,y:p.y-g.y,z:p.z-g.z}}e.subtract=o;function s(p,g,w){w.x=p.x-g.x,w.y=p.y-g.y,w.z=p.z-g.z}e.subtractToRef=s;function c(p,g,w,j,H){H.x=p.x-g,H.y=p.y-w,H.z=p.z-j}e.subtractFromFloatsToRef=c;function a(p){return{x:-p.x,y:-p.y,z:-p.z}}e.negate=a;function u(p,g){g.x=p.x,g.y=p.y,g.z=p.z}e.copyFrom=u;function d(p,g,w,j){j.x=p,j.y=g,j.z=w}e.copyFromFloats=d;function R(p){return i(p.x,p.y,p.z)}e.clone=R;function x(p,g,w,j){let H=q(p,w)-j,Z=q(g,w)-j;return H/(H-Z)}e.getClipFactor=x;function F(p,g,w){let j=$(p),H=$(g),Z=q(j,H),ae=i();return me(j,H,ae),q(ae,w)>0?Math.acos(Z):-Math.acos(Z)}e.getAngleBetweenVectors=F;function b(p,g=0){return i(p[g],p[g+1],p[g+2])}e.fromArray=b;function y(p,g){return b(p,g)}e.fromFloatArray=y;function I(p,g,w){w.x=p[g],w.y=p[g+1],w.z=p[g+2]}e.fromArrayToRef=I;function E(p,g,w){return I(p,g,w)}e.fromFloatArrayToRef=E;function M(p){return Math.sqrt(p.x*p.x+p.y*p.y+p.z*p.z)}e.length=M;function V(p){return p.x*p.x+p.y*p.y+p.z*p.z}e.lengthSquared=V;function J(p,g,w){w.x=p.x*g,w.y=p.y*g,w.z=p.z*g}e.scaleToRef=J;function de(p,g){return i(p.x*g,p.y*g,p.z*g)}e.scale=de;function v(p,g){let w=i(0,0,0);return L(p,g,w),w}e.normalizeFromLength=v;function L(p,g,w){if(g===0||g===1){u(p,w);return}J(p,1/g,w)}e.normalizeFromLengthToRef=L;function $(p){return v(p,M(p))}e.normalize=$;function P(p,g){L(p,M(p),g)}e.normalizeToRef=P;function q(p,g){return p.x*g.x+p.y*g.y+p.z*g.z}e.dot=q;function S(p,g){let w=R(p);return A(p,g,w),w}e.applyMatrix4=S;function A(p,g,w){let{x:j,y:H,z:Z}=p,ae=g._m,He=1/(ae[3]*j+ae[7]*H+ae[11]*Z+ae[15]);w.x=(ae[0]*j+ae[4]*H+ae[8]*Z+ae[12])*He,w.y=(ae[1]*j+ae[5]*H+ae[9]*Z+ae[13])*He,w.z=(ae[2]*j+ae[6]*H+ae[10]*Z+ae[14])*He}e.applyMatrix4ToRef=A;function U(p,g){let w=i();return Y(p,g,w),w}e.rotate=U;function Y(p,g,w){let{x:j,y:H,z:Z}=p,{x:ae,y:He,z:Ke,w:Fe}=g,Dt=Fe*j+He*Z-Ke*H,ln=Fe*H+Ke*j-ae*Z,Jt=Fe*Z+ae*H-He*j,pn=-ae*j-He*H-Ke*Z;w.x=Dt*Fe+pn*-ae+ln*-Ke-Jt*-He,w.y=ln*Fe+pn*-He+Jt*-ae-Dt*-Ke,w.z=Jt*Fe+pn*-Ke+Dt*-He-ln*-ae}e.rotateToRef=Y;function K(p,g,w){let j=i(0,0,0);return le(p,g,w,j),j}e.lerp=K;function le(p,g,w,j){j.x=p.x+(g.x-p.x)*w,j.y=p.y+(g.y-p.y)*w,j.z=p.z+(g.z-p.z)*w}e.lerpToRef=le;function pe(p,g){let w=dn();return me(p,g,w),w}e.cross=pe;function me(p,g,w){w.x=p.y*g.z-p.z*g.y,w.y=p.z*g.x-p.x*g.z,w.z=p.x*g.y-p.y*g.x}e.crossToRef=me;function be(p,g){let w=dn();return ye(p,g,w),w}e.transformCoordinates=be;function ye(p,g,w){return we(p.x,p.y,p.z,g,w)}e.transformCoordinatesToRef=ye;function we(p,g,w,j,H){let Z=j._m,ae=p*Z[0]+g*Z[4]+w*Z[8]+Z[12],He=p*Z[1]+g*Z[5]+w*Z[9]+Z[13],Ke=p*Z[2]+g*Z[6]+w*Z[10]+Z[14],Fe=1/(p*Z[3]+g*Z[7]+w*Z[11]+Z[15]);H.x=ae*Fe,H.y=He*Fe,H.z=Ke*Fe}e.transformCoordinatesFromFloatsToRef=we;function Ae(p,g){let w=dn();return ve(p,g,w),w}e.transformNormal=Ae;function ve(p,g,w){he(p.x,p.y,p.z,g,w)}e.transformNormalToRef=ve;function he(p,g,w,j,H){let Z=j._m;H.x=p*Z[0]+g*Z[4]+w*Z[8],H.y=p*Z[1]+g*Z[5]+w*Z[9],H.z=p*Z[2]+g*Z[6]+w*Z[10]}e.transformNormalFromFloatsToRef=he;function ft(p,g,w,j,H){let Z=H*H,ae=H*Z,He=.5*(2*g.x+(-p.x+w.x)*H+(2*p.x-5*g.x+4*w.x-j.x)*Z+(-p.x+3*g.x-3*w.x+j.x)*ae),Ke=.5*(2*g.y+(-p.y+w.y)*H+(2*p.y-5*g.y+4*w.y-j.y)*Z+(-p.y+3*g.y-3*w.y+j.y)*ae),Fe=.5*(2*g.z+(-p.z+w.z)*H+(2*p.z-5*g.z+4*w.z-j.z)*Z+(-p.z+3*g.z-3*w.z+j.z)*ae);return i(He,Ke,Fe)}e.catmullRom=ft;function k(p,g,w){let j=i();return B(p,g,w,j),j}e.clamp=k;function B(p,g,w,j){let H=p.x;H=H>w.x?w.x:H,H=H<g.x?g.x:H;let Z=p.y;Z=Z>w.y?w.y:Z,Z=Z<g.y?g.y:Z;let ae=p.z;ae=ae>w.z?w.z:ae,ae=ae<g.z?g.z:ae,d(H,Z,ae,j)}e.clampToRef=B;function G(p,g,w,j,H){let Z=H*H,ae=H*Z,He=2*ae-3*Z+1,Ke=-2*ae+3*Z,Fe=ae-2*Z+H,Dt=ae-Z,ln=p.x*He+w.x*Ke+g.x*Fe+j.x*Dt,Jt=p.y*He+w.y*Ke+g.y*Fe+j.y*Dt,pn=p.z*He+w.z*Ke+g.z*Fe+j.z*Dt;return i(ln,Jt,pn)}e.hermite=G;function _(p,g){let w=i();return pr(g,p.x,p.y,p.z,w),w}e.minimize=_;function N(p,g){let w=i();return lr(p,g.x,g.y,g.z,w),w}e.maximize=N;function oe(p,g){return Math.sqrt(Ne(p,g))}e.distance=oe;function Ne(p,g){let w=p.x-g.x,j=p.y-g.y,H=p.z-g.z;return w*w+j*j+H*H}e.distanceSquared=Ne;function Vi(p,g){let w=t(p,g);return J(w,.5,w),w}e.center=Vi;function Hi(p,g,w){let j=dn();return sr(p,g,w,j),j}e.rotationFromAxis=Hi;function sr(p,g,w,j){let H=Be.create();Be.fromAxisToRotationQuaternionToRef(p,g,w,H),u(Be.toEulerAngles(H),j)}e.rotationFromAxisToRef=sr;function Gi(p){return`(${p.x}, ${p.y}, ${p.z})`}e.toString=Gi;function Fo(p){let g=p.x||0;return g=g*397^(p.y||0),g=g*397^(p.z||0),g}e.getHashCode=Fo;function qi(p,g){return p.x===g.x&&p.y===g.y&&p.z===g.z}e.equals=qi;function fr(p,g,w=Bu){return ke.withinEpsilon(p.x,g.x,w)&&ke.withinEpsilon(p.y,g.y,w)&&ke.withinEpsilon(p.z,g.z,w)}e.equalsWithEpsilon=fr;function ji(p,g,w,j){return p.x===g&&p.y===w&&p.z===j}e.equalsToFloats=ji;function Lo(p,g){let w=i();return Pe(p,g,w),w}e.multiply=Lo;function Pe(p,g,w){w.x=p.x*g.x,w.y=p.y*g.y,w.z=p.z*g.z}e.multiplyToRef=Pe;function ur(p,g,w,j,H){H.x=p.x*g,H.y=p.y*w,H.z=p.z*j}e.multiplyByFloatsToRef=ur;function $i(p,g,w,j){let H=i();return ur(p,g,w,j,H),H}e.multiplyByFloats=$i;function dr(p,g){return{x:p.x/g.x,y:p.y/g.y,z:p.z/g.z}}e.divide=dr;function Yi(p,g,w){w.x=p.x/g.x,w.y=p.y/g.y,w.z=p.z/g.z}e.divideToRef=Yi;function lr(p,g,w,j,H){g>p.x?H.x=g:H.x=p.x,w>p.y?H.y=w:H.y=p.y,j>p.z?H.z=j:H.z=p.z}e.maximizeInPlaceFromFloatsToRef=lr;function pr(p,g,w,j,H){g<p.x?H.x=g:H.x=p.x,w<p.y?H.y=w:H.y=p.y,j<p.z?H.z=j:H.z=p.z}e.minimizeInPlaceFromFloatsToRef=pr;function Ji(p){return i(Math.floor(p.x),Math.floor(p.y),Math.floor(p.z))}e.floor=Ji;function mr(p){return i(p.x-Math.floor(p.x),p.y-Math.floor(p.y),p.z-Math.floor(p.z))}e.fract=mr;function dn(){return i(0,0,0)}e.Zero=dn;function Zi(){return i(1,1,1)}e.One=Zi;function Do(){return i(0,1,0)}e.Up=Do;function Xi(){return i(0,-1,0)}e.Down=Xi;function Ki(){return i(0,0,1)}e.Forward=Ki;function hr(){return i(0,0,-1)}e.Backward=hr;function yr(){return i(1,0,0)}e.Right=yr;function Qi(){return i(-1,0,0)}e.Left=Qi;function ea(){return i(Math.random(),Math.random(),Math.random())}e.Random=ea})(O||(O={}));var Mi;(function(e){function n(y,I,E,M){return{normal:O.create(y,I,E),d:M}}e.create=n;function i(y){return n(y[0],y[1],y[2],y[3])}e.fromArray=i;function t(y,I,E){return n(0,0,0,0)}e.fromPoints=t;function r(y,I){let E=n(0,0,0,0);return E.normal=O.normalize(I),E.d=-(I.x*y.x+I.y*y.y+I.z*y.z),E}e.romPositionAndNormal=r;function o(y,I,E){let M=-(I.x*y.x+I.y*y.y+I.z*y.z);return O.dot(E,I)+M}e.signedDistanceToPlaneFromPositionAndNormal=o;function s(y){return[y.normal.x,y.normal.y,y.normal.z,y.d]}e.asArray=s;function c(y){return n(y.normal.x,y.normal.y,y.normal.z,y.d)}e.clone=c;function a(y){return 0}e.getHashCode=a;function u(y){let I=n(0,0,0,0),E=Math.sqrt(y.normal.x*y.normal.x+y.normal.y*y.normal.y+y.normal.z*y.normal.z),M=0;return E!==0&&(M=1/E),I.normal.x=y.normal.x*M,I.normal.y=y.normal.y*M,I.normal.z=y.normal.z*M,I.d*=M,y}e.normalize=u;function d(y,I){let E=Ct.create();Ct.transposeToRef(I,E);let M=E._m,V=y.normal.x,J=y.normal.y,de=y.normal.z,v=y.d,L=V*M[0]+J*M[1]+de*M[2]+v*M[3],$=V*M[4]+J*M[5]+de*M[6]+v*M[7],P=V*M[8]+J*M[9]+de*M[10]+v*M[11],q=V*M[12]+J*M[13]+de*M[14]+v*M[15];return n(L,$,P,q)}e.transform=d;function R(y,I){return y.normal.x*I.x+y.normal.y*I.y+y.normal.z*I.z+y.d}e.dotCoordinate=R;function x(y,I,E){let M=I.x-y.x,V=I.y-y.y,J=I.z-y.z,de=E.x-y.x,v=E.y-y.y,L=E.z-y.z,$=V*L-J*v,P=J*de-M*L,q=M*v-V*de,S=Math.sqrt($*$+P*P+q*q),A;S!==0?A=1/S:A=0;let U=O.create($*A,P*A,q*A);return{normal:U,d:-(U.x*y.x+U.y*y.y+U.z*y.z)}}e.copyFromPoints=x;function F(y,I,E){return O.dot(y.normal,I)<=E}e.isFrontFacingTo=F;function b(y,I){return O.dot(I,y.normal)+y.d}e.signedDistanceTo=b})(Mi||(Mi={}));var Ct;(function(e){function n(f){return f._m}e.m=n;let i=0,t={};function r(){return t}e.IdentityReadonly=r;function o(){let f={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return Ze(f,!1),f}e.create=o;function s(f,l=0){let m=o();return c(f,l,m),m}e.fromArray=s;function c(f,l,m){for(let h=0;h<16;h++)m._m[h]=f[h+l];Pe(m)}e.fromArrayToRef=c;function a(f,l,m,h){for(let T=0;T<16;T++)h._m[T]=f[T+l]*m;Pe(h)}e.fromFloatArrayToRefScaled=a;function u(f,l,m,h,T,z,C,W,X,re,ce,Te,fe,Le,De,qe,Ue){let ie=Ue._m;ie[0]=f,ie[1]=l,ie[2]=m,ie[3]=h,ie[4]=T,ie[5]=z,ie[6]=C,ie[7]=W,ie[8]=X,ie[9]=re,ie[10]=ce,ie[11]=Te,ie[12]=fe,ie[13]=Le,ie[14]=De,ie[15]=qe,Pe(Ue)}e.fromValuesToRef=u;function d(f,l,m,h,T,z,C,W,X,re,ce,Te,fe,Le,De,qe){let Ue=o(),ie=Ue._m;return ie[0]=f,ie[1]=l,ie[2]=m,ie[3]=h,ie[4]=T,ie[5]=z,ie[6]=C,ie[7]=W,ie[8]=X,ie[9]=re,ie[10]=ce,ie[11]=Te,ie[12]=fe,ie[13]=Le,ie[14]=De,ie[15]=qe,Pe(Ue),Ue}e.fromValues=d;function R(f,l,m){let h=o();return x(f,l,m,h),h}e.compose=R;function x(f,l,m,h){let T=[o(),o(),o()];S(f.x,f.y,f.z,T[1]),Lo(l,T[0]),H(T[1],T[0],h),yr(h,m)}e.composeToRef=x;function F(){let f=d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return Ze(f,!0),f}e.Identity=F;function b(f){u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,f),Ze(f,!0)}e.IdentityToRef=b;function y(){let f=d(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return Ze(f,!1),f}e.Zero=y;function I(f){let l=o();return E(f,l),l}e.RotationX=I;function E(f,l){let m=Math.sin(f),h=Math.cos(f);u(1,0,0,0,0,h,m,0,0,-m,h,0,0,0,0,1,l),Ze(l,h===1&&m===0)}e.rotationXToRef=E;function M(f){let l=o();return V(f,l),l}e.rotationY=M;function V(f,l){let m=Math.sin(f),h=Math.cos(f);u(h,0,-m,0,0,1,0,0,m,0,h,0,0,0,0,1,l),Ze(l,h===1&&m===0)}e.rotationYToRef=V;function J(f){let l=o();return de(f,l),l}e.rotationZ=J;function de(f,l){let m=Math.sin(f),h=Math.cos(f);u(h,m,0,0,-m,h,0,0,0,0,1,0,0,0,0,1,l),Ze(l,h===1&&m===0)}e.rotationZToRef=de;function v(f,l){let m=o();return L(f,l,m),m}e.rotationAxis=v;function L(f,l,m){let h=Math.sin(-l),T=Math.cos(-l),z=1-T,C=O.normalize(f),W=m._m;W[0]=C.x*C.x*z+T,W[1]=C.x*C.y*z-C.z*h,W[2]=C.x*C.z*z+C.y*h,W[3]=0,W[4]=C.y*C.x*z+C.z*h,W[5]=C.y*C.y*z+T,W[6]=C.y*C.z*z-C.x*h,W[7]=0,W[8]=C.z*C.x*z-C.y*h,W[9]=C.z*C.y*z+C.x*h,W[10]=C.z*C.z*z+T,W[11]=0,W[12]=0,W[13]=0,W[14]=0,W[15]=1,Pe(m)}e.rotationAxisToRef=L;function $(f,l,m){let h=o();return P(f,l,m,h),h}e.rotationYawPitchRoll=$;function P(f,l,m,h){let T=Be.Zero();Be.fromRotationYawPitchRollToRef(f,l,m,T),Lo(T,h)}e.rotationYawPitchRollToRef=P;function q(f,l,m){let h=o();return S(f,l,m,h),h}e.scaling=q;function S(f,l,m,h){u(f,0,0,0,0,l,0,0,0,0,m,0,0,0,0,1,h),Ze(h,f===1&&l===1&&m===1)}e.scalingToRef=S;function A(f,l,m){let h=o();return U(f,l,m,h),h}e.translation=A;function U(f,l,m,h){u(1,0,0,0,0,1,0,0,0,0,1,0,f,l,m,1,h),Ze(h,f===0&&l===0&&m===0)}e.translationToRef=U;function Y(f,l,m){let h=o();return K(f,l,m,h),h}e.lerp=Y;function K(f,l,m,h){for(let T=0;T<16;T++)h._m[T]=f._m[T]*(1-m)+l._m[T]*m;Pe(h)}e.lerpToRef=K;function le(f,l,m){let h=o();return pe(f,l,m,h),h}e.decomposeLerp=le;function pe(f,l,m,h){let T=O.Zero(),z=Be.Zero(),C=O.Zero();Fe(f,T,z,C);let W=O.Zero(),X=Be.Zero(),re=O.Zero();Fe(l,W,X,re);let ce=O.Zero();O.lerpToRef(T,W,m,ce);let Te=Be.Zero();Be.slerpToRef(z,X,m,Te);let fe=O.Zero();O.lerpToRef(C,re,m,fe),x(ce,Te,fe,h)}e.decomposeLerpToRef=pe;function me(f,l,m){let h=o();return be(f,l,m,h),h}e.LookAtLH=me;function be(f,l,m,h){let T=O.Zero(),z=O.Zero(),C=O.Zero();O.subtractToRef(l,f,C),O.normalizeToRef(C,C),O.crossToRef(m,C,T);let W=O.lengthSquared(T);W===0?T.x=1:O.normalizeFromLengthToRef(T,Math.sqrt(W),T),O.crossToRef(C,T,z),O.normalizeToRef(z,z);let X=-O.dot(T,f),re=-O.dot(z,f),ce=-O.dot(C,f);u(T.x,z.x,C.x,0,T.y,z.y,C.y,0,T.z,z.z,C.z,0,X,re,ce,1,h)}e.lookAtLHToRef=be;function ye(f,l,m){let h=o();return we(f,l,m,h),h}e.lookAtRH=ye;function we(f,l,m,h){let T=O.Zero(),z=O.Zero(),C=O.Zero();O.subtractToRef(f,l,C),O.normalizeToRef(C,C),O.crossToRef(m,C,T);let W=O.lengthSquared(T);W===0?T.x=1:O.normalizeFromLengthToRef(T,Math.sqrt(W),T),O.crossToRef(C,T,z),O.normalizeToRef(z,z);let X=-O.dot(T,f),re=-O.dot(z,f),ce=-O.dot(C,f);u(T.x,z.x,C.x,0,T.y,z.y,C.y,0,T.z,z.z,C.z,0,X,re,ce,1,h)}e.lookAtRHToRef=we;function Ae(f,l,m,h){let T=o();return ve(f,l,m,h,T),T}e.orthoLH=Ae;function ve(f,l,m,h,T){let z=m,C=h,W=2/f,X=2/l,re=2/(C-z),ce=-(C+z)/(C-z);u(W,0,0,0,0,X,0,0,0,0,re,0,0,0,ce,1,T),Ze(T,W===1&&X===1&&re===1&&ce===0)}e.orthoLHToRef=ve;function he(f,l,m,h,T,z){let C=o();return ft(f,l,m,h,T,z,C),C}e.OrthoOffCenterLH=he;function ft(f,l,m,h,T,z,C){let W=T,X=z,re=2/(l-f),ce=2/(h-m),Te=2/(X-W),fe=-(X+W)/(X-W),Le=(f+l)/(f-l),De=(h+m)/(m-h);u(re,0,0,0,0,ce,0,0,0,0,Te,0,Le,De,fe,1,C),Pe(C)}e.orthoOffCenterLHToRef=ft;function k(f,l,m,h,T,z){let C=o();return B(f,l,m,h,T,z,C),C}e.orthoOffCenterRH=k;function B(f,l,m,h,T,z,C){ft(f,l,m,h,T,z,C),C._m[10]*=-1}e.orthoOffCenterRHToRef=B;function G(f,l,m,h){let T=o(),z=m,C=h,W=2*z/f,X=2*z/l,re=(C+z)/(C-z),ce=-2*C*z/(C-z);return u(W,0,0,0,0,X,0,0,0,0,re,1,0,0,ce,0,T),Ze(T,!1),T}e.perspectiveLH=G;function _(f,l,m,h){let T=o();return N(f,l,m,h,T),T}e.perspectiveFovLH=_;function N(f,l,m,h,T,z=!0){let C=m,W=h,X=1/Math.tan(f*.5),re=z?X/l:X,ce=z?X:X*l,Te=(W+C)/(W-C),fe=-2*W*C/(W-C);u(re,0,0,0,0,ce,0,0,0,0,Te,1,0,0,fe,0,T),Ze(T,!1)}e.perspectiveFovLHToRef=N;function oe(f,l,m,h){let T=o();return Ne(f,l,m,h,T),T}e.PerspectiveFovRH=oe;function Ne(f,l,m,h,T,z=!0){let C=m,W=h,X=1/Math.tan(f*.5),re=z?X/l:X,ce=z?X:X*l,Te=-(W+C)/(W-C),fe=-2*W*C/(W-C);u(re,0,0,0,0,ce,0,0,0,0,Te,-1,0,0,fe,0,T),Ze(T,!1)}e.perspectiveFovRHToRef=Ne;function Vi(f,l,m,h,T=!1){let z=T?-1:1,C=Math.tan(f.upDegrees*Math.PI/180),W=Math.tan(f.downDegrees*Math.PI/180),X=Math.tan(f.leftDegrees*Math.PI/180),re=Math.tan(f.rightDegrees*Math.PI/180),ce=2/(X+re),Te=2/(C+W),fe=h._m;fe[0]=ce,fe[1]=fe[2]=fe[3]=fe[4]=0,fe[5]=Te,fe[6]=fe[7]=0,fe[8]=(X-re)*ce*.5,fe[9]=-((C-W)*Te*.5),fe[10]=-m/(l-m),fe[11]=1*z,fe[12]=fe[13]=fe[15]=0,fe[14]=-(2*m*l)/(m-l),Pe(h)}e.perspectiveFovWebVRToRef=Vi;function Hi(f){return[f._m[0],f._m[1],f._m[4],f._m[5]]}e.GetAsMatrix2x2=Hi;function sr(f){return[f._m[0],f._m[1],f._m[2],f._m[4],f._m[5],f._m[6],f._m[8],f._m[9],f._m[10]]}e.GetAsMatrix3x3=sr;function Gi(f){let l=o();return Fo(f,l),l}e.transpose=Gi;function Fo(f,l){let m=l._m,h=f._m;m[0]=h[0],m[1]=h[4],m[2]=h[8],m[3]=h[12],m[4]=h[1],m[5]=h[5],m[6]=h[9],m[7]=h[13],m[8]=h[2],m[9]=h[6],m[10]=h[10],m[11]=h[14],m[12]=h[3],m[13]=h[7],m[14]=h[11],m[15]=h[15],Ze(l,f.isIdentity,f._isIdentityDirty)}e.transposeToRef=Fo;function qi(f){let l=o();return fr(f,l),l}e.reflection=qi;function fr(f,l){let m=Mi.normalize(f),h=m.normal.x,T=m.normal.y,z=m.normal.z,C=-2*h,W=-2*T,X=-2*z;u(C*h+1,W*h,X*h,0,C*T,W*T+1,X*T,0,C*z,W*z,X*z+1,0,C*m.d,W*m.d,X*m.d,1,l)}e.reflectionToRef=fr;function ji(f,l,m,h){u(f.x,f.y,f.z,0,l.x,l.y,l.z,0,m.x,m.y,m.z,0,0,0,0,1,h)}e.fromXYZAxesToRef=ji;function Lo(f,l){let m=f.x*f.x,h=f.y*f.y,T=f.z*f.z,z=f.x*f.y,C=f.z*f.w,W=f.z*f.x,X=f.y*f.w,re=f.y*f.z,ce=f.x*f.w;l._m[0]=1-2*(h+T),l._m[1]=2*(z+C),l._m[2]=2*(W-X),l._m[3]=0,l._m[4]=2*(z-C),l._m[5]=1-2*(T+m),l._m[6]=2*(re+ce),l._m[7]=0,l._m[8]=2*(W+X),l._m[9]=2*(re-ce),l._m[10]=1-2*(h+m),l._m[11]=0,l._m[12]=0,l._m[13]=0,l._m[14]=0,l._m[15]=1,Pe(l)}e.fromQuaternionToRef=Lo;function Pe(f){f.updateFlag=i++,f.isIdentity=!1,f.isIdentity3x2=!1,f._isIdentityDirty=!0,f._isIdentity3x2Dirty=!0}function ur(f){if(f._isIdentityDirty){f._isIdentityDirty=!1;let l=f._m;f.isIdentity=l[0]===1&&l[1]===0&&l[2]===0&&l[3]===0&&l[4]===0&&l[5]===1&&l[6]===0&&l[7]===0&&l[8]===0&&l[9]===0&&l[10]===1&&l[11]===0&&l[12]===0&&l[13]===0&&l[14]===0&&l[15]===1}return f.isIdentity}e.isIdentityUpdate=ur;function $i(f){return f._isIdentity3x2Dirty&&(f._isIdentity3x2Dirty=!1,f._m[0]!==1||f._m[5]!==1||f._m[15]!==1||f._m[1]!==0||f._m[2]!==0||f._m[3]!==0||f._m[4]!==0||f._m[6]!==0||f._m[7]!==0||f._m[8]!==0||f._m[9]!==0||f._m[10]!==0||f._m[11]!==0||f._m[12]!==0||f._m[13]!==0||f._m[14]!==0?f.isIdentity3x2=!1:f.isIdentity3x2=!0),f.isIdentity3x2}e.isIdentityAs3x2Update=$i;function dr(f){if(f.isIdentity===!0)return 1;let l=f._m,m=l[0],h=l[1],T=l[2],z=l[3],C=l[4],W=l[5],X=l[6],re=l[7],ce=l[8],Te=l[9],fe=l[10],Le=l[11],De=l[12],qe=l[13],Ue=l[14],ie=l[15],ot=fe*ie-Ue*Le,ht=Te*ie-qe*Le,yt=Te*Ue-qe*fe,bt=ce*ie-De*Le,xt=ce*Ue-fe*De,gt=ce*qe-De*Te,Rt=+(W*ot-X*ht+re*yt),Wt=-(C*ot-X*bt+re*xt),Vt=+(C*ht-W*bt+re*gt),Ht=-(C*yt-W*xt+X*gt);return m*Rt+h*Wt+T*Vt+z*Ht}e.determinant=dr;function Yi(f){return f._m}e.toArray=Yi;function lr(f){return f._m}e.asArray=lr;function pr(f){u(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f),Ze(f,!1)}e.reset=pr;function Ji(f,l){let m=o();return mr(f,l,m),m}e.add=Ji;function mr(f,l,m){for(let h=0;h<16;h++)m._m[h]=f._m[h]+l._m[h];Pe(m)}e.addToRef=mr;function dn(f,l){for(let m=0;m<16;m++)f._m[m]+=l._m[m];Pe(f)}e.addToSelf=dn;function Zi(f){let l=o();return Do(f,l),l}e.invert=Zi;function Do(f,l){if(f.isIdentity===!0){w(f,l);return}let m=f._m,h=m[0],T=m[1],z=m[2],C=m[3],W=m[4],X=m[5],re=m[6],ce=m[7],Te=m[8],fe=m[9],Le=m[10],De=m[11],qe=m[12],Ue=m[13],ie=m[14],ot=m[15],ht=Le*ot-ie*De,yt=fe*ot-Ue*De,bt=fe*ie-Ue*Le,xt=Te*ot-qe*De,gt=Te*ie-Le*qe,Rt=Te*Ue-qe*fe,Wt=+(X*ht-re*yt+ce*bt),Vt=-(W*ht-re*xt+ce*gt),Ht=+(W*yt-X*xt+ce*Rt),mn=-(W*bt-X*gt+re*Rt),hn=h*Wt+T*Vt+z*Ht+C*mn;if(hn===0){w(f,l);return}let We=1/hn,yn=re*ot-ie*ce,bn=X*ot-Ue*ce,xn=X*ie-Ue*re,gn=W*ot-qe*ce,En=W*ie-qe*re,Tn=W*Ue-qe*X,Sn=re*De-Le*ce,nc=X*De-fe*ce,oc=X*Le-fe*re,rc=W*De-Te*ce,ic=W*Le-Te*re,ac=W*fe-Te*X,td=-(T*ht-z*yt+C*bt),nd=+(h*ht-z*xt+C*gt),od=-(h*yt-T*xt+C*Rt),rd=+(h*bt-T*gt+z*Rt),id=+(T*yn-z*bn+C*xn),ad=-(h*yn-z*gn+C*En),cd=+(h*bn-T*gn+C*Tn),sd=-(h*xn-T*En+z*Tn),fd=-(T*Sn-z*nc+C*oc),ud=+(h*Sn-z*rc+C*ic),dd=-(h*nc-T*rc+C*ac),ld=+(h*oc-T*ic+z*ac);u(Wt*We,td*We,id*We,fd*We,Vt*We,nd*We,ad*We,ud*We,Ht*We,od*We,cd*We,dd*We,mn*We,rd*We,sd*We,ld*We,l)}e.invertToRef=Do;function Xi(f,l,m){f._m[l]+=m,Pe(f)}e.addAtIndex=Xi;function Ki(f,l,m){return f._m[l]*=m,Pe(f),f}e.multiplyAtIndex=Ki;function hr(f,l,m,h){f._m[12]=l,f._m[13]=m,f._m[14]=h,Pe(f)}e.setTranslationFromFloats=hr;function yr(f,l){hr(f,l.x,l.y,l.z)}e.setTranslation=yr;function Qi(f){return O.create(f._m[12],f._m[13],f._m[14])}e.getTranslation=Qi;function ea(f,l){l.x=f._m[12],l.y=f._m[13],l.z=f._m[14]}e.getTranslationToRef=ea;function p(f){let l=f._m;return u(1,0,0,0,0,1,0,0,0,0,1,0,l[12],l[13],l[14],l[15],f),Ze(f,l[12]===0&&l[13]===0&&l[14]===0&&l[15]===1),f}e.removeRotationAndScaling=p;function g(f,l){let m=o();return H(f,l,m),m}e.multiply=g;function w(f,l){j(f,l._m),Ze(l,f.isIdentity,f._isIdentityDirty,f.isIdentity3x2,f._isIdentity3x2Dirty)}e.copy=w;function j(f,l,m=0){for(let h=0;h<16;h++)l[m+h]=f._m[h]}e.copyToArray=j;function H(f,l,m){if(f.isIdentity){w(l,m);return}if(l.isIdentity){w(f,m);return}Z(f,l,m._m,0),Pe(m)}e.multiplyToRef=H;function Z(f,l,m,h){let T=f._m,z=l._m,C=T[0],W=T[1],X=T[2],re=T[3],ce=T[4],Te=T[5],fe=T[6],Le=T[7],De=T[8],qe=T[9],Ue=T[10],ie=T[11],ot=T[12],ht=T[13],yt=T[14],bt=T[15],xt=z[0],gt=z[1],Rt=z[2],Wt=z[3],Vt=z[4],Ht=z[5],mn=z[6],hn=z[7],We=z[8],yn=z[9],bn=z[10],xn=z[11],gn=z[12],En=z[13],Tn=z[14],Sn=z[15];m[h]=C*xt+W*Vt+X*We+re*gn,m[h+1]=C*gt+W*Ht+X*yn+re*En,m[h+2]=C*Rt+W*mn+X*bn+re*Tn,m[h+3]=C*Wt+W*hn+X*xn+re*Sn,m[h+4]=ce*xt+Te*Vt+fe*We+Le*gn,m[h+5]=ce*gt+Te*Ht+fe*yn+Le*En,m[h+6]=ce*Rt+Te*mn+fe*bn+Le*Tn,m[h+7]=ce*Wt+Te*hn+fe*xn+Le*Sn,m[h+8]=De*xt+qe*Vt+Ue*We+ie*gn,m[h+9]=De*gt+qe*Ht+Ue*yn+ie*En,m[h+10]=De*Rt+qe*mn+Ue*bn+ie*Tn,m[h+11]=De*Wt+qe*hn+Ue*xn+ie*Sn,m[h+12]=ot*xt+ht*Vt+yt*We+bt*gn,m[h+13]=ot*gt+ht*Ht+yt*yn+bt*En,m[h+14]=ot*Rt+ht*mn+yt*bn+bt*Tn,m[h+15]=ot*Wt+ht*hn+yt*xn+bt*Sn}e.multiplyToArray=Z;function ae(f,l){let m=l;if(!m)return!1;if((f.isIdentity||m.isIdentity)&&!f._isIdentityDirty&&!m._isIdentityDirty)return f.isIdentity&&m.isIdentity;let h=f._m,T=m._m;return h[0]===T[0]&&h[1]===T[1]&&h[2]===T[2]&&h[3]===T[3]&&h[4]===T[4]&&h[5]===T[5]&&h[6]===T[6]&&h[7]===T[7]&&h[8]===T[8]&&h[9]===T[9]&&h[10]===T[10]&&h[11]===T[11]&&h[12]===T[12]&&h[13]===T[13]&&h[14]===T[14]&&h[15]===T[15]}e.equals=ae;function He(f){let l=o();return w(f,l),l}e.clone=He;function Ke(f){let l=f._m[0]||0;for(let m=1;m<16;m++)l=l*397^(f._m[m]||0);return l}e.getHashCode=Ke;function Fe(f,l,m,h){if(f.isIdentity)return h&&(h.x=0,h.y=0,h.z=0),l&&(l.x=1,l.y=1,l.z=1),m&&(m.w=1,m.x=0,m.y=0,m.z=0),!0;let T=f._m;h&&(h.x=T[12],h.y=T[13],h.z=T[14]);let z=l||O.Zero();if(z.x=Math.sqrt(T[0]*T[0]+T[1]*T[1]+T[2]*T[2]),z.y=Math.sqrt(T[4]*T[4]+T[5]*T[5]+T[6]*T[6]),z.z=Math.sqrt(T[8]*T[8]+T[9]*T[9]+T[10]*T[10]),dr(f)<=0&&(z.y*=-1),z.x===0||z.y===0||z.z===0)return m&&(m.w=1,m.x=0,m.y=0,m.z=0),!1;if(m){let C=1/z.x,W=1/z.y,X=1/z.z,re=o();u(T[0]*C,T[1]*C,T[2]*C,0,T[4]*W,T[5]*W,T[6]*W,0,T[8]*X,T[9]*X,T[10]*X,0,0,0,0,1,re),Be.fromRotationMatrixToRef(re,m)}return!0}e.decompose=Fe;function Dt(f,l,m,h,T,z){if(l<0||l>3)return;let C=l*4;f._m[C+0]=m,f._m[C+1]=h,f._m[C+2]=T,f._m[C+3]=z,Pe(f)}e.setRowFromFloats=Dt;function ln(f,l){let m=o();return Jt(f,l,m),m}e.scale=ln;function Jt(f,l,m){for(let h=0;h<16;h++)m._m[h]=f._m[h]*l;Pe(m)}e.scaleToRef=Jt;function pn(f,l,m){for(let h=0;h<16;h++)m._m[h]+=f._m[h]*l;Pe(m)}e.scaleAndAddToRef=pn;function Xu(f,l){let m=o();Do(f,m),Fo(m,l);let h=l._m;u(h[0],h[1],h[2],0,h[4],h[5],h[6],0,h[8],h[9],h[10],0,0,0,0,1,l)}e.normalMatrixToRef=Xu;function Ku(f){let l=o();return tc(f,l),l}e.getRotationMatrix=Ku;function tc(f,l){let m=O.Zero();if(!Fe(f,m)){l=F();return}let h=f._m,T=1/m.x,z=1/m.y,C=1/m.z;u(h[0]*T,h[1]*T,h[2]*T,0,h[4]*z,h[5]*z,h[6]*z,0,h[8]*C,h[9]*C,h[10]*C,0,0,0,0,1,l)}e.getRotationMatrixToRef=tc;function Qu(f){f._m[2]*=-1,f._m[6]*=-1,f._m[8]*=-1,f._m[9]*=-1,f._m[14]*=-1,Pe(f)}e.toggleModelMatrixHandInPlace=Qu;function ed(f){f._m[8]*=-1,f._m[9]*=-1,f._m[10]*=-1,f._m[11]*=-1,Pe(f)}e.toggleProjectionMatrixHandInPlace=ed;function Ze(f,l,m=!1,h=!1,T=!0){f.updateFlag=i++,f.isIdentity=l,f.isIdentity3x2=l||h,f._isIdentityDirty=f.isIdentity?!1:m,f._isIdentity3x2Dirty=f.isIdentity3x2?!1:T}})(Ct||(Ct={}));var Be;(function(e){function n(S=0,A=0,U=0,Y=1){return{x:S,y:A,z:U,w:Y}}e.create=n;function i(S,A){return{x:S.x+A.x,y:S.y+A.y,z:S.z+A.z,w:S.w+A.w}}e.add=i;function t(S,A,U){let Y=A*.5,K=S*.5,le=U*.5,pe=Math.cos(Y),me=Math.cos(K),be=Math.cos(le),ye=Math.sin(Y),we=Math.sin(K),Ae=Math.sin(le);return n(me*ye*be+we*pe*Ae,we*pe*be-me*ye*Ae,me*pe*Ae-we*ye*be,me*pe*be+we*ye*Ae)}e.fromRotationYawPitchRoll=t;function r(S,A,U){return t(A*tr,S*tr,U*tr)}e.fromEulerDegrees=r;function o(S){return Math.sqrt(s(S))}e.length=o;function s(S){return S.x*S.x+S.y*S.y+S.z*S.z+S.w*S.w}e.lengthSquared=s;function c(S,A){return S.x*A.x+S.y*A.y+S.z*A.z+S.w*A.w}e.dot=c;function a(S,A){let U=c(S,A);return Math.acos(Math.min(Math.abs(U),1))*2*nr}e.angle=a;function u(S,A,U){let Y=a(S,A);if(Y===0)return A;let K=Math.min(1,U/Y);return E(S,A,K)}e.rotateTowards=u;function d(S,A={x:0,y:1,z:0}){let U=O.normalize(S),Y=O.normalize(O.cross(A,U)),K=O.cross(U,Y),le=Y.x,pe=Y.y,me=Y.z,be=K.x,ye=K.y,we=K.z,Ae=U.x,ve=U.y,he=U.z,ft=le+ye+he,k=n();if(ft>0){let _=Math.sqrt(ft+1);return k.w=_*.5,_=.5/_,k.x=(we-ve)*_,k.y=(Ae-me)*_,k.z=(pe-be)*_,k}if(le>=ye&&le>=he){let _=Math.sqrt(1+le-ye-he),N=.5/_;return k.x=.5*_,k.y=(pe+be)*N,k.z=(me+Ae)*N,k.w=(we-ve)*N,k}if(ye>he){let _=Math.sqrt(1+ye-le-he),N=.5/_;return k.x=(be+pe)*N,k.y=.5*_,k.z=(ve+we)*N,k.w=(Ae-me)*N,k}let B=Math.sqrt(1+he-le-ye),G=.5/B;return k.x=(Ae+me)*G,k.y=(ve+we)*G,k.z=.5*B,k.w=(pe-be)*G,k}e.lookRotation=d;function R(S){let A=1/o(S);return n(S.x*A,S.y*A,S.z*A,S.w*A)}e.normalize=R;function x(S,A,U=O.Up()){let Y=O.normalize(S),K=O.normalize(A),le=O.cross(Y,K),pe=Math.sqrt(O.lengthSquared(Y)*O.lengthSquared(K))+O.dot(Y,K);return O.lengthSquared(le)<1e-4?Math.abs(pe)<1e-4?R(n(U.x,U.y,U.z,0)):F():R(n(le.x,le.y,le.z,pe))}e.fromToRotation=x;function F(){return n(0,0,0,1)}e.Identity=F;function b(S){let A=O.create(),U=S.x*S.x+S.y*S.y+S.z*S.z+S.w*S.w,Y=S.x*S.w-S.y*S.z;return Y>.4995*U?(A.x=Math.PI/2,A.y=2*Math.atan2(S.y,S.x),A.z=0):Y<-.4995*U?(A.x=-Math.PI/2,A.y=-2*Math.atan2(S.y,S.x),A.z=0):(A.x=Math.asin(2*(S.w*S.x-S.y*S.z)),A.y=Math.atan2(2*S.w*S.y+2*S.z*S.x,1-2*(S.x*S.x+S.y*S.y)),A.z=Math.atan2(2*S.w*S.z+2*S.x*S.y,1-2*(S.z*S.z+S.x*S.x))),A.x*=nr,A.y*=nr,A.z*=nr,A.x=ke.repeat(A.x,360),A.y=ke.repeat(A.y,360),A.z=ke.repeat(A.z,360),A}e.toEulerAngles=b;function y(S,A,U,Y){let K=A*.5,le=S*.5,pe=U*.5,me=Math.cos(K),be=Math.cos(le),ye=Math.cos(pe),we=Math.sin(K),Ae=Math.sin(le),ve=Math.sin(pe);Y.x=be*we*ye+Ae*me*ve,Y.y=Ae*me*ye-be*we*ve,Y.z=be*me*ve-Ae*we*ye,Y.w=be*me*ye+Ae*we*ve}e.fromRotationYawPitchRollToRef=y;function I(S,A){let U=S._m,Y=U[0],K=U[4],le=U[8],pe=U[1],me=U[5],be=U[9],ye=U[2],we=U[6],Ae=U[10],ve=Y+me+Ae,he;ve>0?(he=.5/Math.sqrt(ve+1),A.w=.25/he,A.x=(we-be)*he,A.y=(le-ye)*he,A.z=(pe-K)*he):Y>me&&Y>Ae?(he=2*Math.sqrt(1+Y-me-Ae),A.w=(we-be)/he,A.x=.25*he,A.y=(K+pe)/he,A.z=(le+ye)/he):me>Ae?(he=2*Math.sqrt(1+me-Y-Ae),A.w=(le-ye)/he,A.x=(K+pe)/he,A.y=.25*he,A.z=(be+we)/he):(he=2*Math.sqrt(1+Ae-Y-me),A.w=(pe-K)/he,A.x=(le+ye)/he,A.y=(be+we)/he,A.z=.25*he)}e.fromRotationMatrixToRef=I;function E(S,A,U){let Y=e.Identity();return e.slerpToRef(S,A,U,Y),Y}e.slerp=E;function M(S,A,U,Y){let K,le,pe=S.x*A.x+S.y*A.y+S.z*A.z+S.w*A.w,me=!1;if(pe<0&&(me=!0,pe=-pe),pe>.999999)le=1-U,K=me?-U:U;else{let be=Math.acos(pe),ye=1/Math.sin(be);le=Math.sin((1-U)*be)*ye,K=me?-Math.sin(U*be)*ye:Math.sin(U*be)*ye}Y.x=le*S.x+K*A.x,Y.y=le*S.y+K*A.y,Y.z=le*S.z+K*A.z,Y.w=le*S.w+K*A.w}e.slerpToRef=M;function V(S,A){let U=n(0,0,0,1);return J(S,A,U),U}e.multiply=V;function J(S,A,U){U.x=S.x*A.w+S.y*A.z-S.z*A.y+S.w*A.x,U.y=-S.x*A.z+S.y*A.w+S.z*A.x+S.w*A.y,U.z=S.x*A.y-S.y*A.x+S.z*A.w+S.w*A.z,U.w=-S.x*A.x-S.y*A.y-S.z*A.z+S.w*A.w}e.multiplyToRef=J;function de(S,A){if(O.lengthSquared(A)===0)return e.Identity();let U=F(),Y=S*tr;Y*=.5;let K=O.normalize(A);return O.scaleToRef(K,Math.sin(Y),K),U.x=K.x,U.y=K.y,U.z=K.z,U.w=Math.cos(Y),R(U)}e.fromAngleAxis=de;function v(S,A,U){let Y=e.create(0,0,0,0);return L(S,A,U,Y),Y}e.fromAxisToRotationQuaternion=v;function L(S,A,U,Y){let K=Ct.create();Ct.fromXYZAxesToRef(O.normalize(S),O.normalize(A),O.normalize(U),K),e.fromRotationMatrixToRef(K,Y)}e.fromAxisToRotationQuaternionToRef=L;function $(){return n(0,0,0,0)}e.Zero=$;function P(S,A,U=O.Up()){let Y=e.Identity();return q(S,A,U,Y),Y}e.fromLookAt=P;function q(S,A,U=O.Up(),Y){let K=Ct.Identity();Ct.lookAtLHToRef(S,A,U,K),Ct.invertToRef(K,K),e.fromRotationMatrixToRef(K,Y)}e.fromLookAtToRef=q})(Be||(Be={}));var Un;(function(e){function n(k=0,B=0,G=0,_=1){return{r:k,g:B,b:G,a:_}}e.create=n;function i(k){if(k.substring(0,1)!=="#"||k.length!==7&&k.length!==9)return n(0,0,0,1);let B=parseInt(k.substring(1,3),16),G=parseInt(k.substring(3,5),16),_=parseInt(k.substring(5,7),16),N=k.substring(7,9),oe=N?parseInt(N,16):255;return e.fromInts(B,G,_,oe)}e.fromHexString=i;function t(k,B,G){let _=n(0,0,0,0);return e.lerpToRef(k,B,G,_),_}e.lerp=t;function r(k,B,G,_){_.r=k.r+(B.r-k.r)*G,_.g=k.g+(B.g-k.g)*G,_.b=k.b+(B.b-k.b)*G,_.a=k.a+(B.a-k.a)*G}e.lerpToRef=r;function o(){return n(1,0,0,1)}e.Red=o;function s(){return n(0,1,0,1)}e.Green=s;function c(){return n(0,0,1,1)}e.Blue=c;function a(){return n(0,0,0,1)}e.Black=a;function u(){return n(1,1,1,1)}e.White=u;function d(){return n(.5,0,.5,1)}e.Purple=d;function R(){return n(1,0,1,1)}e.Magenta=R;function x(){return n(1,1,0,1)}e.Yellow=x;function F(){return n(.5,.5,.5,1)}e.Gray=F;function b(){return n(0,1,1,1)}e.Teal=b;function y(){return n(0,0,0,0)}e.Clear=y;function I(k,B=1){return n(k.r,k.g,k.b,B)}e.fromColor3=I;function E(k,B=0){return n(k[B],k[B+1],k[B+2],k[B+3])}e.fromArray=E;function M(k,B,G,_){return n(k/255,B/255,G/255,_/255)}e.fromInts=M;function V(k,B){if(k.length===B*3){let G=[];for(let _=0;_<k.length;_+=3){let N=_/3*4;G[N]=k[_],G[N+1]=k[_+1],G[N+2]=k[_+2],G[N+3]=1}return G}return k}e.checkColors4=V;function J(k,B,G){G.r=k.r+B.r,G.g=k.g+B.g,G.b=k.b+B.b,G.a=k.a+B.a}e.addToRef=J;function de(k,B,G=0){B[G]=k.r,B[G+1]=k.g,B[G+2]=k.b,B[G+3]=k.a}e.toArray=de;function v(k,B){let G=y();return J(k,B,G),G}e.add=v;function L(k,B){let G=y();return $(k,B,G),G}e.subtract=L;function $(k,B,G){G.r=k.r-B.r,G.g=k.g-B.g,G.b=k.b-B.b,G.a=k.a-B.a}e.subtractToRef=$;function P(k,B){return n(k.r*B,k.g*B,k.b*B,k.a*B)}e.scale=P;function q(k,B,G){G.r=k.r*B,G.g=k.g*B,G.b=k.b*B,G.a=k.a*B}e.scaleToRef=q;function S(k,B,G){G.r+=k.r*B,G.g+=k.g*B,G.b+=k.b*B,G.a+=k.a*B}e.scaleAndAddToRef=S;function A(k,B=0,G=1,_){_.r=ke.clamp(k.r,B,G),_.g=ke.clamp(k.g,B,G),_.b=ke.clamp(k.b,B,G),_.a=ke.clamp(k.a,B,G)}e.clampToRef=A;function U(k,B){return n(k.r*B.r,k.g*B.g,k.b*B.b,k.a*B.a)}e.multiply=U;function Y(k,B,G){G.r=k.r*B.r,G.g=k.g*B.g,G.b=k.b*B.b,G.a=k.a*B.a}e.multiplyToRef=Y;function K(k){return"{R: "+k.r+" G:"+k.g+" B:"+k.b+" A:"+k.a+"}"}e.toString=K;function le(k){let B=k.r||0;return B=B*397^(k.g||0),B=B*397^(k.b||0),B=B*397^(k.a||0),B}e.getHashCode=le;function pe(k){return n(k.r,k.g,k.b,k.a)}e.clone=pe;function me(k,B){B.r=k.r,B.g=k.g,B.b=k.b,B.a=k.a}e.copyFrom=me;function be(k,B,G,_,N){N.r=k,N.g=B,N.b=G,N.a=_}e.copyFromFloats=be;function ye(k,B,G,_,N){N.r=k,N.g=B,N.b=G,N.a=_}e.set=ye;function we(k){let B=k.r*255|0,G=k.g*255|0,_=k.b*255|0,N=k.a*255|0;return"#"+ke.toHex(B)+ke.toHex(G)+ke.toHex(_)+ke.toHex(N)}e.toHexString=we;function Ae(k){let B=n();return ve(k,B),B}e.toLinearSpace=Ae;function ve(k,B){B.r=Math.pow(k.r,sn),B.g=Math.pow(k.g,sn),B.b=Math.pow(k.b,sn),B.a=k.a}e.toLinearSpaceToRef=ve;function he(k){let B=n();return ft(k,B),B}e.toGammaSpace=he;function ft(k,B){B.r=Math.pow(k.r,cn),B.g=Math.pow(k.g,cn),B.b=Math.pow(k.b,cn),B.a=k.a}e.toGammaSpaceToRef=ft})(Un||(Un={}));var fn;(function(e){function n(_=0,N=0,oe=0){return{r:_,g:N,b:oe}}e.create=n;function i(_){if(_.substring(0,1)!=="#"||_.length!==7)return n(0,0,0);let N=parseInt(_.substring(1,3),16),oe=parseInt(_.substring(3,5),16),Ne=parseInt(_.substring(5,7),16);return r(N,oe,Ne)}e.fromHexString=i;function t(_,N=0){return n(_[N],_[N+1],_[N+2])}e.fromArray=t;function r(_,N,oe){return n(_/255,N/255,oe/255)}e.fromInts=r;function o(_,N,oe){let Ne=n(0,0,0);return e.lerpToRef(_,N,oe,Ne),Ne}e.lerp=o;function s(_,N,oe,Ne){Ne.r=_.r+(N.r-_.r)*oe,Ne.g=_.g+(N.g-_.g)*oe,Ne.b=_.b+(N.b-_.b)*oe}e.lerpToRef=s;function c(){return n(1,0,0)}e.Red=c;function a(){return n(0,1,0)}e.Green=a;function u(){return n(0,0,1)}e.Blue=u;function d(){return n(0,0,0)}e.Black=d;function R(){return n(1,1,1)}e.White=R;function x(){return n(.5,0,.5)}e.Purple=x;function F(){return n(1,0,1)}e.Magenta=F;function b(){return n(1,1,0)}e.Yellow=b;function y(){return n(.5,.5,.5)}e.Gray=y;function I(){return n(0,1,1)}e.Teal=I;function E(){return n(Math.random(),Math.random(),Math.random())}e.Random=E;function M(_){return"{R: "+_.r+" G:"+_.g+" B:"+_.b+"}"}e.toString=M;function V(_){let N=_.r||0;return N=N*397^(_.g||0),N=N*397^(_.b||0),N}e.getHashCode=V;function J(_,N,oe=0){N[oe]=_.r,N[oe+1]=_.g,N[oe+2]=_.b}e.toArray=J;function de(_,N=1){return Un.create(_.r,_.g,_.b,N)}e.toColor4=de;function v(_){let N=new Array;return J(_,N,0),N}e.asArray=v;function L(_){return _.r*.3+_.g*.59+_.b*.11}e.toLuminance=L;function $(_,N){return n(_.r*N.r,_.g*N.g,_.b*N.b)}e.multiply=$;function P(_,N,oe){oe.r=_.r*N.r,oe.g=_.g*N.g,oe.b=_.b*N.b}e.multiplyToRef=P;function q(_,N){return N&&_.r===N.r&&_.g===N.g&&_.b===N.b}e.equals=q;function S(_,N,oe,Ne){return _.r===N&&_.g===oe&&_.b===Ne}e.equalsFloats=S;function A(_,N){return n(_.r*N,_.g*N,_.b*N)}e.scale=A;function U(_,N,oe){oe.r=_.r*N,oe.g=_.g*N,oe.b=_.b*N}e.scaleToRef=U;function Y(_,N,oe){oe.r+=_.r*N,oe.g+=_.g*N,oe.b+=_.b*N}e.scaleAndAddToRef=Y;function K(_,N=0,oe=1,Ne){Ne.r=ke.clamp(_.r,N,oe),Ne.g=ke.clamp(_.g,N,oe),Ne.b=ke.clamp(_.b,N,oe)}e.clampToRef=K;function le(_,N=0,oe=1){let Ne=e.Black();return K(_,N,oe,Ne),Ne}e.clamp=le;function pe(_,N){return n(_.r+N.r,_.g+N.g,_.b+N.b)}e.add=pe;function me(_,N,oe){oe.r=_.r+N.r,oe.g=_.g+N.g,oe.b=_.b+N.b}e.addToRef=me;function be(_,N){return n(_.r-N.r,_.g-N.g,_.b-N.b)}e.subtract=be;function ye(_,N,oe){oe.r=_.r-N.r,oe.g=_.g-N.g,oe.b=_.b-N.b}e.subtractToRef=ye;function we(_){return n(_.r,_.g,_.b)}e.clone=we;function Ae(_,N){N.r=_.r,N.g=_.g,N.b=_.b}e.copyFrom=Ae;function ve(_,N,oe,Ne){_.r=N,_.g=oe,_.b=Ne}e.set=ve;function he(_){let N=_.r*255|0,oe=_.g*255|0,Ne=_.b*255|0;return"#"+ke.toHex(N)+ke.toHex(oe)+ke.toHex(Ne)}e.toHexString=he;function ft(_){let N=n();return k(_,N),N}e.toLinearSpace=ft;function k(_,N){N.r=Math.pow(_.r,sn),N.g=Math.pow(_.g,sn),N.b=Math.pow(_.b,sn)}e.toLinearSpaceToRef=k;function B(_){let N=n();return G(_,N),N}e.toGammaSpace=B;function G(_,N){N.r=Math.pow(_.r,cn),N.g=Math.pow(_.g,cn),N.b=Math.pow(_.b,cn)}e.toGammaSpaceToRef=G})(fn||(fn={}));function or(e){let n=_e.getOrNull(e);if(!n)return O.Zero();let i=n.parent;if(i){let t=_e.get(i).rotation;return O.add(or(i),O.rotate(n.position,t))}else return n.position}function rr(e){let n=_e.getOrNull(e);if(!n)return Be.Identity();let i=n.parent;return i?Be.multiply(n.rotation,rr(i)):n.rotation}var ze;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(ze||(ze={}));function Va(e,n){switch(e){case ze.LINEAR:return n;case ze.EASEINQUAD:return Ap(n);case ze.EASEOUTQUAD:return Ip(n);case ze.EASEQUAD:return Np(n);case ze.EASEINSINE:return Op(n);case ze.EASEOUTSINE:return Cp(n);case ze.EASESINE:return Bp(n);case ze.EASEINEXPO:return zp(n);case ze.EASEOUTEXPO:return Mp(n);case ze.EASEEXPO:return vp(n);case ze.EASEINELASTIC:return Pp(n);case ze.EASEOUTELASTIC:return Up(n);case ze.EASEELASTIC:return Fp(n);case ze.EASEINBOUNCE:return Lp(n);case ze.EASEOUTEBOUNCE:return Dp(n);case ze.EASEBOUNCE:return Wp(n);default:return n}}function Ap(e){return e*e}function Ip(e){return e*(2-e)}function Np(e){return e*e/(2*(e*e-e)+1)}function Op(e){return 1-Math.cos(e*Math.PI/2)}function Cp(e){return Math.sin(e*Math.PI/2)}function Bp(e){return-(Math.cos(Math.PI*e)-1)/2}function zp(e){return e===0?0:Math.pow(2,10*e-10)}function Mp(e){return e===1?1:1-Math.pow(2,-10*e)}function vp(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}function Pp(e){let n=2*Math.PI/3;return e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*n)}function Up(e){let n=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*n)+1}function Fp(e){let n=2*Math.PI/4.5;return e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*n))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*n)/2+1}function Lp(e){return 1-vi(1-e)}function Dp(e){return vi(e)}function Wp(e){return e<.5?(1-vi(1-2*e))/2:(1+vi(2*e-1))/2}function vi(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function zu(e,n,i){let t=new Array,r=1/n,o=0;if(i){let s=e.length;for(let c=0;c<s;c++){o=0;for(let a=0;a<n;a++)t.push(O.catmullRom(e[c%s],e[(c+1)%s],e[(c+2)%s],e[(c+3)%s],o)),o+=r}t.push(t[0])}else{let s=new Array;s.push(O.clone(e[0])),Array.prototype.push.apply(s,e),s.push(O.clone(e[e.length-1]));let c=0;for(;c<s.length-3;c++){o=0;for(let a=0;a<n;a++)t.push(O.catmullRom(s[c],s[c+1],s[c+2],s[c+3],o)),o+=r}c--,t.push(O.catmullRom(s[c],s[c+1],s[c+2],s[c+3],o))}return t}function Mu(e,n,i,t){return e.x<=t.x&&n.x>=i.x&&e.y<=t.y&&n.y>=i.y&&e.z<=t.z&&n.z>=i.z}function vu(e,n,i,t){let r=O.distanceSquared(e,i),o=n+t;return r<o*o}function Ha(e,n,i,t){let r=0;return i.x<e.x&&(r+=(e.x-i.x)*(e.x-i.x)),i.x>n.x&&(r+=(i.x-n.x)*(i.x-n.x)),i.y<e.y&&(r+=(e.y-i.y)*(e.y-i.y)),i.y>n.y&&(r+=(i.y-n.y)*(i.y-n.y)),i.z<e.z&&(r+=(e.z-i.z)*(e.z-i.z)),i.z>n.z&&(r+=(i.z-n.z)*(i.z-n.z)),r<t*t}var Xe;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Xe||(Xe={}));function Vp(e){let n=new Map,i=0;function t(r){let o=[],s=[];for(let[c,a]of n)a.accumulatedTime+=1e3*r,!(a.accumulatedTime<a.interval)&&(s.push(a.callback),a.recurrent?a.accumulatedTime-=Math.floor(a.accumulatedTime/a.interval)*a.interval:o.push(c));for(let c of o)n.delete(c);for(let c of s)c()}return e.addSystem(t,Xe.TimerSystemPriority),{setTimeout(r,o){let s=i++;return n.set(s,{callback:r,interval:o,recurrent:!1,accumulatedTime:0}),s},clearTimeout(r){n.delete(r)},setInterval(r,o){let s=i++;return n.set(s,{callback:r,interval:o,recurrent:!0,accumulatedTime:0}),s},clearInterval(r){n.delete(r)}}}var Ga=Vp(te);var Mo;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(Mo||(Mo={}));function Hp(e,n){let i=e.defineComponent("dcl.utils.Toggle",{state:ee.EnumNumber(Mo,Mo.Off)}),t=new Map;return n.setInterval(function(){for(let r of t.keys())(e.getEntityState(r)==Ge.Removed||!i.has(r))&&t.delete(r)},5e3),{addToggle(r,o,s){t.set(r,s),i.createOrReplace(r,{state:o})},removeToggle(r){t.delete(r),i.deleteFrom(r)},setCallback(r,o){t.set(r,o)},set(r,o){if(i.get(r).state!=o){i.getMutable(r).state=o;let c=t.get(r);c&&c(o)}},flip(r){this.set(r,1-i.get(r).state)},isOn(r){return i.get(r).state==Mo.On}}}var Gp=Hp(te,Ga);function qp(e){let n={start:ee.Vector3,end:ee.Vector3,interpolationType:ee.EnumString(ze,ze.LINEAR),speed:ee.Float,normalizedTime:ee.Float},i=e.defineComponent("dcl.utils.PositionTween",n),t=e.defineComponent("dcl.utils.ScaleTween",n),r=e.defineComponent("dcl.utils.RotationTween",{start:ee.Quaternion,end:ee.Quaternion,interpolationType:ee.EnumString(ze,ze.LINEAR),speed:ee.Float,normalizedTime:ee.Float}),o=new Map,s=new Map,c=new Map;function a(x,F,b){return function(I){let E=[];for(let M of F.keys()){if(e.getEntityState(M)==Ge.Removed||!x.has(M)){F.delete(M);continue}let V=x.getMutable(M);V.normalizedTime=ke.clamp(V.normalizedTime+I*V.speed,0,1);let J=Va(V.interpolationType,V.normalizedTime);b(_e.getMutable(M),V.start,V.end,J),V.normalizedTime>=1&&E.push(M)}for(let M of E){let V=F.get(M);x.deleteFrom(M),F.delete(M),V&&V()}}}function u(x,F){return function(b){x.deleteFrom(b),F.delete(b)}}function d(x,F){return function(b,y,I,E,M=ze.LINEAR,V){F.set(b,V),x.createOrReplace(b,{start:y,end:I,speed:E==0?0:1/E,interpolationType:M,normalizedTime:E==0?1:0})}}function R(x){return function(F){if(!x.has(F))throw new Error(`Entity ${F} is not registered with tweens system`);return x.get(F)}}return e.addSystem(a(i,o,function(x,F,b,y){x.position=O.lerp(F,b,y)}),Xe.TweenSystemPriority),e.addSystem(a(r,s,function(x,F,b,y){x.rotation=Be.slerp(F,b,y)}),Xe.TweenSystemPriority),e.addSystem(a(t,c,function(x,F,b,y){x.scale=O.lerp(F,b,y)}),Xe.TweenSystemPriority),{startTranslation:d(i,o),stopTranslation:u(i,o),startRotation:d(r,s),stopRotation:u(r,s),startScaling:d(t,c),stopScaling:u(t,c),getTranslationOnFinishCallback:R(o),getRotationOnFinishCallback:R(s),getScalingOnFinishCallback:R(c)}}var jp=qp(te);function $p(e){let n=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:ee.Quaternion});function i(t){for(let[r,o]of e.getEntitiesWith(n,_e)){let s=Be.slerp(Be.Identity(),o.velocity,t),c=_e.getMutable(r);c.rotation=Be.normalize(Be.multiply(c.rotation,s))}}return e.addSystem(i,Xe.PerpetualMotionSystemPriority),{startRotation(t,r){n.createOrReplace(t,{velocity:r})},stopRotation(t){n.deleteFrom(t)}}}var Yp=$p(te);function Jp(e){let n=e.defineComponent("dcl.utils.FollowPath",{points:ee.Array(ee.Vector3),faceDirection:ee.Boolean,speed:ee.Number,normalizedTime:ee.Number,currentIndex:ee.Number,segmentTimes:ee.Array(ee.Number),curveSegmentCount:ee.Number}),i=new Map,t=new Map;function r(c){i.delete(c),t.delete(c),n.deleteFrom(c)}function o(c){let a=[],u=[];for(let d of i.keys()){if(e.getEntityState(d)==Ge.Removed||!n.has(d)){r(d);continue}let R=_e.getMutable(d),x=n.getMutable(d);for(x.normalizedTime=ke.clamp(x.normalizedTime+c*x.speed,0,1),x.normalizedTime>=1&&a.push(d);x.normalizedTime>=x.segmentTimes[x.currentIndex]&&x.currentIndex<x.points.length-1;){if(x.faceDirection){let y=O.subtract(x.points[x.currentIndex+1],x.points[x.currentIndex]);R.rotation=Be.lookRotation(y)}if(x.currentIndex>0&&x.currentIndex%x.curveSegmentCount==0){let y=x.currentIndex/x.curveSegmentCount,I=x.points[x.currentIndex],E=x.points[x.currentIndex+x.curveSegmentCount];u.push({entity:d,index:y,coords:I,nextCoords:E})}x.currentIndex+=1}let F=x.segmentTimes[x.currentIndex]-x.segmentTimes[x.currentIndex-1],b=(x.segmentTimes[x.currentIndex]-x.normalizedTime)/F;R.position=O.lerp(x.points[x.currentIndex],x.points[x.currentIndex-1],b)}for(let d of u){let R=t.get(d.entity);R&&R(d.index,d.coords,d.nextCoords)}for(let d of a){let R=i.get(d);r(d),R&&R()}}e.addSystem(o,Xe.PathSystemPriority);function s(c,a,u,d,R,x,F){if(a.length<2)throw new Error("At least 2 points are required to form a path.");if(u==0)throw new Error("Path duration must not be zero");if(R){let E=O.equals(a[0],a[a.length-1]);E&&(a.pop(),a.unshift(a.pop())),a=zu(a,R,E)}else R=1;i.set(c,x),t.set(c,F);let b=0,y=[];for(let E=0;E<a.length-1;E++){let M=O.distance(a[E],a[E+1]);b+=M,y.push(M)}let I=[0];for(let E=0;E<y.length;E++)I.push(y[E]/b+I[E]);n.createOrReplace(c,{points:a,segmentTimes:I,curveSegmentCount:R,speed:1/u,normalizedTime:0,currentIndex:0,faceDirection:d})}return{startStraightPath(c,a,u,d,R,x){return s(c,a,u,d,0,R,x)},startSmoothPath(c,a,u,d,R,x,F){if(d<2||!Number.isInteger(d))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${d}`);return s(c,a,u,R,d,x,F)},stopPath(c){r(c)},getOnFinishCallback(c){if(!i.has(c))throw new Error(`Entity ${c} is not registered in triggers system`);return i.get(c)}}}var qa=Jp(te);var ir=1;var Yt=255,vo=0;function Zp(e){let n=te.defineComponent("dcl.utils.Trigger",{active:ee.Boolean,layerMask:ee.Int,triggeredByMask:ee.Int,areas:ee.Array(ee.OneOf({box:ee.Map({position:ee.Vector3,scale:ee.Vector3}),sphere:ee.Map({position:ee.Vector3,radius:ee.Number})})),debugColor:ee.Color3}),i=new Map,t=new Map,r=!1,o=new Map,s=new Map;function c(b){if(b)for(let[y,I]of e.getEntitiesWith(n,_e)){let E=s.get(y),M=I.areas.length;for(;E.length>M;)e.removeEntity(E.pop());for(;E.length<M;)E.push(e.addEntity());let V=or(y),J=rr(y);for(let de=0;de<M;++de){let v=I.areas[de],L=E[de],$;if(v.$case=="box")$=v.value.scale,zi.setBox(L);else{let q=v.value.radius;$={x:q,y:q,z:q},zi.setSphere(L)}_e.createOrReplace(L,{position:O.add(V,O.rotate(v.value.position,J)),scale:$});let P=I.active?I.debugColor:fn.Black();Wa.setPbrMaterial(L,{albedoColor:Un.fromInts(255*P.r,255*P.g,255*P.b,75)})}}}function a(b,y,I,E){for(let M=0;M<y.areas.length;++M){let V=b[M],J=y.areas[M];if(J.$case=="box"){let de=J.value,v=O.subtract(V,O.scale(de.scale,.5)),L=O.add(v,de.scale);for(let $=0;$<E.areas.length;++$){let P=I[$],q=E.areas[$];if(q.$case=="box"){let S=q.value,A=O.subtract(P,O.scale(S.scale,.5)),U=O.add(A,S.scale);if(Mu(v,L,A,U))return!0}else if(Ha(v,L,P,q.value.radius))return!0}}else{let de=J.value.radius;for(let v=0;v<E.areas.length;++v){let L=I[v],$=E.areas[v];if($.$case=="box"){let P=$.value,q=O.subtract(L,O.scale(P.scale,.5)),S=O.add(q,P.scale);if(Ha(q,S,V,de))return!0}else if(vu(V,de,L,$.value.radius))return!0}}}return!1}function u(b,y){let I=new Set,E=n.get(b);if(!E.active)return I;for(let[M,V]of e.getEntitiesWith(n,_e)){if(M==b||!V.active||!(E.triggeredByMask&V.layerMask))continue;a(y.get(b),E,y.get(M),V)&&I.add(M)}return I}function d(){let b=[],y=[],I=new Map;for(let E of o.keys()){if(e.getEntityState(E)==Ge.Removed||!n.has(E)){for(let v of s.get(E))e.removeEntity(v);for(let v of o.values())v.has(E)&&v.delete(E);s.delete(E),o.delete(E),i.delete(E),t.delete(E);continue}let M=[],V=or(E),J=rr(E),de=n.get(E);for(let v of de.areas)M.push(O.add(V,O.rotate(v.value.position,J)));I.set(E,M)}for(let E of o.keys()){let M=u(E,I),V=o.get(E);for(let J of V)M.has(J)||y.push([E,J]);for(let J of M)V.has(J)||b.push([E,J]);o.set(E,M)}for(let[E,M]of b){let V=i.get(E);V&&V(M)}for(let[E,M]of y){let V=t.get(E);V&&V(M)}}function R(b){d(),c(r)}e.addSystem(R,Xe.TriggerSystemPriority);function x(b){b||(b=[{type:"box"}]);let y=[];for(let I of b)I.type=="box"?y.push({$case:"box",value:{position:I.position?I.position:O.Zero(),scale:I.scale?I.scale:O.One()}}):y.push({$case:"sphere",value:{position:I.position?I.position:O.Zero(),radius:I.radius?I.radius:1}});return y}let F={addTrigger(b,y=vo,I=vo,E,M,V,J){if(y<0||y>Yt||!Number.isInteger(y))throw new Error(`Bad layerMask: ${y}. Expected a non-negative integer no greater than ${Yt}`);if(I<0||I>Yt||!Number.isInteger(I))throw new Error(`Bad triggeredByMask: ${I}. Expected a non-negative integer no greater than ${Yt}`);s.set(b,[]),o.set(b,new Set),i.set(b,M),t.set(b,V),n.createOrReplace(b,{active:!0,layerMask:y,triggeredByMask:I,areas:x(E),debugColor:J||fn.Red()})},removeTrigger(b){let y=o.get(b),I=t.get(b);for(let M of s.get(b))e.removeEntity(M);s.delete(b),o.delete(b),i.delete(b),t.delete(b),n.deleteFrom(b);let E=[];for(let[M,V]of o)V.has(b)&&(V.delete(b),E.push(M));if(I)for(let M of y)I(M);for(let M of E){let V=t.get(M);V&&V(b)}},oneTimeTrigger(b,y=vo,I=vo,E,M,V){this.addTrigger(b,y,I,E,function(J){Po.removeTrigger(b),M&&M(J)},void 0,V)},enableTrigger(b,y){n.getMutable(b).active=y},isTriggerEnabled(b){return n.get(b).active},getLayerMask(b){return n.get(b).layerMask},setLayerMask(b,y){if(y<0||y>Yt||!Number.isInteger(y))throw new Error(`Bad layerMask: ${y}. Expected a non-negative integer no greater than ${Yt}`);n.getMutable(b).layerMask=y},getTriggeredByMask(b){return n.get(b).triggeredByMask},setTriggeredByMask(b,y){if(y<0||y>Yt||!Number.isInteger(y))throw new Error(`Bad layerMask: ${y}. Expected a non-negative integer no greater than ${Yt}`);n.getMutable(b).triggeredByMask=y},getAreas(b){return n.get(b).areas},setAreas(b,y){n.getMutable(b).areas=x(y)},setOnEnterCallback(b,y){i.set(b,y)},setOnExitCallback(b,y){t.set(b,y)},enableDebugDraw(b){if(r=b,!b)for(let y of s.values()){for(let I of y)e.removeEntity(I);y.length=0}},isDebugDrawEnabled(){return r}};return F.addTrigger(e.PlayerEntity,ir,vo,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:.15,z:0}}],void 0,void 0,fn.Green()),F}var Po=Zp(te);var ja;(function(e){class n{constructor(d,R,x){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=d,this.systemFn=F=>{this.update(F)},this.engine.addSystem(this.systemFn,Xe.ActionSystemPriority),R&&this.startSequence(R),x&&this.setOnFinishCallback(x)}startSequence(d){this.beginSequenceNode=d.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(d){this.onFinishCallback=d}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let d=this.currentSequenceNode;if(this.currentSequenceNode instanceof r)do d=d.currentInnerSequence;while(d instanceof r);return d.action}update(d){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(d);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=n;class i{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(d){if(this.currentSequenceNode==null)this.currentSequenceNode=new t,this.currentSequenceNode.action=d,this.beginSequenceNode=this.currentSequenceNode;else{let R=new t;R.action=d,this.currentSequenceNode=this.currentSequenceNode.then(R)}return this}if(d){let R=new o(d);return this.currentSequenceNode==null?(this.currentSequenceNode=R,this.beginSequenceNode=R):this.currentSequenceNode=this.currentSequenceNode.then(R),this}else(){let d=this.currentSequenceNode.getSequence();if(d instanceof o){d.closed=!0;let R=new s(d);this.currentSequenceNode=this.currentSequenceNode.then(R)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let d=this.currentSequenceNode.getSequence();if(d instanceof o||d instanceof s)d.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(d){let R=new c(d);return this.currentSequenceNode==null?(this.currentSequenceNode=R,this.beginSequenceNode=R):this.currentSequenceNode=this.currentSequenceNode.then(R),this.whileNodeStack.push(R),this}endWhile(){let d=this.currentSequenceNode.getSequence();if(d instanceof c)d.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new a(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=i;class t{constructor(){this.action=null,this.next=null}then(d){return this.next=d,d}onStart(){this.action&&this.action.onStart()}update(d){this.action&&this.action.update(d)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=t;class r extends t{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(d){if(this.currentInnerSequence==null)this.currentInnerSequence=d,this.startingInnerSequence=d;else{if(this.closed)return this.next=d,d;this.currentInnerSequence=this.currentInnerSequence.then(d)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(d){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(d))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let d=this.currentInnerSequence.getSequence();if(d instanceof r&&!d.closed)return d}return this}}class o extends r{constructor(d){super(),this.result=!1,this.condition=d}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class s extends r{constructor(d){super(),this.ifSequence=null,this.ifSequence=d}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class c extends r{constructor(d){super(),this.breakWhile=!1,this.condition=d}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(d){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(d))}hasFinish(){return this.breakWhile||!this.condition()}}class a extends t{constructor(d){super(),this.whileNode=d}onStart(){this.whileNode.breakWhile=!0}}})(ja||(ja={}));var Pi=te.addEntity();_e.create(Pi);Fa.create(Pi,{audioClipUrl:"sounds/coinPickup.mp3"});function Uu(e,n,i,t){let r=te.addEntity();return $t.create(r,{src:e}),_e.create(r,{position:n}),Po.oneTimeTrigger(r,1,1,[{type:"box"}],()=>{_e.getMutable(Pi).position=_e.get(te.PlayerEntity).position,Fa.getMutable(Pi).playing=!0,te.removeEntity(r)},fn.Yellow()),r}var qu=require("~system/Runtime");var Ja=require("~system/EngineApi");function Fu(e){let n=ct.getHeader(e);return n?n.type===ne.PUT_COMPONENT?Lt.read(e):n.type===ne.DELETE_COMPONENT?Ft.read(e):n.type===ne.APPEND_VALUE?jt.read(e):n.type===ne.DELETE_ENTITY?Mn.read(e):null:null}function*Uo(e,n,i){let t=new Ce(n),r;for(;r=Fu(t);){let o=`0x${r.entityId.toString(16)}`,s=`${e}: ${ne[r.type]} e=${o}`;if(r.type===ne.PUT_COMPONENT||r.type===ne.DELETE_COMPONENT||r.type===ne.APPEND_VALUE){let{componentId:c,timestamp:a}=r,u="data"in r?r.data:void 0;try{let d=i.getComponent(c);yield`${s} c=${d.componentName} t=${a} data=${JSON.stringify(u&&d.schema.deserialize(new Ce(u))||null)}`}catch{yield`${s} c=${c} t=${a} data=?`}}else r.type===ne.DELETE_ENTITY?yield s:yield`${s} Unknown CrdtMessageType`}}function Lu(){let e=new Ce,n=new Set(Array.from(te.getEntitiesWith(Ot)).map(i=>i[0]));for(let i of te.componentsIter())i.dumpCrdtStateToBuffer(e,t=>n.has(t));return e.toBinary()}function Du(e){let n=new Ce;return n.writeUtf8String(e),n.readBuffer()}function $a(e,n){let i=new Uint8Array(n.byteLength+1);return i.set([e]),i.set(n,1),i}function Ui(e,n){return te.addNetworkManager(e,n)}function ar(e){if(!Fi||e.componentId===xu.componentId||e.entityId<=qt||e.entityId<=Bn)return!1;if(e.timestamp<=1)return!0;let n=Ot.getOrNull(e.entityId);return n?!!(e.componentId&&n.componentIds.includes(e.componentId)):!1}var Ya=new Set;async function Wu(){return te.addTransport({send:async e=>{e.byteLength&&globalThis.updateCRDTState(Lu())},filter:ar}),globalThis.registerClientObserver(e=>{let{type:n}=e;if(n==="open"){let{clientId:i,client:t}=e,r={filter:o=>Ya.has(i)?ar(o):!1,send:async o=>{if(o.byteLength>0&&await t.sendCrdtMessage(o),r.onmessage){let s=t.getMessages();for(let c of s){let a=Array.from(Uo("RecievedMessages",c,te));a.length&&console.log(a),r.onmessage(c)}}}};te.addTransport(r),Ya.add(e.clientId)}else n==="close"&&Ya.delete(e.clientId)}),Ui(2560,[2560,2560+512])}var Vu=require("~system/SignedFetch");var Fn;(function(e){e[e.Auth=1]="Auth",e[e.Init=2]="Init",e[e.Crdt=3]="Crdt"})(Fn||(Fn={}));async function Hu(e){let n=[];return new Promise((i,t)=>{try{let r=new WebSocket(e);r.binaryType="arraybuffer",r.onopen=async()=>{console.log("WS Server Sync connected");let{headers:o}=await(0,Vu.getHeaders)({url:e,init:{headers:{}}});r.send($a(Fn.Auth,Du(JSON.stringify(o))));let s={filter:ar,send:async c=>{if(r.send($a(Fn.Crdt,c)),n&&n.length&&s.onmessage)for(let a of n){let u=Array.from(Uo("RecievedMessages",a,te));u.length&&console.log(u),s.onmessage(a)}n.length=0}};te.addTransport(s)},r.onmessage=o=>{if(o.data.byteLength){let s=0,c=new Uint8Array(o.data),a=new DataView(c.buffer),u=a.getUint8(s);if(s+=1,u===Fn.Crdt)n.push(c.subarray(s));else if(u===Fn.Init){let d=a.getUint32(s);s+=4;let R=a.getUint32(s);s+=4;let x=a.getUint32(s);s+=4,i(Ui(x,[d,d+R])),n.push(c.subarray(s))}}},r.onerror=o=>{console.error(o),t(o)}}catch(r){t(r)}})}var Fi=!1;async function Gu(e){if(Fi)throw new Error("Transport is already created");let n=await(Ja.isServer&&(await(0,Ja.isServer)({})).isServer?Wu():Hu(e));return Fi=!0,n}var Za=require("~system/EngineApi");async function Li(){let n=(await(0,qu.getRealm)({})).realmInfo?.isPreview?"ws://127.0.0.1:3000/ws/localScene":"wss://scene-state-server.decentraland.org/ws/MaximoCossetti.dcl.eth",i=await Gu(n),t=Za.isServer&&(await(0,Za.isServer)({})).isServer;$t.create(te.addEntity(),{src:"models/baseLight.glb"}),$t.create(te.addEntity(),{src:"models/staticPlatforms.glb"});let r=i.addEntity();$t.create(r,{src:"models/triggerPlatform.glb"}),_e.create(r,{position:O.create(14,4,12)}),Ot.create(r,{componentIds:[_e.componentId]});let o=te.addEntity();if(_e.create(o,{parent:r}),Po.addTrigger(o,ir,ir,[{type:"box",scale:O.create(1,2,1)}],()=>{cr(r,[O.create(14,4,12),O.create(14,4,4),O.create(14,4,12)],20,!1,!1)}),Uu("models/starCoin.glb",O.create(9,12.75,8),O.create(1.5,3,1.5),O.create(0,1,0)),t){let s=i.addEntity();$t.create(s,{src:"models/movingPlatform.glb"}),_e.create(s,{position:O.create(2,1.5,8)}),Ot.create(s,{componentIds:[_e.componentId]});let c=i.addEntity();$t.create(c,{src:"models/movingPlatform.glb"}),_e.create(c,{position:O.create(4,1.5,14)}),Ot.create(c,{componentIds:[_e.componentId]});let a=i.addEntity();$t.create(a,{src:"models/movingPlatform.glb"}),_e.create(a,{position:O.create(6.5,7,4)}),Ot.create(a,{componentIds:[_e.componentId]}),cr(s,[O.create(2,1.5,8),O.create(2,1.5,10),O.create(2,1.5,8)],3,!1,!0),cr(c,[O.create(4,1.5,14),O.create(4,4,14),O.create(4,1.5,14)],2,!1,!0),cr(a,[O.create(6.5,7,4),O.create(6.5,7,12),O.create(6.5,10.5,12),O.create(6.5,10.5,4),O.create(6.5,7,4)],40,!1,!0)}}function cr(e,n,i,t,r){qa.startStraightPath(e,n,i,!1,function(){r&&cr(e,n,i,t,r)})}var un=require("~system/EngineApi");function ju(e){async function n(t){let r=await e.crdtSendToRenderer({data:new Uint8Array(t)});if(r&&r.data&&r.data.length&&i.onmessage)for(let o of r.data)i.onmessage(o)}let i={async send(t){try{await n(t)}catch(r){console.error(r);debugger}},filter(t){return t.componentId>Oa?!1:!!t}};return i}var Xa=class{constructor(n,i=!1,t,r){this.initalize(n,i,t,r)}initalize(n,i=!1,t,r){return this.mask=n,this.skipNextObservers=i,this.target=t,this.currentTarget=r,this}},Ka=class{constructor(n,i,t=null){this.callback=n,this.mask=i,this.scope=t,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},st=class e{constructor(n){this._observers=new Array,this._onObserverAdded=null,this._eventState=new Xa(0),n&&(this._onObserverAdded=n)}add(n,i=-1,t=!1,r=null,o=!1){if(!n)return null;let s=new Ka(n,i,r);return s.unregisterOnNextCall=o,t?this._observers.unshift(s):this._observers.push(s),this._onObserverAdded&&this._onObserverAdded(s),s}addOnce(n){return this.add(n,void 0,void 0,void 0,!0)}remove(n){return n&&this._observers.indexOf(n)!==-1?(this._deferUnregister(n),!0):!1}removeCallback(n,i){for(let t=0;t<this._observers.length;t++)if(this._observers[t].callback===n&&(!i||i===this._observers[t].scope))return this._deferUnregister(this._observers[t]),!0;return!1}notifyObservers(n,i=-1,t,r){if(!this._observers.length)return!0;let o=this._eventState;o.mask=i,o.target=t,o.currentTarget=r,o.skipNextObservers=!1,o.lastReturnValue=n;for(let s of this._observers)if(!s._willBeUnregistered&&(s.mask&i&&(s.scope?o.lastReturnValue=s.callback.apply(s.scope,[n,o]):o.lastReturnValue=s.callback(n,o),s.unregisterOnNextCall&&this._deferUnregister(s)),o.skipNextObservers))return!1;return!0}notifyObserversWithPromise(n,i=-1,t,r){let o=Promise.resolve(n);if(!this._observers.length)return o;let s=this._eventState;return s.mask=i,s.target=t,s.currentTarget=r,s.skipNextObservers=!1,this._observers.forEach(c=>{s.skipNextObservers||c._willBeUnregistered||c.mask&i&&(c.scope?o=o.then(a=>(s.lastReturnValue=a,c.callback.apply(c.scope,[n,s]))):o=o.then(a=>(s.lastReturnValue=a,c.callback(n,s))),c.unregisterOnNextCall&&this._deferUnregister(c))}),o.then(()=>n)}notifyObserver(n,i,t=-1){let r=this._eventState;r.mask=t,r.skipNextObservers=!1,n.callback(i,r)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let n=new e;return n._observers=this._observers.slice(0),n}hasSpecificMask(n=-1){for(let i of this._observers)if(i.mask&n||i.mask===n)return!0;return!1}_deferUnregister(n){n.unregisterOnNextCall=!1,n._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(n)).catch(console.error)}_remove(n){if(!n)return!1;let i=this._observers.indexOf(n);return i!==-1?(this._observers.splice(i,1),!0):!1}};var $u=require("~system/EngineApi"),Kp=$u.subscribe;function Bt(e){return()=>{Kp({eventId:e}).catch(console.error)}}var Qp=new st(Bt("onEnterScene"));var em=new st(Bt("onLeaveScene"));var tm=new st(Bt("sceneStart")),nm=new st(Bt("playerExpression")),om=new st(Bt("videoEvent")),rm=new st(Bt("profileChanged")),im=new st(Bt("playerConnected")),am=new st(Bt("playerDisconnected")),cm=new st(Bt("onRealmChanged")),sm=new st(Bt("playerClicked")),fm=new st(Bt("comms"));async function Yu(e){let{events:n}=await e({actions:[]});for(let i of n)if(i.generic){let t=JSON.parse(i.generic.eventData);switch(i.generic.eventId){case"onEnterScene":{Qp.notifyObservers(t);break}case"onLeaveScene":{em.notifyObservers(t);break}case"sceneStart":{tm.notifyObservers(t);break}case"playerExpression":{nm.notifyObservers(t);break}case"videoEvent":{let r=t;om.notifyObservers(r);break}case"profileChanged":{rm.notifyObservers(t);break}case"playerConnected":{im.notifyObservers(t);break}case"playerDisconnected":{am.notifyObservers(t);break}case"onRealmChanged":{cm.notifyObservers(t);break}case"playerClicked":{sm.notifyObservers(t);break}case"comms":{fm.notifyObservers(t);break}}}}var Qa={};var Di=[],ec={getCompositeOrNull(e,n){let i=Qa[e];if(i){try{if(i instanceof Uint8Array){let t=an.fromBinary(i);Di.push({src:e,composite:t})}else if(typeof i=="string"){let t=an.fromJson(JSON.parse(i));Di.push({src:e,composite:t})}else if(typeof i=="object"){let t=an.fromJson(i);Di.push({src:e,composite:t})}}catch(t){console.error(t)}delete Qa[e]}return Di.find(t=>t.src===e)||null}};function Ju(e){async function n(t){if(!e.crdtSendNetwork)return;let r=await e.crdtSendNetwork({data:new Uint8Array(t)});if(r&&r.data&&r.data.length&&i.onmessage)for(let o of r.data)i.onmessage(o)}let i={async send(t){try{let r=Array.from(Uo("SyncNetwork",t,te));r.length&&console.log(r),await n(t)}catch(r){console.error(r)}},filter(t){if(t.componentId===1063||t.entityId<=qt)return!1;if(t.timestamp<=1)return!0;let r=Ot.getOrNull(t.entityId);return r?!!(t.componentId&&r.componentIds.includes(t.componentId)):!1}};return i}var Wi=ju({crdtSendToRenderer:un.crdtSendToRenderer});te.addTransport(Wi);var Zu=!1;function um(){Zu||(Zu=!0,te.addTransport(Ju({crdtSendNetwork:un.crdtSendNetwork})))}async function dm(e){te.seal(),await te.update(e),await Yu(un.sendBatch)}async function lm(){let e=await(0,un.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let n=ec.getCompositeOrNull("main.composite");if(n)try{an.instance(te,n,ec)}catch(i){console.log("Warning: main.composite couldn't be instanced."),console.error(i)}}if(Wi.onmessage&&e&&e.data&&e.data.length)for(let n of e.data)Wi.onmessage(n)}if(Li!==void 0){let e=function(){let n=Li();n&&typeof n=="object"&&typeof n.then=="function"&&n.catch(console.error),te.removeSystem(e)};te.addSystem(e,1/0)}
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
